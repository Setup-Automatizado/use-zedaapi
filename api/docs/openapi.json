{
  "openapi": "3.1.0",
  "info": {
    "title": "Zé da API (Whatsmeow Bridge)",
    "version": "0.1.0",
    "description": "REST API, backed by Whatsmeow.\nThe specification currently covers the instance management surface implemented in this phase.\n"
  },
  "servers": [
    {
      "url": "https://api.example.com",
      "description": "Production placeholder"
    },
    {
      "url": "http://localhost:8080",
      "description": "Local development"
    }
  ],
  "tags": [
    {
      "name": "System",
      "description": "Health checks and system status endpoints"
    },
    {
      "name": "Instance",
      "description": "WhatsApp instance lifecycle management (connect, disconnect, QR code)"
    },
    {
      "name": "Webhooks",
      "description": "Webhook configuration for receiving events"
    },
    {
      "name": "Messages",
      "description": "Send and manage WhatsApp messages"
    },
    {
      "name": "Contacts",
      "description": "Contact management and validation"
    },
    {
      "name": "Groups",
      "description": "Group chat management"
    },
    {
      "name": "Communities",
      "description": "WhatsApp Communities management"
    },
    {
      "name": "Newsletters",
      "description": "WhatsApp Channels/Newsletters management"
    },
    {
      "name": "Partner",
      "description": "Partner/integrator management endpoints"
    },
    {
      "name": "Queue",
      "description": "Message queue inspection and management"
    },
    {
      "name": "Status Cache",
      "description": "Message delivery status caching system for tracking receipts (sent, delivered, read, played).\nParticularly useful for group messages where tracking individual participant statuses is important.\n\n**Key Features:**\n- Cache status events in Redis for 24 hours (configurable TTL)\n- Query by messageId, groupId, or phone\n- Aggregate participant statistics for group messages\n- Optional webhook suppression to reduce serverless costs\n- Manual flush to trigger pending webhooks\n\n**Data Retrieval Options:**\n\n1. **API Pull (Query on Demand)**\n   - Use `/messages-status` endpoint to query cached statuses\n   - Filter by `messageId`, `groupId`, or `phone`\n   - Supports pagination with `limit` and `offset`\n   - Returns aggregated or raw format\n   - **No webhook configuration required**\n\n2. **Webhook Push (Automatic Delivery)**\n   - Configure `messageStatusCallbackUrl` (primary) or `deliveryCallbackUrl` (fallback)\n   - StatusCache automatically flushes aggregated data to webhook\n   - Flush triggered by interval (`STATUS_CACHE_FLUSH_INTERVAL`) or threshold (`STATUS_CACHE_FLUSH_THRESHOLD`)\n   - Use `/messages-status/flush` for manual flush\n\n**Webhook Configuration:**\n- **Without webhook**: Status events are cached and available via API only\n- **With webhook**: Status events are cached AND automatically delivered via flush\n- Webhook URLs: `messageStatusCallbackUrl` (recommended) or `deliveryCallbackUrl` (legacy fallback)\n\n**Environment Variables:**\n- `STATUS_CACHE_ENABLED`: Enable/disable caching (default: false)\n- `STATUS_CACHE_TTL`: Cache expiration time (default: 24h)\n- `STATUS_CACHE_TYPES`: Receipt types to cache (default: read,delivered,played,sent)\n- `STATUS_CACHE_SCOPE`: Scope filter - groups, direct, or both (default: groups)\n- `STATUS_CACHE_SUPPRESS_WEBHOOKS`: Suppress individual receipt webhooks (default: true)\n- `STATUS_CACHE_FLUSH_INTERVAL`: Auto-flush interval (default: 30s)\n- `STATUS_CACHE_FLUSH_THRESHOLD`: Auto-flush threshold count (default: 100)\n"
    },
    {
      "name": "Media",
      "description": "Media file storage and serving system.\n\n**Key Features:**\n- Serve media files with HMAC signature validation\n- Time-limited signed URLs for secure access\n- Statistics endpoint for storage monitoring\n- Instance-scoped media organization\n"
    },
    {
      "name": "Privacy",
      "description": "WhatsApp privacy settings management.\n\n**Key Features:**\n- Get and update privacy settings for the connected account\n- Control who can see last seen, profile photo, about, status\n- Manage read receipts and online status visibility\n- Configure group add and call permissions\n"
    },
    {
      "name": "Profile",
      "description": "WhatsApp profile management for the connected account.\n\n**Key Features:**\n- Update profile name (push name)\n- Update profile picture\n- Update profile description (About/Status)\n"
    },
    {
      "name": "Proxy",
      "description": "Per-instance proxy configuration and health monitoring.\n\n**Key Features:**\n- Configure HTTP, HTTPS, or SOCKS5 proxies per instance\n- Test proxy connectivity before applying\n- Hot-swap proxy on active connections without losing WhatsApp session\n- Automatic health monitoring with configurable failure thresholds\n- DLQ protection: messages queued to DLQ when proxy is unhealthy\n- Granular control: separate proxy for websocket, media, or login only\n\n**Supported Proxy Schemes:**\n- `http://host:port` - HTTP proxy\n- `https://host:port` - HTTPS proxy\n- `socks5://user:pass@host:port` - SOCKS5 proxy with optional auth\n\n**Health Check Behavior:**\n- Periodic TCP connectivity test through proxy to web.whatsapp.com:443\n- After N consecutive failures (default: 3), proxy marked as unhealthy\n- Unhealthy proxies are not applied to new connections\n- Webhook notification sent to instance's disconnected URL on failure\n- Pending messages moved to DLQ to prevent cascade failures\n\n**Environment Variables:**\n- `PROXY_HEALTH_CHECK_INTERVAL`: Check interval (default: 60s)\n- `PROXY_HEALTH_CHECK_TIMEOUT`: Check timeout (default: 10s)\n- `PROXY_MAX_CONSECUTIVE_FAILURES`: Failure threshold (default: 3)\n- `PROXY_DLQ_ON_UNHEALTHY`: Move messages to DLQ on failure (default: true)\n- `PROXY_PAUSE_QUEUE_ON_UNHEALTHY`: Pause queue on failure (default: true)\n"
    }
  ],
  "components": {
    "securitySchemes": {
      "ClientTokenAuth": {
        "type": "apiKey",
        "in": "header",
        "name": "Client-Token",
        "description": "Instance client token obtained during provisioning."
      },
      "PartnerBearer": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "Partner integrator bearer token."
      }
    },
    "parameters": {
      "InstanceId": {
        "name": "instanceId",
        "in": "path",
        "required": true,
        "schema": {
          "type": "string",
          "format": "uuid"
        },
        "description": "Unique instance identifier."
      },
      "InstanceToken": {
        "name": "instanceToken",
        "in": "path",
        "required": true,
        "schema": {
          "type": "string"
        },
        "description": "Token returned during provisioning."
      }
    },
    "schemas": {
      "ProxyUpdateRequest": {
        "type": "object",
        "required": [
          "proxyUrl"
        ],
        "properties": {
          "proxyUrl": {
            "type": "string",
            "description": "Proxy URL (http, https, or socks5 scheme)",
            "example": "socks5://user:pass@proxy.example.com:1080"
          },
          "noWebsocket": {
            "type": "boolean",
            "description": "Do not use proxy for websocket connections",
            "default": false
          },
          "onlyLogin": {
            "type": "boolean",
            "description": "Use proxy only for pre-login websocket",
            "default": false
          },
          "noMedia": {
            "type": "boolean",
            "description": "Do not use proxy for media uploads/downloads",
            "default": false
          }
        }
      },
      "ProxyTestRequest": {
        "type": "object",
        "required": [
          "proxyUrl"
        ],
        "properties": {
          "proxyUrl": {
            "type": "string",
            "description": "Proxy URL to test",
            "example": "http://proxy.example.com:8080"
          }
        }
      },
      "ProxySwapRequest": {
        "type": "object",
        "required": [
          "proxyUrl"
        ],
        "properties": {
          "proxyUrl": {
            "type": "string",
            "description": "New proxy URL to hot-swap to",
            "example": "socks5://new-proxy.example.com:1080"
          }
        }
      },
      "ProxyConfig": {
        "type": "object",
        "properties": {
          "proxyUrl": {
            "type": "string",
            "nullable": true,
            "description": "Configured proxy URL (credentials masked)"
          },
          "proxyEnabled": {
            "type": "boolean",
            "description": "Whether proxy is active for this instance"
          },
          "healthStatus": {
            "type": "string",
            "enum": [
              "healthy",
              "unhealthy",
              "unknown"
            ],
            "description": "Current proxy health status"
          },
          "lastHealthCheck": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "Timestamp of last health check"
          },
          "healthFailures": {
            "type": "integer",
            "description": "Consecutive health check failures"
          },
          "noWebsocket": {
            "type": "boolean"
          },
          "onlyLogin": {
            "type": "boolean"
          },
          "noMedia": {
            "type": "boolean"
          }
        }
      },
      "ProxyTestResponse": {
        "type": "object",
        "properties": {
          "reachable": {
            "type": "boolean",
            "description": "Whether the proxy can reach WhatsApp servers"
          },
          "latencyMs": {
            "type": "integer",
            "description": "Round-trip latency in milliseconds"
          },
          "error": {
            "type": "string",
            "description": "Error message if unreachable"
          }
        }
      },
      "ProxyHealthResponse": {
        "type": "object",
        "properties": {
          "proxy": {
            "$ref": "#/components/schemas/ProxyConfig"
          },
          "logs": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "integer"
                },
                "instanceId": {
                  "type": "string",
                  "format": "uuid"
                },
                "proxyUrl": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": [
                    "healthy",
                    "unhealthy",
                    "timeout",
                    "unreachable"
                  ]
                },
                "latencyMs": {
                  "type": "integer",
                  "nullable": true
                },
                "errorMessage": {
                  "type": "string",
                  "nullable": true
                },
                "checkedAt": {
                  "type": "string",
                  "format": "date-time"
                }
              }
            }
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string"
          }
        },
        "required": [
          "error"
        ]
      },
      "HealthStatusResponse": {
        "type": "object",
        "description": "Liveness probe response.",
        "properties": {
          "status": {
            "type": "string",
            "example": "ok"
          },
          "service": {
            "type": "string",
            "example": "zedaapi"
          }
        },
        "required": [
          "status",
          "service"
        ],
        "additionalProperties": false
      },
      "ReadinessComponentStatus": {
        "type": "object",
        "description": "Status information for a single dependency checked by the readiness probe.",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "healthy",
              "degraded",
              "unhealthy"
            ]
          },
          "error": {
            "type": [
              "string",
              "null"
            ]
          },
          "duration_ms": {
            "type": "integer",
            "format": "int64",
            "description": "Time spent executing the check in milliseconds."
          },
          "circuit_state": {
            "type": [
              "string",
              "null"
            ],
            "description": "Circuit breaker state reported by the lock manager (when available)."
          }
        },
        "required": [
          "status"
        ],
        "additionalProperties": false
      },
      "ReadinessResponse": {
        "type": "object",
        "description": "Readiness probe payload containing aggregated dependency status.",
        "properties": {
          "ready": {
            "type": "boolean"
          },
          "observed_at": {
            "type": "string",
            "format": "date-time"
          },
          "checks": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/ReadinessComponentStatus"
            },
            "description": "Map of dependency name to component status (e.g. `database`, `redis`)."
          }
        },
        "required": [
          "ready",
          "observed_at",
          "checks"
        ],
        "additionalProperties": false
      },
      "InstanceStatusResponse": {
        "type": "object",
        "description": "payload returned by `/instances/{instanceId}/token/{instanceToken}/status`.",
        "properties": {
          "connected": {
            "type": "boolean",
            "description": "Mirrors Zé da API `connected`, indicating if the instance is linked to WhatsApp."
          },
          "error": {
            "type": [
              "string",
              "null"
            ],
            "description": "Same semantics as Zé da API, detailing why the instance is not connected (empty string when everything is ok)."
          },
          "smartphoneConnected": {
            "type": "boolean",
            "description": "Matches Zé da API `smartphoneConnected`, signalling if the paired device has internet access."
          }
        },
        "required": [
          "connected",
          "error",
          "smartphoneConnected"
        ],
        "additionalProperties": false
      },
      "QRCodeImageResponse": {
        "type": "object",
        "properties": {
          "image": {
            "type": "string",
            "description": "PNG image encoded as data URL (`data:image/png;base64,...`)."
          }
        },
        "required": [
          "image"
        ],
        "additionalProperties": false
      },
      "PhoneCodeResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "Six-character pairing code formatted with dash (e.g., `ABCD-EF`)."
          }
        },
        "required": [
          "code"
        ],
        "additionalProperties": false
      },
      "InstanceDeviceDetails": {
        "type": "object",
        "properties": {
          "sessionName": {
            "type": "string"
          },
          "device_model": {
            "type": "string"
          },
          "wa_version": {
            "type": "string"
          },
          "mcc": {
            "type": "string"
          },
          "mnc": {
            "type": "string"
          },
          "os_version": {
            "type": "string"
          },
          "device_manufacturer": {
            "type": "string"
          },
          "osbuildnumber": {
            "type": "string"
          },
          "platform": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "InstanceDeviceResponse": {
        "type": "object",
        "properties": {
          "phone": {
            "type": "string",
            "description": "WhatsApp number linked to the instance."
          },
          "imgUrl": {
            "type": [
              "string",
              "null"
            ],
            "description": "Direct URL to the current profile picture (null when unavailable)."
          },
          "name": {
            "type": "string",
            "description": "Latest push name associated with the instance."
          },
          "device": {
            "$ref": "#/components/schemas/InstanceDeviceDetails"
          },
          "originalDevice": {
            "type": "string",
            "description": "Raw device/platform identifier reported by WhatsApp (e.g. `smba`, `smbi`)."
          },
          "sessionId": {
            "type": "integer",
            "format": "int64",
            "description": "Device identifier assigned by WhatsApp (0 for the primary phone)."
          },
          "isBusiness": {
            "type": "boolean",
            "description": "Indicates if the paired account is a business profile."
          }
        },
        "required": [
          "phone",
          "imgUrl",
          "name",
          "device",
          "sessionId",
          "isBusiness"
        ],
        "additionalProperties": false
      },
      "OperationStatusResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string"
          }
        },
        "required": [
          "status"
        ],
        "additionalProperties": false
      },
      "WebhookSettings": {
        "type": "object",
        "properties": {
          "deliveryCallbackUrl": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri"
          },
          "receivedCallbackUrl": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri"
          },
          "receivedAndDeliveryCallbackUrl": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri"
          },
          "messageStatusCallbackUrl": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri"
          },
          "disconnectedCallbackUrl": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri"
          },
          "presenceChatCallbackUrl": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri"
          },
          "connectedCallbackUrl": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri"
          },
          "historySyncCallbackUrl": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri",
            "description": "Dedicated webhook endpoint for WhatsApp history sync events."
          },
          "notifySentByMe": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "WebhookValueRequest": {
        "type": "object",
        "properties": {
          "value": {
            "type": "string",
            "description": "HTTPS endpoint that should receive the webhook."
          }
        },
        "required": [
          "value"
        ],
        "additionalProperties": false
      },
      "WebhookEveryRequest": {
        "type": "object",
        "properties": {
          "value": {
            "type": "string",
            "description": "HTTPS endpoint applied to all webhook types."
          },
          "notifySentByMe": {
            "type": "boolean",
            "description": "Optional flag to also toggle the notify-sent-by-me option."
          }
        },
        "required": [
          "value"
        ],
        "additionalProperties": false
      },
      "BoolValueRequest": {
        "type": "object",
        "properties": {
          "value": {
            "type": "boolean",
            "description": "Boolean value for the setting."
          }
        },
        "required": [
          "value"
        ],
        "additionalProperties": false
      },
      "StringValueRequest": {
        "type": "object",
        "properties": {
          "value": {
            "type": "string",
            "description": "String value for the setting."
          }
        },
        "required": [
          "value"
        ],
        "additionalProperties": false
      },
      "ValueResponse": {
        "type": "object",
        "properties": {
          "value": {
            "type": "boolean",
            "description": "Indicates whether the operation was successful."
          }
        },
        "additionalProperties": false
      },
      "NotifySentByMeRequest": {
        "type": "object",
        "properties": {
          "notifySentByMe": {
            "type": "boolean"
          }
        },
        "required": [
          "notifySentByMe"
        ],
        "additionalProperties": false
      },
      "WebhookUpdateResponse": {
        "type": "object",
        "properties": {
          "value": {
            "type": "boolean",
            "description": "Indicates whether the update was accepted."
          },
          "webhooks": {
            "$ref": "#/components/schemas/WebhookSettings"
          }
        },
        "required": [
          "value"
        ],
        "additionalProperties": false
      },
      "PartnerInstanceCreateRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Display name for the instance."
          },
          "sessionName": {
            "type": "string",
            "description": "Optional session identifier used by partners."
          },
          "deliveryCallbackUrl": {
            "type": "string",
            "format": "uri"
          },
          "receivedCallbackUrl": {
            "type": "string",
            "format": "uri"
          },
          "receivedAndDeliveryCallbackUrl": {
            "type": "string",
            "format": "uri"
          },
          "disconnectedCallbackUrl": {
            "type": "string",
            "format": "uri"
          },
          "connectedCallbackUrl": {
            "type": "string",
            "format": "uri"
          },
          "messageStatusCallbackUrl": {
            "type": "string",
            "format": "uri"
          },
          "presenceChatCallbackUrl": {
            "type": "string",
            "format": "uri"
          },
          "historySyncCallbackUrl": {
            "type": "string",
            "format": "uri",
            "description": "Dedicated webhook endpoint for WhatsApp history sync events."
          },
          "notifySentByMe": {
            "type": "boolean",
            "default": false
          },
          "callRejectAuto": {
            "type": "boolean",
            "description": "When true, the instance rejects calls automatically."
          },
          "callRejectMessage": {
            "type": "string",
            "description": "Message returned when a call is rejected automatically."
          },
          "autoReadMessage": {
            "type": "boolean",
            "description": "When true, messages are marked as read automatically."
          },
          "isDevice": {
            "type": "boolean",
            "default": false
          },
          "businessDevice": {
            "type": "boolean",
            "default": true
          }
        },
        "required": [
          "name"
        ],
        "additionalProperties": false
      },
      "PartnerInstanceCreateResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "identifier (duplicate of instanceId)."
          },
          "token": {
            "type": "string",
            "description": "instance token."
          },
          "due": {
            "type": "integer",
            "format": "int64",
            "description": "Millisecond timestamp returned."
          },
          "instanceId": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "sessionName": {
            "type": "string"
          },
          "instanceToken": {
            "type": "string"
          },
          "subscriptionActive": {
            "type": "boolean"
          },
          "callRejectAuto": {
            "type": "boolean"
          },
          "callRejectMessage": {
            "type": [
              "string",
              "null"
            ]
          },
          "autoReadMessage": {
            "type": "boolean"
          },
          "middleware": {
            "type": "string",
            "enum": [
              "web",
              "mobile"
            ]
          },
          "webhooks": {
            "$ref": "#/components/schemas/WebhookSettings"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "token",
          "due",
          "instanceId",
          "name",
          "sessionName",
          "instanceToken",
          "subscriptionActive",
          "createdAt"
        ],
        "additionalProperties": false
      },
      "InstanceListItem": {
        "type": "object",
        "description": "instance summary enriched with internal credentials.",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Instance identifier (Zé da API field)."
          },
          "token": {
            "type": "string",
            "description": "Instance token used by Zé da API clients."
          },
          "due": {
            "type": "integer",
            "format": "int64",
            "description": "Millisecond timestamp used by Zé da API tooling."
          },
          "name": {
            "type": "string",
            "description": "Human friendly name for the instance."
          },
          "created": {
            "type": "string",
            "format": "date-time",
            "description": "ISO-8601 creation timestamp."
          },
          "phoneConnected": {
            "type": "boolean",
            "description": "True when a phone is connected (derived from registry snapshot)."
          },
          "whatsappConnected": {
            "type": "boolean",
            "description": "True when the WhatsApp session is connected."
          },
          "middleware": {
            "type": "string",
            "description": "Middleware flag returned.",
            "enum": [
              "web",
              "mobile"
            ]
          },
          "deliveryCallbackUrl": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri"
          },
          "receivedCallbackUrl": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri"
          },
          "receivedAndDeliveryCallbackUrl": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri"
          },
          "disconnectedCallbackUrl": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri"
          },
          "connectedCallbackUrl": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri"
          },
          "messageStatusCallbackUrl": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri"
          },
          "presenceChatCallbackUrl": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri"
          },
          "historySyncCallbackUrl": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri",
            "description": "Dedicated webhook endpoint for WhatsApp history sync events."
          },
          "sessionName": {
            "type": "string",
            "description": "Underlying WhatsApp session display name."
          },
          "callRejectAuto": {
            "type": "boolean"
          },
          "callRejectMessage": {
            "type": [
              "string",
              "null"
            ]
          },
          "autoReadMessage": {
            "type": "boolean"
          },
          "subscriptionActive": {
            "type": "boolean"
          },
          "notifySentByMe": {
            "type": "boolean",
            "description": "When true, webhook will include sent-by-me events."
          },
          "instanceId": {
            "type": "string",
            "format": "uuid",
            "description": "Internal instance identifier (duplicate of `id` for compatibility)."
          },
          "instanceToken": {
            "type": "string",
            "description": "Token required on instance scoped requests."
          }
        },
        "required": [
          "id",
          "token",
          "due",
          "name",
          "created",
          "phoneConnected",
          "whatsappConnected",
          "middleware",
          "sessionName",
          "callRejectAuto",
          "autoReadMessage",
          "subscriptionActive",
          "notifySentByMe",
          "instanceId",
          "instanceToken"
        ],
        "additionalProperties": false
      },
      "InstanceListResponse": {
        "type": "object",
        "description": "pagination envelope for partner instances.",
        "properties": {
          "total": {
            "type": "integer",
            "minimum": 0
          },
          "totalPage": {
            "type": "integer",
            "minimum": 0
          },
          "pageSize": {
            "type": "integer",
            "minimum": 1
          },
          "page": {
            "type": "integer",
            "minimum": 1
          },
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/InstanceListItem"
            }
          }
        },
        "required": [
          "total",
          "totalPage",
          "pageSize",
          "page",
          "content"
        ],
        "additionalProperties": false
      },
      "QueueMessageResponse": {
        "type": "object",
        "description": "Represents a message in the queue with format",
        "properties": {
          "_id": {
            "type": "string",
            "description": "Message ID (same as zaapId)",
            "example": "39BB1684570F00E91090F6BBC7EE7646"
          },
          "zaapId": {
            "type": "string",
            "description": "Zé da API message tracking ID",
            "example": "39BB1684570F00E91090F6BBC7EE7646"
          },
          "messageId": {
            "type": "string",
            "description": "WhatsApp message ID (after sending)",
            "example": "7AD29EAA5EF34C301F0B"
          },
          "instanceId": {
            "type": "string",
            "format": "uuid",
            "description": "Instance UUID",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "phone": {
            "type": "string",
            "description": "Recipient phone/group/newsletter",
            "example": "5511999999999"
          },
          "message": {
            "type": [
              "string",
              "null"
            ],
            "description": "Message text content (only for text messages)",
            "example": "Hello from Zé da API"
          },
          "delayMessage": {
            "type": "integer",
            "format": "int64",
            "description": "Delay in seconds before sending",
            "example": 5
          },
          "delayTyping": {
            "type": "integer",
            "format": "int64",
            "description": "Typing indicator duration in seconds",
            "example": 3
          },
          "created": {
            "type": "integer",
            "format": "int64",
            "description": "Unix timestamp in milliseconds",
            "example": 1624977905648
          },
          "messageType": {
            "type": "string",
            "description": "Type of message",
            "enum": [
              "text",
              "image",
              "audio",
              "video",
              "document"
            ],
            "example": "text"
          },
          "status": {
            "type": "string",
            "description": "Current job status",
            "enum": [
              "available",
              "scheduled",
              "running",
              "completed",
              "failed",
              "cancelled",
              "discarded"
            ],
            "example": "available"
          },
          "sequenceNumber": {
            "type": "integer",
            "format": "int64",
            "description": "FIFO sequence number",
            "example": 1
          },
          "attempt": {
            "type": "integer",
            "description": "Current attempt number (0-based)",
            "example": 0
          },
          "maxAttempts": {
            "type": "integer",
            "description": "Maximum retry attempts",
            "example": 3
          },
          "errors": {
            "type": "array",
            "items": {
              "type": [
                "string",
                "null"
              ]
            },
            "description": "List of error messages (if any)"
          }
        },
        "required": [
          "_id",
          "zaapId",
          "messageId",
          "instanceId",
          "phone",
          "delayMessage",
          "delayTyping",
          "created"
        ],
        "additionalProperties": false
      },
      "QueueListResponse": {
        "type": "array",
        "description": "Array of queue messages",
        "items": {
          "$ref": "#/components/schemas/QueueMessageResponse"
        }
      },
      "QueueCountResponse": {
        "type": "object",
        "description": "Queue count response",
        "properties": {
          "count": {
            "type": "integer",
            "description": "Number of messages in queue",
            "example": 42
          }
        },
        "required": [
          "count"
        ],
        "additionalProperties": false
      },
      "QueueClearResponse": {
        "type": "object",
        "description": "Queue clear operation response",
        "properties": {
          "message": {
            "type": "string",
            "description": "Operation confirmation message",
            "example": "Queue cleared successfully"
          }
        },
        "required": [
          "message"
        ],
        "additionalProperties": false
      },
      "QueueCancelResponse": {
        "type": "object",
        "description": "Message cancellation response",
        "properties": {
          "message": {
            "type": "string",
            "description": "Operation confirmation message",
            "example": "Message cancelled successfully"
          }
        },
        "required": [
          "message"
        ],
        "additionalProperties": false
      },
      "GroupMention": {
        "type": "object",
        "description": "Group mention in WhatsApp communities",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Group JID",
            "example": "120363XXXXX@g.us"
          },
          "subject": {
            "type": "string",
            "description": "Group name",
            "example": "Zé da API Community"
          }
        },
        "required": [
          "phone",
          "subject"
        ]
      },
      "SendTextRequest": {
        "type": "object",
        "description": "Request body for sending text messages",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Recipient phone number in international format (numbers only) or WhatsApp JID",
            "example": "5511999999999"
          },
          "message": {
            "type": "string",
            "description": "Text message content",
            "example": "Hello from Zé da API!"
          },
          "messageId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional WhatsApp message ID to reply to",
            "example": "3EB0796DC18B7F954D54"
          },
          "delayMessage": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted. Default random 1-3 seconds.",
            "example": 5
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "maximum": 15,
            "description": "Optional typing indicator duration in seconds (1-15 seconds, default 0)",
            "example": 3
          },
          "duration": {
            "type": [
              "integer",
              "null"
            ],
            "description": "Ephemeral message duration in seconds (0, 86400, 604800, 7776000)",
            "enum": [
              0,
              86400,
              604800,
              7776000
            ],
            "example": 86400
          },
          "privateAnswer": {
            "type": "boolean",
            "description": "For group messages - if true, reply in private to sender",
            "default": false,
            "example": false
          },
          "mentioned": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array of phone numbers to mention",
            "example": [
              "5511999999999",
              "5511888888888"
            ]
          },
          "groupMentioned": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GroupMention"
            },
            "description": "Array of groups to mention in communities"
          },
          "mentionedAll": {
            "type": "boolean",
            "description": "Mention all group members without listing them",
            "default": false
          },
          "linkPreview": {
            "type": [
              "boolean",
              "null"
            ],
            "description": "If nil/omitted, auto-detect URLs and generate preview; if true, force preview; if false, disable preview",
            "example": true
          }
        },
        "required": [
          "phone",
          "message"
        ],
        "additionalProperties": false
      },
      "SendImageRequest": {
        "type": "object",
        "description": "Request body for sending image messages",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Recipient phone number or WhatsApp JID",
            "example": "5511999999999"
          },
          "image": {
            "type": "string",
            "description": "Image URL (http/https) or base64 data URI (data:image/png;base64,...)",
            "example": "https://picsum.photos/600/400.jpg"
          },
          "caption": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional image caption/title",
            "example": "Check out this image!"
          },
          "messageId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional WhatsApp message ID to reply to"
          },
          "delayMessage": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted. For longer scheduling, prefer scheduledFor with an ISO 8601 timestamp."
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "maximum": 15,
            "description": "Optional typing indicator duration in seconds (1-15 seconds)"
          },
          "viewOnce": {
            "type": "boolean",
            "description": "If true, image can only be viewed once",
            "default": false
          },
          "duration": {
            "type": [
              "integer",
              "null"
            ],
            "description": "Ephemeral message duration in seconds",
            "enum": [
              0,
              86400,
              604800,
              7776000
            ]
          },
          "mentioned": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array of phone numbers to mention",
            "example": [
              "5511999999999",
              "5511888888888"
            ]
          },
          "groupMentioned": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GroupMention"
            },
            "description": "Array of groups to mention in communities"
          },
          "mentionedAll": {
            "type": "boolean",
            "description": "Mention all group members without listing them",
            "default": false
          },
          "privateAnswer": {
            "type": "boolean",
            "description": "For group messages, reply in private to sender",
            "default": false
          }
        },
        "required": [
          "phone",
          "image"
        ],
        "additionalProperties": false
      },
      "SendAudioRequest": {
        "type": "object",
        "description": "Request body for sending audio/voice messages",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Recipient phone number or WhatsApp JID",
            "example": "5511999999999"
          },
          "audio": {
            "type": "string",
            "description": "Audio URL (http/https) or base64 data URI (data:audio/ogg;base64,...)",
            "example": "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"
          },
          "messageId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional WhatsApp message ID to reply to"
          },
          "delayMessage": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted. For longer scheduling, prefer scheduledFor with an ISO 8601 timestamp."
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "maximum": 15,
            "description": "Optional \"recording audio\" indicator duration in seconds (1-15 seconds)"
          },
          "viewOnce": {
            "type": "boolean",
            "description": "If true, audio can only be played once",
            "default": false
          },
          "duration": {
            "type": [
              "integer",
              "null"
            ],
            "description": "Ephemeral message duration in seconds",
            "enum": [
              0,
              86400,
              604800,
              7776000
            ]
          },
          "mentioned": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array of phone numbers to mention",
            "example": [
              "5511999999999",
              "5511888888888"
            ]
          },
          "groupMentioned": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GroupMention"
            },
            "description": "Array of groups to mention in communities"
          },
          "mentionedAll": {
            "type": "boolean",
            "description": "Mention all group members without listing them",
            "default": false
          },
          "privateAnswer": {
            "type": "boolean",
            "description": "For group messages, reply in private to sender",
            "default": false
          }
        },
        "required": [
          "phone",
          "audio"
        ],
        "additionalProperties": false
      },
      "SendVideoRequest": {
        "type": "object",
        "description": "Request body for sending video messages",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Recipient phone number or WhatsApp JID",
            "example": "5511999999999"
          },
          "video": {
            "type": "string",
            "description": "Video URL (http/https) or base64 data URI (data:video/mp4;base64,...)",
            "example": "https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4"
          },
          "caption": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional video caption/title"
          },
          "messageId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional WhatsApp message ID to reply to"
          },
          "delayMessage": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted. For longer scheduling, prefer scheduledFor with an ISO 8601 timestamp."
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "maximum": 15,
            "description": "Optional typing indicator duration in seconds (1-15 seconds)"
          },
          "viewOnce": {
            "type": "boolean",
            "description": "If true, video can only be viewed once",
            "default": false
          },
          "duration": {
            "type": [
              "integer",
              "null"
            ],
            "description": "Ephemeral message duration in seconds",
            "enum": [
              0,
              86400,
              604800,
              7776000
            ]
          },
          "mentioned": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array of phone numbers to mention",
            "example": [
              "5511999999999",
              "5511888888888"
            ]
          },
          "groupMentioned": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GroupMention"
            },
            "description": "Array of groups to mention in communities"
          },
          "mentionedAll": {
            "type": "boolean",
            "description": "Mention all group members without listing them",
            "default": false
          },
          "privateAnswer": {
            "type": "boolean",
            "description": "For group messages, reply in private to sender",
            "default": false
          }
        },
        "required": [
          "phone",
          "video"
        ],
        "additionalProperties": false
      },
      "SendTextStatusRequest": {
        "type": "object",
        "description": "Request body for sending text to WhatsApp Status/Stories.\n\n**Status Broadcasting**: Text is automatically broadcast to all contacts\nwho can view your status based on your privacy settings.\n\n**Key Features**:\n- Custom background color (hex or ARGB format)\n- Multiple font styles (0-5)\n- Optional custom message ID for tracking\n- Delayed sending and scheduled delivery support (delayMessage or scheduledFor)\n\n**Note**: Unlike regular messages, status messages don't require a phone number.\nThey broadcast to status@broadcast automatically.\n",
        "properties": {
          "text": {
            "type": "string",
            "description": "Text content for the status. Supports emoji and unicode characters.\nMaximum length depends on WhatsApp limits (typically ~700 characters).\n",
            "example": "Hello from my status! 🎉"
          },
          "backgroundColor": {
            "type": [
              "string",
              "null"
            ],
            "description": "Background color for text status.\n\n**Supported Formats**:\n- Hex: `#FF5733` (RGB)\n- ARGB: `0xFF5733FF` (with alpha)\n\n**Default**: WhatsApp default gradient\n",
            "example": "#FF5733"
          },
          "font": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 0,
            "maximum": 5,
            "description": "Font style for text status.\n\n**Font Options**:\n- 0: Default (Sans-serif)\n- 1: Serif\n- 2: Norican Script\n- 3: Bryndan Write\n- 4: Bebasneue Regular\n- 5: Oswald Heavy\n",
            "example": 0
          },
          "messageId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional custom message ID for tracking.\nIf not provided, WhatsApp generates one automatically.\n",
            "example": "custom-status-123"
          },
          "delayMessage": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted.\nFor longer scheduling, prefer scheduledFor with an ISO 8601 timestamp.\n",
            "example": 3
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          }
        },
        "required": [
          "text"
        ],
        "additionalProperties": false
      },
      "SendImageStatusRequest": {
        "type": "object",
        "description": "Request body for sending an image to WhatsApp Status/Stories.\n\n**Status Broadcasting**: Image is automatically broadcast to all contacts\nwho can view your status based on your privacy settings.\n\n**Key Features**:\n- Image URL or base64 data URI support\n- Optional caption/text overlay\n- Automatic thumbnail generation\n- Optional custom message ID for tracking\n\n**Supported Formats**: JPEG, PNG, WebP, GIF (static)\n",
        "properties": {
          "image": {
            "type": "string",
            "description": "Image URL (http/https) or base64 data URI.\n\n**Examples**:\n- URL: `https://example.com/image.jpg`\n- Base64: `data:image/jpeg;base64,/9j/4AAQSkZ...`\n",
            "example": "https://picsum.photos/600/400.jpg"
          },
          "caption": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional caption/text to display with the image.\nSupports emoji and unicode characters.\n",
            "example": "Check out this view! 🌅"
          },
          "messageId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional custom message ID for tracking.\nIf not provided, WhatsApp generates one automatically.\n",
            "example": "custom-image-status-123"
          },
          "delayMessage": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted.\nFor longer scheduling, prefer scheduledFor with an ISO 8601 timestamp.\n",
            "example": 3
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          }
        },
        "required": [
          "image"
        ],
        "additionalProperties": false
      },
      "SendAudioStatusRequest": {
        "type": "object",
        "description": "Request body for sending audio/voice note to WhatsApp Status/Stories.\n\n**Status Broadcasting**: Audio is automatically broadcast to all contacts\nwho can view your status based on your privacy settings.\n\n**Key Features**:\n- Audio URL or base64 data URI support\n- Automatic waveform generation (64 samples) for visual bars\n- Voice note (PTT) format with waveform visualization\n- Automatic conversion to Opus/OGG if needed\n- Optional custom message ID for tracking\n\n**Waveform Visualization**: The audio is processed to generate\n64 amplitude samples (0-100 range) that WhatsApp displays as\nthe classic \"ondinhas\" (wave bars) in the voice note player.\n\n**Supported Formats**: OGG (Opus), MP3, WAV, M4A, AAC\n",
        "properties": {
          "audio": {
            "type": "string",
            "description": "Audio URL (http/https) or base64 data URI.\n\n**Examples**:\n- URL: `https://example.com/audio.mp3`\n- Base64: `data:audio/ogg;base64,T2dnUwACAA...`\n\n**Recommended**: OGG Opus format for best compatibility\n",
            "example": "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"
          },
          "messageId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional custom message ID for tracking.\nIf not provided, WhatsApp generates one automatically.\n",
            "example": "custom-audio-status-123"
          },
          "delayMessage": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted.\nFor longer scheduling, prefer scheduledFor with an ISO 8601 timestamp.\n",
            "example": 3
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          }
        },
        "required": [
          "audio"
        ],
        "additionalProperties": false
      },
      "SendVideoStatusRequest": {
        "type": "object",
        "description": "Request body for sending a video to WhatsApp Status/Stories.\n\n**Status Broadcasting**: Video is automatically broadcast to all contacts\nwho can view your status based on your privacy settings.\n\n**Key Features**:\n- Video URL or base64 data URI support\n- Optional caption/text overlay\n- Automatic thumbnail generation\n- Optional custom message ID for tracking\n\n**Supported Formats**: MP4, 3GP, MOV, AVI\n**Duration Limit**: WhatsApp status videos are typically limited to 30 seconds\n",
        "properties": {
          "video": {
            "type": "string",
            "description": "Video URL (http/https) or base64 data URI.\n\n**Examples**:\n- URL: `https://example.com/video.mp4`\n- Base64: `data:video/mp4;base64,AAAAIGZ0eXBpc29t...`\n",
            "example": "https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4"
          },
          "caption": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional caption/text to display with the video.\nSupports emoji and unicode characters.\n",
            "example": "Amazing video! 🎬"
          },
          "messageId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional custom message ID for tracking.\nIf not provided, WhatsApp generates one automatically.\n",
            "example": "custom-video-status-123"
          },
          "delayMessage": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted.\nFor longer scheduling, prefer scheduledFor with an ISO 8601 timestamp.\n",
            "example": 3
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          }
        },
        "required": [
          "video"
        ],
        "additionalProperties": false
      },
      "SendPTVRequest": {
        "type": "object",
        "description": "Request body for sending PTV (Push-To-Talk Video) messages.\n\n**PTV Format**: Circular video notes displayed similarly to voice notes but with video content.\n\n**Key Features**:\n- Circular video notes (like voice notes with video)\n- Video URL or base64 data URI support\n- Optional caption/text\n- Reply to messages via messageId\n- Schedule delivery with delayMessage or scheduledFor (ISO 8601)\n- Show typing indicator with delayTyping (1-15s)\n- Ephemeral messages with duration (0, 86400, 604800, 7776000)\n- Mention users (@mentions)\n- Mention groups/communities\n- Mention all participants (@everyone)\n- Private reply in groups\n\n**Message Queue**: Messages are queued per recipient with FIFO ordering.\n\n**WhatsApp Compatibility**: Uses whatsmeow library with full WhatsApp Web protocol support.\n",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Recipient phone number in international format (without + prefix).\n\n**Examples**:\n- Individual: `5511999999999` (Brazil mobile)\n- Group: `120363047204807488@g.us`\n- Community: `123456789@newsletter`\n",
            "example": "5511999999999"
          },
          "video": {
            "type": "string",
            "description": "Video file URL or base64 data URI.\n\n**Supported Formats**:\n- URL: `https://example.com/video.mp4`\n- Base64: `data:video/mp4;base64,AAAAIGZ0eXBpc29t...`\n\n**Requirements**:\n- Format: MP4, 3GP, MOV (auto-converted if needed)\n- Max duration: 60 seconds recommended for PTV\n- Circular display in WhatsApp\n",
            "example": "https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4"
          },
          "caption": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional text caption for the PTV video.\nSupports @mentions via mentioned/groupMentioned arrays.\n",
            "example": "Check out this video note!"
          },
          "messageId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional WhatsApp message ID to reply to (quoted message)",
            "example": "3EB0796DC1B61E519"
          },
          "delayMessage": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted.\nFor longer scheduling, prefer scheduledFor with an ISO 8601 timestamp.\n",
            "example": 3
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "maximum": 15,
            "description": "Optional typing indicator duration in seconds (1-15 seconds).\nShows \"recording...\" to recipient before message is sent.\n",
            "example": 2
          },
          "viewOnce": {
            "type": "boolean",
            "description": "If true, the PTV video can only be viewed once by the recipient.\nAfter viewing, the message disappears from the chat.\n",
            "default": false,
            "example": false
          },
          "duration": {
            "type": [
              "integer",
              "null"
            ],
            "enum": [
              0,
              86400,
              604800,
              7776000
            ],
            "description": "Optional ephemeral message duration (view-once timer).\n\n**Values**:\n- `0`: Permanent (default)\n- `86400`: 24 hours (1 day)\n- `604800`: 7 days (1 week)\n- `7776000`: 90 days (3 months)\n",
            "example": 0
          },
          "mentioned": {
            "type": "array",
            "description": "Optional array of phone numbers to mention (@mention).\nUsers will be notified and text will show @mentions.\n",
            "items": {
              "type": [
                "string",
                "null"
              ],
              "example": "5511888888888"
            }
          },
          "groupMentioned": {
            "type": [
              "array",
              "null"
            ],
            "description": "Optional array of groups/communities to mention.\nUsed for cross-community mentions and notifications.\n",
            "items": {
              "$ref": "#/components/schemas/GroupMention"
            }
          },
          "mentionedAll": {
            "type": "boolean",
            "description": "Mention all participants in group (@everyone).\nOnly works in groups where user has admin permissions.\n",
            "default": false
          },
          "privateAnswer": {
            "type": "boolean",
            "description": "Send message as private reply in group context.\nOnly recipient will see the message, others see \"private reply\".\n",
            "default": false
          }
        },
        "required": [
          "phone",
          "video"
        ],
        "additionalProperties": false
      },
      "SendDocumentRequest": {
        "type": "object",
        "description": "Request body for sending document messages",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Recipient phone number or WhatsApp JID",
            "example": "5511999999999"
          },
          "document": {
            "type": "string",
            "description": "Document URL (http/https) or base64 data URI (data:application/pdf;base64,...)",
            "example": "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
          },
          "fileName": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional document filename",
            "example": "report.pdf"
          },
          "caption": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional document caption/description"
          },
          "messageId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional WhatsApp message ID to reply to"
          },
          "delayMessage": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted. For longer scheduling, prefer scheduledFor with an ISO 8601 timestamp."
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "maximum": 15,
            "description": "Optional typing indicator duration in seconds (1-15 seconds)"
          },
          "duration": {
            "type": [
              "integer",
              "null"
            ],
            "description": "Ephemeral message duration in seconds",
            "enum": [
              0,
              86400,
              604800,
              7776000
            ]
          },
          "mentioned": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array of phone numbers to mention",
            "example": [
              "5511999999999",
              "5511888888888"
            ]
          },
          "groupMentioned": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GroupMention"
            },
            "description": "Array of groups to mention in communities"
          },
          "mentionedAll": {
            "type": "boolean",
            "description": "Mention all group members without listing them",
            "default": false
          },
          "privateAnswer": {
            "type": "boolean",
            "description": "For group messages, reply in private to sender",
            "default": false
          }
        },
        "required": [
          "phone",
          "document"
        ],
        "additionalProperties": false
      },
      "SendStickerRequest": {
        "type": "object",
        "description": "Request body for sending sticker messages.\n\n**Sticker Format**: Accepts URL (http/https) or base64 data URI (data:image/webp;base64,...).\n\n**Key Features**:\n- Animated stickers supported (WebP format)\n- No caption support (stickers are sent without text)\n- Reply to messages via messageId\n- Schedule delivery with delayMessage or scheduledFor (ISO 8601)\n- Show typing indicator with delayTyping (1-15s)\n- Ephemeral messages with duration (0, 86400, 604800, 7776000)\n- Mention users (@mentions)\n- Mention groups/communities\n- Mention all participants (@everyone)\n- Private reply in groups\n\n**Message Queue**: Messages are queued per recipient with FIFO ordering.\n\n**WhatsApp Compatibility**: Uses whatsmeow library with full WhatsApp Web protocol support.\n",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Recipient phone number in international format (without + prefix).\n\n**Examples**:\n- Individual: `5511999999999` (Brazil mobile)\n- Group: `120363047204807488@g.us`\n- Community: `123456789@newsletter`\n",
            "example": "5511999999999"
          },
          "sticker": {
            "type": "string",
            "description": "Sticker file URL or base64 data URI.\n\n**Supported Formats**:\n- URL: `https://www.gstatic.com/webp/gallery/1.webp`\n- Base64: `data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=`\n\n**Requirements**:\n- Format: WebP (animated or static)\n- Max size: 100KB recommended for animated, 500KB for static\n- Dimensions: 512x512 pixels recommended\n",
            "example": "https://www.gstatic.com/webp/gallery/1.webp"
          },
          "messageId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional WhatsApp message ID to reply to (quoted message)",
            "example": "3EB0796DC1B61E519"
          },
          "delayMessage": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted.\nFor longer scheduling, prefer scheduledFor with an ISO 8601 timestamp.\n",
            "example": 3
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "maximum": 15,
            "description": "Optional typing indicator duration in seconds (1-15 seconds).\nShows \"typing...\" to recipient before message is sent.\n",
            "example": 2
          },
          "duration": {
            "type": [
              "integer",
              "null"
            ],
            "enum": [
              0,
              86400,
              604800,
              7776000
            ],
            "description": "Optional ephemeral message duration (view-once timer).\n\n**Values**:\n- `0`: Permanent (default)\n- `86400`: 24 hours (1 day)\n- `604800`: 7 days (1 week)\n- `7776000`: 90 days (3 months)\n",
            "example": 0
          },
          "mentioned": {
            "type": "array",
            "description": "Optional array of phone numbers to mention (@mention).\nUsers will be notified and text will show @mentions.\n",
            "items": {
              "type": [
                "string",
                "null"
              ],
              "example": "5511888888888"
            }
          },
          "groupMentioned": {
            "type": [
              "array",
              "null"
            ],
            "description": "Optional array of groups/communities to mention.\nUsed for cross-community mentions and notifications.\n",
            "items": {
              "$ref": "#/components/schemas/GroupMention"
            }
          },
          "mentionedAll": {
            "type": "boolean",
            "description": "Mention all participants in group (@everyone).\nOnly works in groups where user has admin permissions.\n",
            "default": false
          },
          "privateAnswer": {
            "type": "boolean",
            "description": "Send message as private reply in group context.\nOnly recipient will see the message, others see \"private reply\".\n",
            "default": false
          }
        },
        "required": [
          "phone",
          "sticker"
        ],
        "additionalProperties": false
      },
      "SendGifRequest": {
        "type": "object",
        "description": "Request body for sending GIF messages.\n\n**GIF Format**: Accepts URL (http/https) or base64 data URI (data:image/gif;base64,...).\n\n**Key Features**:\n- Animated GIFs supported\n- Optional caption/text\n- Reply to messages via messageId\n- Schedule delivery with delayMessage or scheduledFor (ISO 8601)\n- Show typing indicator with delayTyping (1-15s)\n- View-once messages with viewOnce flag\n- Ephemeral messages with duration (0, 86400, 604800, 7776000)\n- Mention users (@mentions)\n- Mention groups/communities\n- Mention all participants (@everyone)\n- Private reply in groups\n\n**Message Queue**: Messages are queued per recipient with FIFO ordering.\n\n**WhatsApp Compatibility**: Uses whatsmeow library with full WhatsApp Web protocol support.\n",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Recipient phone number in international format (without + prefix).\n\n**Examples**:\n- Individual: `5511999999999` (Brazil mobile)\n- Group: `120363047204807488@g.us`\n- Community: `123456789@newsletter`\n",
            "example": "5511999999999"
          },
          "gif": {
            "type": "string",
            "description": "GIF file URL or base64 data URI.\n\n**Supported Formats**:\n- URL: `https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExcDd2MXRxbTN1NjN5cXBqYjZ0c2swY3EyNmRxaGJxODRnOGxqcjR2MyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3o7abKhOpu0NwenH3O/giphy.gif`\n- Base64: `data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==`\n\n**Requirements**:\n- Format: GIF (animated or static)\n- Max size: 16MB recommended\n- Aspect ratio: Any (auto-adjusted by WhatsApp)\n",
            "example": "https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExcDd2MXRxbTN1NjN5cXBqYjZ0c2swY3EyNmRxaGJxODRnOGxqcjR2MyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3o7abKhOpu0NwenH3O/giphy.gif"
          },
          "caption": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional text caption for the GIF.\nSupports @mentions via mentioned/groupMentioned arrays.\n",
            "example": "Check this out! 🎉"
          },
          "messageId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional WhatsApp message ID to reply to (quoted message)",
            "example": "3EB0796DC1B61E519"
          },
          "delayMessage": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted.\nFor longer scheduling, prefer scheduledFor with an ISO 8601 timestamp.\n",
            "example": 3
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "maximum": 15,
            "description": "Optional typing indicator duration in seconds (1-15 seconds).\nShows \"typing...\" to recipient before message is sent.\n",
            "example": 2
          },
          "viewOnce": {
            "type": "boolean",
            "description": "Send as view-once message (disappears after first view).\nRecipient can only view the GIF once.\n",
            "default": false
          },
          "duration": {
            "type": [
              "integer",
              "null"
            ],
            "enum": [
              0,
              86400,
              604800,
              7776000
            ],
            "description": "Optional ephemeral message duration (view-once timer).\n\n**Values**:\n- `0`: Permanent (default)\n- `86400`: 24 hours (1 day)\n- `604800`: 7 days (1 week)\n- `7776000`: 90 days (3 months)\n",
            "example": 0
          },
          "mentioned": {
            "type": "array",
            "description": "Optional array of phone numbers to mention (@mention).\nUsers will be notified and text will show @mentions.\n",
            "items": {
              "type": [
                "string",
                "null"
              ],
              "example": "5511888888888"
            }
          },
          "groupMentioned": {
            "type": [
              "array",
              "null"
            ],
            "description": "Optional array of groups/communities to mention.\nUsed for cross-community mentions and notifications.\n",
            "items": {
              "$ref": "#/components/schemas/GroupMention"
            }
          },
          "mentionedAll": {
            "type": "boolean",
            "description": "Mention all participants in group (@everyone).\nOnly works in groups where user has admin permissions.\n",
            "default": false
          },
          "privateAnswer": {
            "type": "boolean",
            "description": "Send message as private reply in group context.\nOnly recipient will see the message, others see \"private reply\".\n",
            "default": false
          }
        },
        "required": [
          "phone",
          "gif"
        ],
        "additionalProperties": false
      },
      "Contact": {
        "type": "object",
        "description": "WhatsApp contact information.\n\n**Data Sources**:\n- Device contacts (if contact is in user's address book)\n- WhatsApp profile data (notify field from push name)\n- VCard information (if contact shared via vcard)\n\n**Field Availability**:\n- `phone`: Always present\n- `name`, `short`, `vname`: Only if contact is in address book\n- `notify`: Only if user has interacted with contact\n\n**Privacy Notes**: Contact data respects WhatsApp privacy settings.\nUsers who hide their profile will only show notify field.\n",
        "properties": {
          "phone": {
            "type": "string",
            "description": "WhatsApp phone number in international format (without + prefix).\nThis is the WhatsApp JID user part.\n",
            "example": "5511999999999"
          },
          "name": {
            "type": [
              "string",
              "null"
            ],
            "description": "Full contact name from device address book.\nOnly present if contact exists in user's phone contacts.\n",
            "example": "João Silva Santos"
          },
          "short": {
            "type": [
              "string",
              "null"
            ],
            "description": "First name or nickname from device address book.\nOnly present if contact exists in user's phone contacts.\n",
            "example": "João"
          },
          "notify": {
            "type": [
              "string",
              "null"
            ],
            "description": "Name from WhatsApp settings (push name).\nThis is how the user identifies themselves on WhatsApp.\nPresent if user has ever interacted with the contact.\n",
            "example": "João S."
          },
          "vname": {
            "type": [
              "string",
              "null"
            ],
            "description": "Full name from VCard if contact was shared via contact card.\nOnly present if contact was received through VCard sharing.\n",
            "example": "João Silva Santos"
          }
        },
        "required": [
          "phone"
        ],
        "additionalProperties": false
      },
      "Chat": {
        "type": "object",
        "description": "WhatsApp chat information.\n\n**Chat Types**:\n- Individual chats (person-to-person)\n- Group chats (multiple participants)\n- Community announcement channels\n\n**Data Sources**:\n- WhatsApp chat metadata (from store)\n- Message history (last message timestamp)\n- Chat settings (mute, archive, pin, spam status)\n\n**Ordering**: By default, chats are ordered by lastMessageTime descending (most recent first).\n\n**Unread Counts**: Both `unread` and `messagesUnread` represent the same count.\n",
        "properties": {
          "phone": {
            "type": "string",
            "description": "WhatsApp JID (Java ID) for the chat.\n\n**Formats**:\n- Individual: `5511999999999@s.whatsapp.net`\n- Group: `120363047204807488@g.us`\n- Newsletter: `123456789@newsletter`\n",
            "example": "5511999999999@s.whatsapp.net"
          },
          "name": {
            "type": "string",
            "description": "Chat display name.\n\n**For Individuals**: Contact name (from address book) or WhatsApp push name\n**For Groups**: Group subject/title\n**For Communities**: Community name\n",
            "example": "João Silva"
          },
          "unread": {
            "type": "integer",
            "description": "Count of unread messages in this chat",
            "minimum": 0,
            "example": 5
          },
          "lastMessageTime": {
            "type": "string",
            "format": "date-time",
            "description": "ISO 8601 timestamp of the last message received in this chat.\nUsed for sorting chats by recency.\n",
            "example": "2025-01-11T14:30:00Z"
          },
          "isMuted": {
            "type": "boolean",
            "description": "Whether notifications are muted for this chat",
            "example": false
          },
          "muteEndTime": {
            "type": "string",
            "format": "date-time",
            "description": "ISO 8601 timestamp when mute expires (if chat is muted).\nZero value if not muted or muted indefinitely.\n",
            "example": "2025-01-12T14:30:00Z"
          },
          "isMarkedSpam": {
            "type": "boolean",
            "description": "Whether this chat is marked as spam by the user",
            "example": false
          },
          "archived": {
            "type": "boolean",
            "description": "Whether this chat is archived (hidden from main chat list)",
            "example": false
          },
          "pinned": {
            "type": "boolean",
            "description": "Whether this chat is pinned to the top of the chat list",
            "example": false
          },
          "messagesUnread": {
            "type": "integer",
            "description": "Alternative unread count field.\nContains the same value as `unread`.\n",
            "minimum": 0,
            "example": 5
          },
          "isGroup": {
            "type": "boolean",
            "description": "Whether this is a group chat (true) or individual chat (false).\nCommunities are treated as groups.\n",
            "example": false
          }
        },
        "required": [
          "phone",
          "name",
          "unread",
          "lastMessageTime",
          "isMuted",
          "muteEndTime",
          "isMarkedSpam",
          "archived",
          "pinned",
          "messagesUnread",
          "isGroup"
        ],
        "additionalProperties": false
      },
      "SendMessageResponse": {
        "type": "object",
        "description": "Response after enqueuing a message",
        "properties": {
          "zaapId": {
            "type": "string",
            "description": "Unique message ID in our system",
            "example": "39BB1684570F00E91090F6BBC7EE7646"
          },
          "messageId": {
            "type": "string",
            "description": "WhatsApp message ID (initially same as zaapId, updated after send)",
            "example": "39BB1684570F00E91090F6BBC7EE7646"
          },
          "id": {
            "type": "string",
            "description": "Same as messageId for Zapier compatibility",
            "example": "39BB1684570F00E91090F6BBC7EE7646"
          },
          "status": {
            "type": "string",
            "description": "Queue status for the enqueued message (always queued on success)",
            "example": "queued"
          },
          "whatsAppStatus": {
            "$ref": "#/components/schemas/WhatsAppStatus"
          }
        },
        "required": [
          "zaapId",
          "messageId",
          "id",
          "status"
        ],
        "additionalProperties": false
      },
      "WhatsAppStatus": {
        "type": "object",
        "description": "Snapshot of the WhatsApp connectivity state when the message was enqueued",
        "properties": {
          "connected": {
            "type": "boolean",
            "description": "Indicates if the WhatsApp client is connected at enqueue time"
          },
          "lastSeen": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "Timestamp of the last known successful connection (RFC3339)"
          },
          "reason": {
            "type": "string",
            "description": "Reason for the current connectivity state (connected, reconnecting, logged_out, etc.)",
            "example": "disconnected"
          },
          "workerId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Identifier of the worker handling the instance, when available"
          }
        }
      },
      "SendLocationRequest": {
        "type": "object",
        "description": "Request body for sending location messages",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Recipient phone number or WhatsApp JID",
            "example": "5511999999999"
          },
          "latitude": {
            "type": "number",
            "format": "double",
            "description": "Location latitude",
            "example": -23.55052
          },
          "longitude": {
            "type": "number",
            "format": "double",
            "description": "Location longitude",
            "example": -46.633308
          },
          "name": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional location name/title",
            "example": "Paulista Avenue"
          },
          "address": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional location address",
            "example": "Av. Paulista, 1578 - São Paulo, SP"
          },
          "messageId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional WhatsApp message ID to reply to"
          },
          "delayMessage": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted. For longer scheduling, prefer scheduledFor with an ISO 8601 timestamp."
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "maximum": 15,
            "description": "Optional typing indicator duration in seconds"
          },
          "duration": {
            "type": [
              "integer",
              "null"
            ],
            "description": "Ephemeral message duration in seconds",
            "enum": [
              0,
              86400,
              604800,
              7776000
            ]
          },
          "mentioned": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array of phone numbers to mention"
          },
          "groupMentioned": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GroupMention"
            },
            "description": "Array of groups to mention in communities"
          },
          "mentionedAll": {
            "type": "boolean",
            "description": "Mention all group members",
            "default": false
          }
        },
        "required": [
          "phone",
          "latitude",
          "longitude"
        ],
        "additionalProperties": false
      },
      "SendContactRequest": {
        "type": "object",
        "description": "Request body for sending a single contact card",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Recipient phone number or WhatsApp JID",
            "example": "5511999999999"
          },
          "contactName": {
            "type": "string",
            "description": "Full name of the contact",
            "example": "John Doe"
          },
          "contactPhone": {
            "type": "string",
            "description": "Phone number of the contact in international format",
            "example": "5511999999999"
          },
          "contactBusinessDescription": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional business or organization description of the contact",
            "example": "Sales Manager at Example Corp"
          },
          "firstName": {
            "type": [
              "string",
              "null"
            ],
            "description": "Given name component for the vCard",
            "example": "John"
          },
          "lastName": {
            "type": [
              "string",
              "null"
            ],
            "description": "Family name component for the vCard",
            "example": "Doe"
          },
          "middleName": {
            "type": [
              "string",
              "null"
            ],
            "description": "Middle name or additional names",
            "example": "Michael"
          },
          "namePrefix": {
            "type": [
              "string",
              "null"
            ],
            "description": "Honorific prefix (e.g. Dr., Mr., Ms.)",
            "example": "Dr."
          },
          "nameSuffix": {
            "type": [
              "string",
              "null"
            ],
            "description": "Honorific suffix (e.g. Jr., Sr.)",
            "example": "Jr."
          },
          "nickname": {
            "type": [
              "string",
              "null"
            ],
            "description": "Nickname or alias for the contact",
            "example": "Johnny"
          },
          "email": {
            "type": [
              "string",
              "null"
            ],
            "format": "email",
            "description": "Email address associated with the contact",
            "example": "john@example.com"
          },
          "url": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri",
            "description": "Website or social media URL for the contact",
            "example": "https://example.com/john"
          },
          "organization": {
            "type": [
              "string",
              "null"
            ],
            "description": "Organization or company name (overrides contactBusinessDescription when provided)",
            "example": "Example Corp"
          },
          "jobTitle": {
            "type": [
              "string",
              "null"
            ],
            "description": "Job title or position",
            "example": "Sales Manager"
          },
          "address": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ContactAddress"
              }
            ],
            "description": "Structured address details for the vCard"
          },
          "birthday": {
            "type": [
              "string",
              "null"
            ],
            "format": "date",
            "description": "Birthday in YYYY-MM-DD format",
            "example": "1990-05-17"
          },
          "note": {
            "type": [
              "string",
              "null"
            ],
            "description": "Additional notes or comments to include in the vCard",
            "example": "Met at WhatsApp Summit 2024"
          },
          "messageId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional WhatsApp message ID to reply to"
          },
          "delayMessage": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted. For longer scheduling, prefer scheduledFor with an ISO 8601 timestamp."
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "maximum": 15,
            "description": "Optional typing indicator duration in seconds"
          },
          "duration": {
            "type": [
              "integer",
              "null"
            ],
            "description": "Ephemeral message duration in seconds",
            "enum": [
              0,
              86400,
              604800,
              7776000
            ]
          },
          "mentioned": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array of phone numbers to mention"
          },
          "groupMentioned": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GroupMention"
            },
            "description": "Array of groups to mention in communities"
          },
          "mentionedAll": {
            "type": "boolean",
            "description": "Mention all group members",
            "default": false
          },
          "privateAnswer": {
            "type": "boolean",
            "description": "For group messages - if true, reply privately to the sender instead of the group",
            "default": false
          }
        },
        "required": [
          "phone",
          "contactName",
          "contactPhone"
        ],
        "additionalProperties": false
      },
      "ContactAddress": {
        "type": "object",
        "description": "Structured address details included in contact vCards",
        "properties": {
          "type": {
            "type": [
              "string",
              "null"
            ],
            "description": "Address type (e.g. HOME, WORK)",
            "example": "WORK"
          },
          "postBox": {
            "type": [
              "string",
              "null"
            ],
            "description": "Post office box number",
            "example": "1234"
          },
          "extended": {
            "type": [
              "string",
              "null"
            ],
            "description": "Extended address information such as apartment or suite",
            "example": "Suite 1203"
          },
          "street": {
            "type": [
              "string",
              "null"
            ],
            "description": "Street address",
            "example": "Av. Paulista, 1578"
          },
          "city": {
            "type": [
              "string",
              "null"
            ],
            "description": "City or locality",
            "example": "São Paulo"
          },
          "region": {
            "type": [
              "string",
              "null"
            ],
            "description": "State, province or region",
            "example": "SP"
          },
          "postalCode": {
            "type": [
              "string",
              "null"
            ],
            "description": "Postal or ZIP code",
            "example": "01310-200"
          },
          "country": {
            "type": [
              "string",
              "null"
            ],
            "description": "Country name",
            "example": "Brasil"
          }
        },
        "additionalProperties": false
      },
      "ContactInfo": {
        "type": "object",
        "description": "Contact information for multiple contacts",
        "properties": {
          "contactName": {
            "type": "string",
            "description": "Full name of the contact",
            "example": "John Doe"
          },
          "contactPhone": {
            "type": "string",
            "description": "Phone number of the contact in international format",
            "example": "5511999999999"
          },
          "contactBusinessDescription": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional business description of the contact",
            "example": "Sales Manager"
          },
          "firstName": {
            "type": [
              "string",
              "null"
            ],
            "description": "Given name component for the vCard"
          },
          "lastName": {
            "type": [
              "string",
              "null"
            ],
            "description": "Family name component for the vCard"
          },
          "middleName": {
            "type": [
              "string",
              "null"
            ],
            "description": "Middle name or additional names"
          },
          "namePrefix": {
            "type": [
              "string",
              "null"
            ],
            "description": "Honorific prefix (e.g. Dr., Mr., Ms.)"
          },
          "nameSuffix": {
            "type": [
              "string",
              "null"
            ],
            "description": "Honorific suffix (e.g. Jr., Sr.)"
          },
          "nickname": {
            "type": [
              "string",
              "null"
            ],
            "description": "Nickname or alias for the contact"
          },
          "email": {
            "type": [
              "string",
              "null"
            ],
            "format": "email",
            "description": "Email address associated with the contact"
          },
          "url": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri",
            "description": "Website or social media URL for the contact"
          },
          "organization": {
            "type": [
              "string",
              "null"
            ],
            "description": "Organization or company name"
          },
          "jobTitle": {
            "type": [
              "string",
              "null"
            ],
            "description": "Job title or position"
          },
          "address": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ContactAddress"
              }
            ],
            "description": "Structured address details for the vCard"
          },
          "birthday": {
            "type": [
              "string",
              "null"
            ],
            "format": "date",
            "description": "Birthday in YYYY-MM-DD format"
          },
          "note": {
            "type": [
              "string",
              "null"
            ],
            "description": "Additional notes or comments to include in the vCard"
          }
        },
        "required": [
          "contactName",
          "contactPhone"
        ],
        "additionalProperties": false
      },
      "SendContactsRequest": {
        "type": "object",
        "description": "Request body for sending multiple contact cards",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Recipient phone number or WhatsApp JID",
            "example": "5511999999999"
          },
          "contacts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ContactInfo"
            },
            "description": "Array of contacts to send (1-10 items, matching WhatsApp UI behaviour)",
            "minItems": 1,
            "maxItems": 10
          },
          "messageId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional WhatsApp message ID to reply to"
          },
          "delayMessage": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted. For longer scheduling, prefer scheduledFor with an ISO 8601 timestamp."
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "maximum": 15,
            "description": "Optional typing indicator duration in seconds"
          },
          "duration": {
            "type": [
              "integer",
              "null"
            ],
            "description": "Ephemeral message duration in seconds",
            "enum": [
              0,
              86400,
              604800,
              7776000
            ]
          },
          "mentioned": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array of phone numbers to mention"
          },
          "groupMentioned": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GroupMention"
            },
            "description": "Array of groups to mention in communities"
          },
          "mentionedAll": {
            "type": "boolean",
            "description": "Mention all group members",
            "default": false
          },
          "privateAnswer": {
            "type": "boolean",
            "description": "For group messages - if true, reply privately to the sender instead of the group",
            "default": false
          }
        },
        "required": [
          "phone",
          "contacts"
        ],
        "additionalProperties": false
      },
      "BooleanStatusResponse": {
        "type": "object",
        "description": "acknowledgement payload using a boolean `value`.",
        "properties": {
          "value": {
            "type": "boolean",
            "description": "Indicates whether the operation succeeded (`true`) or failed (`false`)."
          }
        },
        "required": [
          "value"
        ],
        "additionalProperties": false
      },
      "BooleanSuccessResponse": {
        "type": "object",
        "description": "acknowledgement payload using a boolean `success`.",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indicates whether the operation succeeded (`true`) or failed (`false`)."
          }
        },
        "required": [
          "success"
        ],
        "additionalProperties": false
      },
      "PrivacySettingsResponse": {
        "type": "object",
        "description": "Current privacy settings for the connected account.",
        "properties": {
          "groupAdd": {
            "type": "string",
            "description": "Who can add you to groups.",
            "enum": [
              "all",
              "contacts",
              "contact_blacklist",
              "none"
            ],
            "example": "contacts"
          },
          "lastSeen": {
            "type": "string",
            "description": "Who can see your last seen.",
            "enum": [
              "all",
              "contacts",
              "contact_blacklist",
              "none"
            ],
            "example": "contacts"
          },
          "status": {
            "type": "string",
            "description": "Who can see your status.",
            "enum": [
              "all",
              "contacts",
              "contact_blacklist",
              "none"
            ],
            "example": "contacts"
          },
          "profile": {
            "type": "string",
            "description": "Who can see your profile photo.",
            "enum": [
              "all",
              "contacts",
              "contact_blacklist",
              "none"
            ],
            "example": "contacts"
          },
          "readReceipts": {
            "type": "string",
            "description": "Read receipts setting.",
            "enum": [
              "all",
              "none"
            ],
            "example": "all"
          },
          "online": {
            "type": "string",
            "description": "Online presence visibility.",
            "enum": [
              "all",
              "match_last_seen"
            ],
            "example": "all"
          },
          "callAdd": {
            "type": "string",
            "description": "Who can call you.",
            "enum": [
              "all",
              "known"
            ],
            "example": "all"
          }
        },
        "additionalProperties": false
      },
      "UpdatePrivacyRequest": {
        "type": "object",
        "description": "Request body for updating a privacy setting.",
        "properties": {
          "value": {
            "type": "string",
            "description": "New privacy value.",
            "example": "contacts"
          }
        },
        "required": [
          "value"
        ],
        "additionalProperties": false
      },
      "UpdatePrivacyResponse": {
        "type": "object",
        "description": "Response after updating a privacy setting.",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the operation succeeded."
          },
          "setting": {
            "type": "string",
            "description": "The setting that was updated."
          },
          "value": {
            "type": "string",
            "description": "The new value."
          },
          "message": {
            "type": "string",
            "description": "Optional message."
          }
        },
        "required": [
          "success",
          "setting",
          "value"
        ],
        "additionalProperties": false
      },
      "ReadMessageRequest": {
        "type": "object",
        "description": "Request to mark messages as read.",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Phone number or JID of the chat.",
            "example": "5511999999999"
          },
          "messageIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of message IDs to mark as read.",
            "example": [
              "3EB0796DC18B7F954D54",
              "3EB0796DC18B7F954D55"
            ]
          }
        },
        "required": [
          "phone",
          "messageIds"
        ],
        "additionalProperties": false
      },
      "ReadMessageResponse": {
        "type": "object",
        "description": "Response after marking messages as read.",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the operation succeeded."
          },
          "markedCount": {
            "type": "integer",
            "description": "Number of messages marked as read."
          },
          "message": {
            "type": "string",
            "description": "Optional message."
          }
        },
        "required": [
          "success",
          "markedCount"
        ],
        "additionalProperties": false
      },
      "SendReactionRequest": {
        "type": "object",
        "description": "Request to send a reaction to a message.",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Phone number or JID of the chat containing the message.",
            "example": "5511999999999"
          },
          "messageId": {
            "type": "string",
            "description": "ID of the message to react to.",
            "example": "3EB0796DC18B7F954D54"
          },
          "reaction": {
            "type": "string",
            "description": "Emoji reaction to send.",
            "example": "👍"
          }
        },
        "required": [
          "phone",
          "messageId",
          "reaction"
        ],
        "additionalProperties": false
      },
      "SendRemoveReactionRequest": {
        "type": "object",
        "description": "Request to remove a reaction from a message.",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Phone number or JID of the chat containing the message.",
            "example": "5511999999999"
          },
          "messageId": {
            "type": "string",
            "description": "ID of the message to remove reaction from.",
            "example": "3EB0796DC18B7F954D54"
          }
        },
        "required": [
          "phone",
          "messageId"
        ],
        "additionalProperties": false
      },
      "ReactionResponse": {
        "type": "object",
        "description": "Response after sending or removing a reaction.",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the operation succeeded."
          },
          "messageId": {
            "type": "string",
            "description": "The message ID that was reacted to."
          },
          "reaction": {
            "type": "string",
            "description": "The reaction that was sent (empty if removed)."
          },
          "message": {
            "type": "string",
            "description": "Optional message."
          }
        },
        "required": [
          "success",
          "messageId"
        ],
        "additionalProperties": false
      },
      "ForwardMessageRequest": {
        "type": "object",
        "description": "Request to forward a message.",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Destination phone number or JID.",
            "example": "5511999999999"
          },
          "messageId": {
            "type": "string",
            "description": "ID of the message to forward.",
            "example": "3EB0796DC18B7F954D54"
          },
          "fromPhone": {
            "type": "string",
            "description": "Source chat phone number or JID.",
            "example": "5511888888888"
          },
          "isGroup": {
            "type": "boolean",
            "description": "Whether the source chat is a group.",
            "default": false
          },
          "delayMessage": {
            "type": "integer",
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted. For longer scheduling, prefer scheduledFor with an ISO 8601 timestamp."
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": "integer",
            "minimum": 1,
            "maximum": 15,
            "description": "Optional typing indicator duration."
          }
        },
        "required": [
          "phone",
          "messageId",
          "fromPhone"
        ],
        "additionalProperties": false
      },
      "ForwardMessageResponse": {
        "type": "object",
        "description": "Response after forwarding a message.",
        "properties": {
          "zapiId": {
            "type": "string",
            "description": "Queue tracking ID."
          },
          "messageId": {
            "type": "string",
            "description": "New message ID."
          },
          "phone": {
            "type": "string",
            "description": "Destination phone."
          },
          "status": {
            "type": "string",
            "description": "Queue status.",
            "enum": [
              "QUEUE",
              "QUEUED"
            ]
          }
        },
        "required": [
          "zapiId",
          "messageId",
          "phone",
          "status"
        ],
        "additionalProperties": false
      },
      "SendPollVoteRequest": {
        "type": "object",
        "description": "Request to vote on a poll.",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Phone number or JID of the chat containing the poll.",
            "example": "5511999999999"
          },
          "pollMessageId": {
            "type": "string",
            "description": "ID of the poll message.",
            "example": "3EB0796DC18B7F954D54"
          },
          "options": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Selected option names.",
            "example": [
              "Option A",
              "Option B"
            ]
          },
          "delayMessage": {
            "type": "integer",
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted. For longer scheduling, prefer scheduledFor with an ISO 8601 timestamp."
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          }
        },
        "required": [
          "phone",
          "pollMessageId",
          "options"
        ],
        "additionalProperties": false
      },
      "SendPollVoteResponse": {
        "type": "object",
        "description": "Response after voting on a poll.",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the operation succeeded."
          },
          "pollMessageId": {
            "type": "string",
            "description": "The poll message ID."
          },
          "votedOptions": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Options that were voted for."
          },
          "message": {
            "type": "string",
            "description": "Optional message."
          }
        },
        "required": [
          "success",
          "pollMessageId",
          "votedOptions"
        ],
        "additionalProperties": false
      },
      "PinMessageRequest": {
        "type": "object",
        "description": "Request to pin or unpin a chat.",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Phone number or JID of the chat to pin.",
            "example": "5511999999999"
          },
          "pin": {
            "type": "boolean",
            "description": "True to pin, false to unpin.",
            "default": true
          }
        },
        "required": [
          "phone"
        ],
        "additionalProperties": false
      },
      "PinMessageResponse": {
        "type": "object",
        "description": "Response after pinning or unpinning a chat.",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the operation succeeded."
          },
          "phone": {
            "type": "string",
            "description": "The chat that was pinned/unpinned."
          },
          "pinned": {
            "type": "boolean",
            "description": "Current pin status."
          },
          "message": {
            "type": "string",
            "description": "Optional message."
          }
        },
        "required": [
          "success",
          "phone",
          "pinned"
        ],
        "additionalProperties": false
      },
      "SendEditEventRequest": {
        "type": "object",
        "description": "Request to edit an existing event.",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Phone number or JID of the chat containing the event.",
            "example": "5511999999999"
          },
          "eventId": {
            "type": "string",
            "description": "ID of the event message to edit.",
            "example": "3EB047ED70306656281B34"
          },
          "name": {
            "type": "string",
            "description": "Updated event name.",
            "example": "Team Meeting - Updated"
          },
          "description": {
            "type": "string",
            "description": "Updated event description.",
            "example": "Weekly sync moved to new time"
          },
          "startTime": {
            "type": "string",
            "format": "date-time",
            "description": "Updated start time in RFC3339 format.",
            "example": "2024-01-15T14:00:00Z"
          },
          "endTime": {
            "type": "string",
            "format": "date-time",
            "description": "Updated end time in RFC3339 format.",
            "example": "2024-01-15T15:00:00Z"
          },
          "location": {
            "type": "string",
            "description": "Updated event location.",
            "example": "Conference Room B"
          },
          "canceled": {
            "type": "boolean",
            "description": "Set to true to cancel the event.",
            "default": false
          },
          "delayMessage": {
            "type": "integer",
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted. For longer scheduling, prefer scheduledFor with an ISO 8601 timestamp."
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": "integer",
            "minimum": 1,
            "maximum": 15,
            "description": "Optional typing simulation duration in seconds."
          }
        },
        "required": [
          "phone",
          "eventId"
        ],
        "additionalProperties": false
      },
      "SendEditEventResponse": {
        "type": "object",
        "description": "Response after editing an event.",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the operation succeeded."
          },
          "eventId": {
            "type": "string",
            "description": "The event message ID."
          },
          "messageId": {
            "type": "string",
            "description": "The sent message ID."
          },
          "message": {
            "type": "string",
            "description": "Optional status message."
          }
        },
        "required": [
          "success",
          "eventId"
        ],
        "additionalProperties": false
      },
      "SendEventResponseRequest": {
        "type": "object",
        "description": "Request to respond to an event invitation (RSVP).",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Phone number or JID of the chat containing the event.",
            "example": "5511999999999"
          },
          "eventId": {
            "type": "string",
            "description": "ID of the event message to respond to.",
            "example": "3EB047ED70306656281B34"
          },
          "response": {
            "type": "string",
            "enum": [
              "going",
              "not_going",
              "maybe"
            ],
            "description": "Response type:\n- `going` - Confirm attendance\n- `not_going` - Decline invitation\n- `maybe` - Tentative response\n",
            "example": "going"
          },
          "extraGuestCount": {
            "type": "integer",
            "minimum": 0,
            "description": "Number of additional guests attending.",
            "example": 2
          },
          "delayMessage": {
            "type": "integer",
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted. For longer scheduling, prefer scheduledFor with an ISO 8601 timestamp."
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": "integer",
            "minimum": 1,
            "maximum": 15,
            "description": "Optional typing simulation duration in seconds."
          }
        },
        "required": [
          "phone",
          "eventId",
          "response"
        ],
        "additionalProperties": false
      },
      "SendEventResponseResponse": {
        "type": "object",
        "description": "Response after sending an event RSVP.",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the operation succeeded."
          },
          "eventId": {
            "type": "string",
            "description": "The event message ID."
          },
          "response": {
            "type": "string",
            "description": "The response that was sent.",
            "enum": [
              "going",
              "not_going",
              "maybe"
            ]
          },
          "message": {
            "type": "string",
            "description": "Optional status message."
          }
        },
        "required": [
          "success",
          "eventId",
          "response"
        ],
        "additionalProperties": false
      },
      "ContactMetadataResponse": {
        "type": "object",
        "description": "Metadata about a contact.",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Phone number.",
            "example": "5511999999999"
          },
          "name": {
            "type": "string",
            "description": "Contact name (push name).",
            "example": "John Doe"
          },
          "status": {
            "type": "string",
            "description": "Contact status/about.",
            "example": "Hey there! I am using WhatsApp."
          },
          "pictureUrl": {
            "type": "string",
            "format": "uri",
            "description": "Profile picture URL."
          },
          "isOnWhatsApp": {
            "type": "boolean",
            "description": "Whether the number is on WhatsApp."
          },
          "verifiedName": {
            "type": "string",
            "description": "Verified business name (if applicable)."
          },
          "isBusiness": {
            "type": "boolean",
            "description": "Whether this is a business account."
          }
        },
        "required": [
          "phone",
          "isOnWhatsApp"
        ],
        "additionalProperties": false
      },
      "ProfilePictureResponse": {
        "type": "object",
        "description": "Profile picture information.",
        "properties": {
          "url": {
            "type": "string",
            "format": "uri",
            "description": "Direct URL to the profile picture.",
            "example": "https://pps.whatsapp.net/v/t61..."
          },
          "id": {
            "type": "string",
            "description": "Picture ID."
          },
          "type": {
            "type": "string",
            "description": "Picture type (image, preview).",
            "enum": [
              "image",
              "preview"
            ]
          }
        },
        "required": [
          "url"
        ],
        "additionalProperties": false
      },
      "ModifyBlockedRequest": {
        "type": "object",
        "description": "Request to block or unblock a contact.",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Phone number to block/unblock.",
            "example": "5511999999999"
          },
          "action": {
            "type": "string",
            "description": "Action to perform.",
            "enum": [
              "block",
              "unblock"
            ],
            "example": "block"
          }
        },
        "required": [
          "phone",
          "action"
        ],
        "additionalProperties": false
      },
      "ModifyBlockedResponse": {
        "type": "object",
        "description": "Response after blocking or unblocking a contact.",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the operation succeeded."
          },
          "phone": {
            "type": "string",
            "description": "The phone number affected."
          },
          "blocked": {
            "type": "boolean",
            "description": "Current block status."
          },
          "message": {
            "type": "string",
            "description": "Optional message."
          }
        },
        "required": [
          "success",
          "phone",
          "blocked"
        ],
        "additionalProperties": false
      },
      "UpdateProfileNameRequest": {
        "type": "object",
        "description": "Request to update profile name (push name).",
        "properties": {
          "name": {
            "type": "string",
            "description": "New profile name.",
            "example": "John Doe",
            "minLength": 1,
            "maxLength": 25
          }
        },
        "required": [
          "name"
        ],
        "additionalProperties": false
      },
      "UpdateProfileNameResponse": {
        "type": "object",
        "description": "Response after updating profile name.",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the operation succeeded."
          },
          "name": {
            "type": "string",
            "description": "The new profile name."
          },
          "message": {
            "type": "string",
            "description": "Optional message."
          }
        },
        "required": [
          "success",
          "name"
        ],
        "additionalProperties": false
      },
      "UpdateProfilePictureRequest": {
        "type": "object",
        "description": "Request to update profile picture.",
        "properties": {
          "image": {
            "type": "string",
            "description": "Base64-encoded JPEG image or URL.",
            "example": "data:image/jpeg;base64,/9j/4AAQ..."
          }
        },
        "required": [
          "image"
        ],
        "additionalProperties": false
      },
      "UpdateProfilePictureResponse": {
        "type": "object",
        "description": "Response after updating profile picture.",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the operation succeeded."
          },
          "pictureId": {
            "type": "string",
            "description": "New picture ID assigned by WhatsApp."
          },
          "message": {
            "type": "string",
            "description": "Optional message."
          }
        },
        "required": [
          "success"
        ],
        "additionalProperties": false
      },
      "UpdateProfileDescriptionRequest": {
        "type": "object",
        "description": "Request to update profile description (About/Status).",
        "properties": {
          "description": {
            "type": "string",
            "description": "New profile description.",
            "example": "Hey there! I am using WhatsApp.",
            "maxLength": 139
          }
        },
        "required": [
          "description"
        ],
        "additionalProperties": false
      },
      "UpdateProfileDescriptionResponse": {
        "type": "object",
        "description": "Response after updating profile description.",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the operation succeeded."
          },
          "description": {
            "type": "string",
            "description": "The new profile description."
          },
          "message": {
            "type": "string",
            "description": "Optional message."
          }
        },
        "required": [
          "success",
          "description"
        ],
        "additionalProperties": false
      },
      "InvitationLinkResponse": {
        "type": "object",
        "description": "Response containing a regenerated invitation link.",
        "properties": {
          "invitationLink": {
            "type": "string",
            "format": "uri",
            "description": "Invitation link generated by WhatsApp."
          }
        },
        "required": [
          "invitationLink"
        ],
        "additionalProperties": false
      },
      "GroupInvitationLinkResponse": {
        "type": "object",
        "description": "Response containing the current invitation link for a specific group.",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Group JID that owns the invitation link (suffix `-group`)."
          },
          "invitationLink": {
            "type": "string",
            "format": "uri",
            "description": "Invitation link generated by WhatsApp."
          }
        },
        "required": [
          "phone",
          "invitationLink"
        ],
        "additionalProperties": false
      },
      "GroupListItem": {
        "type": "object",
        "description": "summary entry returned by `/groups`.",
        "properties": {
          "archived": {
            "type": "boolean",
            "description": "Indicates whether the chat is archived."
          },
          "pinned": {
            "type": "boolean",
            "description": "Indicates whether the chat is pinned."
          },
          "phone": {
            "type": "string",
            "description": "Group JID identifier (`{id}-group`)."
          },
          "unread": {
            "type": "string",
            "description": "Number of unread messages represented as string for Zé da API parity."
          },
          "name": {
            "type": "string",
            "description": "Group name."
          },
          "lastMessageTime": {
            "type": "string",
            "description": "Millisecond timestamp of the last interaction represented as string."
          },
          "muteEndTime": {
            "type": [
              "string",
              "null"
            ],
            "description": "Millisecond timestamp when mute expires (`null` or `-1` for indefinitely muted)."
          },
          "isMuted": {
            "type": "string",
            "description": "`\"0\"` when notifications are enabled and `\"1\"` when muted."
          },
          "isMarkedSpam": {
            "type": "boolean",
            "description": "Indicates whether the chat is marked as spam."
          },
          "isGroup": {
            "type": "boolean",
            "description": "Always `true` for group listings."
          },
          "messagesUnread": {
            "type": "string",
            "description": "Deprecated unread counter kept for compatibility."
          }
        },
        "required": [
          "archived",
          "pinned",
          "phone",
          "unread",
          "name",
          "lastMessageTime",
          "isMuted",
          "isMarkedSpam",
          "isGroup",
          "messagesUnread"
        ],
        "additionalProperties": false
      },
      "GroupParticipant": {
        "type": "object",
        "description": "Participant metadata within a WhatsApp group.",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Participant phone number or JID."
          },
          "lid": {
            "type": [
              "string",
              "null"
            ],
            "description": "LID value returned by WhatsApp (when available)."
          },
          "isAdmin": {
            "type": "boolean",
            "description": "Indicates whether the participant is an administrator."
          },
          "isSuperAdmin": {
            "type": "boolean",
            "description": "Indicates whether the participant is the group owner."
          },
          "short": {
            "type": [
              "string",
              "null"
            ],
            "description": "Short name provided by WhatsApp (when available)."
          },
          "name": {
            "type": [
              "string",
              "null"
            ],
            "description": "Display name for the participant (when available)."
          }
        },
        "required": [
          "phone",
          "isAdmin",
          "isSuperAdmin"
        ],
        "additionalProperties": false
      },
      "GroupCreateRequest": {
        "type": "object",
        "description": "Request body for creating a new WhatsApp group.",
        "properties": {
          "autoInvite": {
            "type": "boolean",
            "description": "When true, sends private invites to contacts that cannot be added immediately."
          },
          "groupName": {
            "type": "string",
            "description": "Display name for the newly created group."
          },
          "phones": {
            "type": "array",
            "description": "Array of participant phone numbers (E.164) to add to the group.",
            "items": {
              "type": "string"
            },
            "minItems": 1
          }
        },
        "required": [
          "autoInvite",
          "groupName",
          "phones"
        ],
        "additionalProperties": false
      },
      "GroupCreateResponse": {
        "type": "object",
        "description": "Response returned after creating a group.",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Group JID generated by WhatsApp."
          },
          "invitationLink": {
            "type": "string",
            "format": "uri",
            "description": "Invitation link returned by WhatsApp for the new group."
          }
        },
        "required": [
          "phone",
          "invitationLink"
        ],
        "additionalProperties": false
      },
      "GroupUpdateNameRequest": {
        "type": "object",
        "description": "Request body for updating an existing group name.",
        "properties": {
          "groupId": {
            "type": "string",
            "description": "Group JID (suffix `-group`)."
          },
          "groupName": {
            "type": "string",
            "description": "New group name."
          }
        },
        "required": [
          "groupId",
          "groupName"
        ],
        "additionalProperties": false
      },
      "GroupUpdatePhotoRequest": {
        "type": "object",
        "description": "Request body for updating a group picture.",
        "properties": {
          "groupId": {
            "type": "string",
            "description": "Group JID (suffix `-group`)."
          },
          "groupPhoto": {
            "type": "string",
            "description": "URL or base64 data URL representing the group picture."
          }
        },
        "required": [
          "groupId",
          "groupPhoto"
        ],
        "additionalProperties": false
      },
      "GroupAddParticipantsRequest": {
        "type": "object",
        "description": "Request body for adding participants to a group.",
        "properties": {
          "autoInvite": {
            "type": "boolean",
            "description": "Sends private invites for contacts that could not be added automatically."
          },
          "groupId": {
            "type": "string",
            "description": "Group JID (suffix `-group`)."
          },
          "phones": {
            "type": "array",
            "description": "Array of participant phone numbers (E.164) to add.",
            "items": {
              "type": "string"
            },
            "minItems": 1
          }
        },
        "required": [
          "autoInvite",
          "groupId",
          "phones"
        ],
        "additionalProperties": false
      },
      "GroupParticipantListRequest": {
        "type": "object",
        "description": "Request body for removing, approving or rejecting group participants.",
        "properties": {
          "groupId": {
            "type": "string",
            "description": "Group JID (suffix `-group`)."
          },
          "phones": {
            "type": "array",
            "description": "Array of participant phone numbers (E.164) targeted by the operation.",
            "items": {
              "type": "string"
            },
            "minItems": 1
          }
        },
        "required": [
          "groupId",
          "phones"
        ],
        "additionalProperties": false
      },
      "GroupLeaveRequest": {
        "type": "object",
        "description": "Request body for leaving a group.",
        "properties": {
          "groupId": {
            "type": "string",
            "description": "Group JID (suffix `-group`)."
          }
        },
        "required": [
          "groupId"
        ],
        "additionalProperties": false
      },
      "GroupMetadataResponse": {
        "type": "object",
        "description": "Full metadata payload for a WhatsApp group, including participants and invitation link.",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Group JID (suffix `-group`)."
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Group description text."
          },
          "owner": {
            "type": "string",
            "description": "Phone number of the group creator."
          },
          "subject": {
            "type": "string",
            "description": "Current group subject (name)."
          },
          "creation": {
            "type": "integer",
            "format": "int64",
            "description": "Creation timestamp in milliseconds since epoch."
          },
          "invitationLink": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri",
            "description": "Invitation link for the group (available to admins)."
          },
          "invitationLinkError": {
            "type": [
              "string",
              "null"
            ],
            "description": "Error returned when the invitation link cannot be retrieved."
          },
          "communityId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Community identifier when the group belongs to a community."
          },
          "adminOnlyMessage": {
            "type": "boolean",
            "description": "Indicates whether only admins may send messages."
          },
          "adminOnlySettings": {
            "type": "boolean",
            "description": "Indicates whether only admins may change group settings."
          },
          "requireAdminApproval": {
            "type": "boolean",
            "description": "Indicates whether new participants require admin approval."
          },
          "isGroupAnnouncement": {
            "type": "boolean",
            "description": "Indicates whether the group is configured as an announcements group."
          },
          "participants": {
            "type": "array",
            "description": "Array of group participants.",
            "items": {
              "$ref": "#/components/schemas/GroupParticipant"
            }
          },
          "subjectTime": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64",
            "description": "Timestamp of the last subject change."
          },
          "subjectOwner": {
            "type": [
              "string",
              "null"
            ],
            "description": "Phone number of the participant who last changed the subject."
          }
        },
        "required": [
          "phone",
          "owner",
          "subject",
          "creation",
          "adminOnlyMessage",
          "adminOnlySettings",
          "requireAdminApproval",
          "isGroupAnnouncement",
          "participants"
        ],
        "additionalProperties": false
      },
      "GroupInvitationMetadataResponse": {
        "type": "object",
        "description": "Metadata returned when resolving a group invitation link.",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Group JID (suffix `-group`)."
          },
          "owner": {
            "type": "string",
            "description": "Phone number of the group creator."
          },
          "subject": {
            "type": "string",
            "description": "Group subject (name)."
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Group description text."
          },
          "creation": {
            "type": "integer",
            "format": "int64",
            "description": "Creation timestamp in milliseconds since epoch."
          },
          "invitationLink": {
            "type": "string",
            "format": "uri",
            "description": "Invitation link used in the lookup."
          },
          "contactsCount": {
            "type": "integer",
            "description": "Total number of contacts in the group."
          },
          "participantsCount": {
            "type": "integer",
            "description": "Total number of participants in the group."
          },
          "participants": {
            "type": "array",
            "description": "Array of group participants.",
            "items": {
              "$ref": "#/components/schemas/GroupParticipant"
            }
          },
          "subjectTime": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64",
            "description": "Timestamp of the last subject change."
          },
          "subjectOwner": {
            "type": [
              "string",
              "null"
            ],
            "description": "Phone number that owns the invitation subject."
          }
        },
        "required": [
          "phone",
          "owner",
          "subject",
          "creation",
          "invitationLink",
          "contactsCount",
          "participantsCount",
          "participants"
        ],
        "additionalProperties": false
      },
      "GroupSettingsRequest": {
        "type": "object",
        "description": "Request body for updating group settings.",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Group JID (suffix `-group`)."
          },
          "adminOnlyMessage": {
            "type": "boolean",
            "description": "When true, only admins can send messages."
          },
          "adminOnlySettings": {
            "type": "boolean",
            "description": "When true, only admins can change group settings."
          },
          "requireAdminApproval": {
            "type": "boolean",
            "description": "When true, new participants must be approved by an admin."
          },
          "adminOnlyAddMember": {
            "type": "boolean",
            "description": "When true, only admins can add members."
          }
        },
        "required": [
          "phone",
          "adminOnlyMessage",
          "adminOnlySettings",
          "requireAdminApproval",
          "adminOnlyAddMember"
        ],
        "additionalProperties": false
      },
      "GroupDescriptionRequest": {
        "type": "object",
        "description": "Request body for updating a group description.",
        "properties": {
          "groupId": {
            "type": "string",
            "description": "Group JID (suffix `-group`)."
          },
          "groupDescription": {
            "type": "string",
            "description": "New group description text."
          }
        },
        "required": [
          "groupId",
          "groupDescription"
        ],
        "additionalProperties": false
      },
      "CommunityCreateRequest": {
        "type": "object",
        "description": "Request body for creating a new community.",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the community."
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional description for the community."
          }
        },
        "required": [
          "name"
        ],
        "additionalProperties": false
      },
      "CommunitySubGroup": {
        "type": "object",
        "description": "Representation of a subgroup linked to a community.",
        "properties": {
          "name": {
            "type": "string",
            "description": "Group display name."
          },
          "phone": {
            "type": "string",
            "description": "Group JID (suffix `-group`)."
          },
          "isGroupAnnouncement": {
            "type": "boolean",
            "description": "Indicates whether the subgroup is an announcements-only group."
          }
        },
        "required": [
          "name",
          "phone",
          "isGroupAnnouncement"
        ],
        "additionalProperties": false
      },
      "CommunityCreateResponse": {
        "type": "object",
        "description": "Response returned after creating a community.",
        "properties": {
          "id": {
            "type": "string",
            "description": "Community identifier assigned by WhatsApp."
          },
          "subGroups": {
            "type": "array",
            "description": "Groups automatically linked to the community (includes the announcements group).",
            "items": {
              "$ref": "#/components/schemas/CommunitySubGroup"
            }
          }
        },
        "required": [
          "id",
          "subGroups"
        ],
        "additionalProperties": false
      },
      "CommunityListItem": {
        "type": "object",
        "description": "Community summary returned by the listing endpoint.",
        "properties": {
          "name": {
            "type": "string",
            "description": "Community display name."
          },
          "id": {
            "type": "string",
            "description": "Community identifier."
          }
        },
        "required": [
          "name",
          "id"
        ],
        "additionalProperties": false
      },
      "CommunityLinkRequest": {
        "type": "object",
        "description": "Request body for linking groups to a community.",
        "properties": {
          "communityId": {
            "type": "string",
            "description": "Community identifier."
          },
          "groupsPhones": {
            "type": "array",
            "description": "Array of group JIDs to link to the community.",
            "items": {
              "type": "string"
            },
            "minItems": 1
          }
        },
        "required": [
          "communityId",
          "groupsPhones"
        ],
        "additionalProperties": false
      },
      "CommunitySettingsRequest": {
        "type": "object",
        "description": "Request body for updating community settings.",
        "properties": {
          "communityId": {
            "type": "string",
            "description": "Community identifier."
          },
          "whoCanAddNewGroups": {
            "type": "string",
            "description": "Defines who can add new groups to the community (`admins` or `all`).",
            "enum": [
              "admins",
              "all"
            ]
          }
        },
        "required": [
          "communityId",
          "whoCanAddNewGroups"
        ],
        "additionalProperties": false
      },
      "CommunityDescriptionRequest": {
        "type": "object",
        "description": "Request body for updating the community description.",
        "properties": {
          "communityId": {
            "type": "string",
            "description": "Community identifier."
          },
          "communityDescription": {
            "type": "string",
            "description": "New community description text.",
            "minLength": 1
          }
        },
        "required": [
          "communityId",
          "communityDescription"
        ],
        "additionalProperties": false
      },
      "CommunityMetadataResponse": {
        "type": "object",
        "description": "Metadata returned for a community.",
        "properties": {
          "name": {
            "type": "string",
            "description": "Community display name."
          },
          "id": {
            "type": "string",
            "description": "Community identifier."
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Community description text."
          },
          "subGroups": {
            "type": "array",
            "description": "Linked groups.",
            "items": {
              "$ref": "#/components/schemas/CommunitySubGroup"
            }
          }
        },
        "required": [
          "name",
          "id",
          "subGroups"
        ],
        "additionalProperties": false
      },
      "CommunityAddParticipantsRequest": {
        "type": "object",
        "description": "Request body for adding participants to a community announcements group.",
        "properties": {
          "autoInvite": {
            "type": "boolean",
            "description": "Sends private invites for contacts that could not be added automatically."
          },
          "communityId": {
            "type": "string",
            "description": "Community identifier."
          },
          "phones": {
            "type": "array",
            "description": "Array of participant phone numbers (E.164) to add.",
            "items": {
              "type": "string"
            },
            "minItems": 1
          }
        },
        "required": [
          "autoInvite",
          "communityId",
          "phones"
        ],
        "additionalProperties": false
      },
      "CommunityParticipantListRequest": {
        "type": "object",
        "description": "Request body for removing participants from a community announcements group.",
        "properties": {
          "communityId": {
            "type": "string",
            "description": "Community identifier."
          },
          "phones": {
            "type": "array",
            "description": "Array of participant phone numbers (E.164) targeted by the operation.",
            "items": {
              "type": "string"
            },
            "minItems": 1
          }
        },
        "required": [
          "communityId",
          "phones"
        ],
        "additionalProperties": false
      },
      "CommunityAdminMutationRequest": {
        "type": "object",
        "description": "Request body for promoting or demoting community administrators.",
        "properties": {
          "communityId": {
            "type": "string",
            "description": "Community identifier."
          },
          "phones": {
            "type": "array",
            "description": "Array of participant phone numbers (E.164) targeted by the operation.",
            "items": {
              "type": "string"
            },
            "minItems": 1
          }
        },
        "required": [
          "communityId",
          "phones"
        ],
        "additionalProperties": false
      },
      "NewsletterCreateRequest": {
        "type": "object",
        "description": "Request body for creating a WhatsApp channel (newsletter).",
        "properties": {
          "name": {
            "type": "string",
            "description": "Channel display name."
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional channel description."
          }
        },
        "required": [
          "name"
        ],
        "additionalProperties": false
      },
      "NewsletterCreateResponse": {
        "type": "object",
        "description": "Response returned after creating a channel.",
        "properties": {
          "id": {
            "type": "string",
            "description": "Channel identifier (always suffixed with `@newsletter`)."
          }
        },
        "required": [
          "id"
        ],
        "additionalProperties": false
      },
      "NewsletterUpdatePictureRequest": {
        "type": "object",
        "description": "Request body for updating the channel profile picture.",
        "properties": {
          "id": {
            "type": "string",
            "description": "Channel identifier (suffix `@newsletter`)."
          },
          "pictureUrl": {
            "type": "string",
            "description": "URL or base64 data URL for the new picture."
          }
        },
        "required": [
          "id",
          "pictureUrl"
        ],
        "additionalProperties": false
      },
      "NewsletterUpdateNameRequest": {
        "type": "object",
        "description": "Request body for updating the channel name.",
        "properties": {
          "id": {
            "type": "string",
            "description": "Channel identifier (suffix `@newsletter`)."
          },
          "name": {
            "type": "string",
            "description": "New channel name."
          }
        },
        "required": [
          "id",
          "name"
        ],
        "additionalProperties": false
      },
      "NewsletterUpdateDescriptionRequest": {
        "type": "object",
        "description": "Request body for updating the channel description.",
        "properties": {
          "id": {
            "type": "string",
            "description": "Channel identifier (suffix `@newsletter`)."
          },
          "description": {
            "type": "string",
            "description": "New channel description."
          }
        },
        "required": [
          "id",
          "description"
        ],
        "additionalProperties": false
      },
      "NewsletterIdRequest": {
        "type": "object",
        "description": "Request body for operations that only require the channel identifier.",
        "properties": {
          "id": {
            "type": "string",
            "description": "Channel identifier (suffix `@newsletter`)."
          }
        },
        "required": [
          "id"
        ],
        "additionalProperties": false
      },
      "NewsletterMetadata": {
        "type": "object",
        "description": "Metadata describing a channel (newsletter).",
        "properties": {
          "id": {
            "type": "string",
            "description": "Channel identifier (suffix `@newsletter`)."
          },
          "creationTime": {
            "type": "string",
            "description": "Unix timestamp in seconds represented as string."
          },
          "state": {
            "type": "string",
            "description": "Channel state reported by WhatsApp (e.g. `ACTIVE`, `NON_EXISTING`)."
          },
          "name": {
            "type": "string",
            "description": "Channel display name."
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Channel description text."
          },
          "subscribersCount": {
            "type": "string",
            "description": "Total subscriber count represented as string."
          },
          "inviteLink": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri",
            "description": "Invitation link for the channel."
          },
          "verification": {
            "type": "string",
            "description": "Channel verification status (`VERIFIED`, `UNVERIFIED`)."
          },
          "picture": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri",
            "description": "URL for the channel avatar."
          },
          "preview": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri",
            "description": "URL for the preview image."
          },
          "viewMetadata": {
            "type": "object",
            "description": "Metadata about how the authenticated account sees the channel.",
            "properties": {
              "mute": {
                "type": "string",
                "description": "Indicates whether the channel is muted (`ON`, `OFF`)."
              },
              "role": {
                "type": "string",
                "description": "Role of the authenticated account (`OWNER`, `SUBSCRIBER`)."
              }
            },
            "required": [
              "mute",
              "role"
            ],
            "additionalProperties": false
          }
        },
        "required": [
          "id",
          "creationTime",
          "state",
          "name",
          "subscribersCount",
          "verification",
          "viewMetadata"
        ],
        "additionalProperties": false
      },
      "NewsletterSearchFilters": {
        "type": "object",
        "description": "Filters applied when searching for channels.",
        "properties": {
          "countryCodes": {
            "type": "array",
            "description": "List of ISO country codes used to filter channels.",
            "items": {
              "type": "string"
            },
            "minItems": 1
          }
        },
        "required": [
          "countryCodes"
        ],
        "additionalProperties": false
      },
      "NewsletterSearchRequest": {
        "type": "object",
        "description": "Request body for searching public channels.",
        "properties": {
          "limit": {
            "type": "integer",
            "minimum": 1,
            "description": "Maximum number of results to return."
          },
          "view": {
            "type": "string",
            "description": "Optional view name used by WhatsApp (`RECOMMENDED`, `TRENDING`, `POPULAR`, `NEW`).",
            "enum": [
              "RECOMMENDED",
              "TRENDING",
              "POPULAR",
              "NEW"
            ]
          },
          "filters": {
            "$ref": "#/components/schemas/NewsletterSearchFilters"
          },
          "searchText": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional free text search term."
          }
        },
        "required": [
          "limit",
          "filters"
        ],
        "additionalProperties": false
      },
      "NewsletterSearchItem": {
        "type": "object",
        "description": "Single result entry returned by the search endpoint.",
        "properties": {
          "id": {
            "type": "string",
            "description": "Channel identifier (suffix `@newsletter`)."
          },
          "name": {
            "type": "string",
            "description": "Channel display name."
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Channel description snippet."
          },
          "subscribersCount": {
            "type": "string",
            "description": "Total subscriber count represented as string."
          },
          "picture": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri",
            "description": "Channel picture URL when available."
          }
        },
        "required": [
          "id",
          "name",
          "subscribersCount"
        ],
        "additionalProperties": false
      },
      "NewsletterSearchResponse": {
        "type": "object",
        "description": "Response payload returned by the newsletter search endpoint.",
        "properties": {
          "cursor": {
            "type": [
              "string",
              "null"
            ],
            "description": "Cursor returned by WhatsApp for subsequent pages (currently always null)."
          },
          "data": {
            "type": "array",
            "description": "List of channels matching the search criteria.",
            "items": {
              "$ref": "#/components/schemas/NewsletterSearchItem"
            }
          }
        },
        "required": [
          "cursor",
          "data"
        ],
        "additionalProperties": false
      },
      "NewsletterSettingsRequest": {
        "type": "object",
        "description": "Request body for updating newsletter settings.",
        "properties": {
          "reactionCodes": {
            "type": "string",
            "description": "Restriction applied to reactions within the channel.",
            "enum": [
              "basic",
              "all"
            ]
          }
        },
        "required": [
          "reactionCodes"
        ],
        "additionalProperties": false
      },
      "NewsletterAdminActionRequest": {
        "type": "object",
        "description": "Request body for admin invite management within a channel.",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Phone number of the target administrator."
          }
        },
        "required": [
          "phone"
        ],
        "additionalProperties": false
      },
      "SendNewsletterAdminInviteRequest": {
        "type": "object",
        "description": "Request body for sending admin invite to a channel participant.",
        "properties": {
          "id": {
            "type": "string",
            "description": "Channel identifier (suffix `@newsletter`)."
          },
          "phone": {
            "type": "string",
            "description": "Phone number of the participant to invite as administrator."
          }
        },
        "required": [
          "id",
          "phone"
        ],
        "additionalProperties": false
      },
      "NewsletterTransferOwnershipRequest": {
        "type": "object",
        "description": "Request body for transferring channel ownership.",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Phone number of the participant who will become the new owner."
          },
          "quitAdmin": {
            "type": "boolean",
            "description": "When true, the current owner leaves the admin role after transfer.",
            "default": false
          }
        },
        "required": [
          "phone"
        ],
        "additionalProperties": false
      },
      "NewsletterTransferOwnershipResponse": {
        "type": "object",
        "description": "Response returned after attempting to transfer channel ownership.",
        "properties": {
          "value": {
            "type": "boolean",
            "description": "Indicates whether the transfer succeeded."
          },
          "message": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional error message when the transfer fails."
          }
        },
        "required": [
          "value"
        ],
        "additionalProperties": false
      },
      "PhoneExistsResponse": {
        "type": "object",
        "description": "response for phone number validation.\nReturns whether a phone number is registered on WhatsApp along with phone and LID.\n",
        "properties": {
          "exists": {
            "type": "boolean",
            "description": "true if the phone number has WhatsApp, false otherwise",
            "example": true
          },
          "phone": {
            "type": [
              "string",
              "null"
            ],
            "description": "Phone number if exists on WhatsApp, null otherwise",
            "example": "5521979232690"
          },
          "lid": {
            "type": [
              "string",
              "null"
            ],
            "description": "LID (Linked ID) if available, null otherwise",
            "example": "140712372899859@lid"
          }
        },
        "required": [
          "exists"
        ],
        "additionalProperties": false
      },
      "PhoneExistsBatchRequest": {
        "type": "object",
        "description": "request for batch phone number validation.\nAllows validating up to 50,000 phone numbers in a single request.\n",
        "properties": {
          "phones": {
            "type": "array",
            "description": "Array of phone numbers to validate.\nEach number must be in international format (DDI DDD NUMBER).\nNumbers only - no formatting, spaces, or masks.\n",
            "items": {
              "type": "string",
              "pattern": "^\\d+$"
            },
            "minItems": 1,
            "maxItems": 50000,
            "example": [
              "554499999999",
              "554488888888"
            ]
          }
        },
        "required": [
          "phones"
        ],
        "additionalProperties": false
      },
      "PhoneExistsBatchResponse": {
        "type": "object",
        "description": "response for batch phone number validation.\nContains the validation result for each phone number in the batch.\n",
        "properties": {
          "exists": {
            "type": "boolean",
            "description": "true if the phone number has WhatsApp, false otherwise",
            "example": true
          },
          "inputPhone": {
            "type": "string",
            "description": "Phone number as sent in the request (may or may not include ninth digit)",
            "example": "554499999999"
          },
          "outputPhone": {
            "type": "string",
            "description": "Formatted phone number from WhatsApp response.\nReflects the WhatsApp registration and includes ninth digit if applicable.\n",
            "example": "554499999999"
          }
        },
        "required": [
          "exists",
          "inputPhone",
          "outputPhone"
        ],
        "additionalProperties": false
      },
      "StatusCacheParticipantStatus": {
        "type": "object",
        "description": "Individual participant's status within a group message.",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Participant's phone number (MSISDN format)",
            "example": "5511999999999"
          },
          "status": {
            "type": "string",
            "description": "Current status of the message for this participant.\n- `sent`: Message sent to WhatsApp servers\n- `delivered`: Message delivered to participant's device\n- `read`: Message read by participant\n- `played`: Audio/video/PTT played by participant\n",
            "enum": [
              "sent",
              "delivered",
              "read",
              "played"
            ],
            "example": "read"
          },
          "timestamp": {
            "type": "integer",
            "format": "int64",
            "description": "Unix timestamp in milliseconds when status was received",
            "example": 1735200000000
          },
          "device": {
            "type": "integer",
            "description": "WhatsApp device ID (0 = primary, 1+ = linked devices)",
            "example": 0
          }
        },
        "required": [
          "phone",
          "status",
          "timestamp"
        ],
        "additionalProperties": false
      },
      "StatusCacheAggregatedStatus": {
        "type": "object",
        "description": "Aggregated status summary for a message, showing delivery statistics\nacross all recipients (for groups) or the single recipient (for direct messages).\n",
        "properties": {
          "messageId": {
            "type": "string",
            "description": "WhatsApp message ID",
            "example": "3EB0A1B2C3D4E5F6"
          },
          "instanceId": {
            "type": "string",
            "format": "uuid",
            "description": "Instance that sent the message",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "groupId": {
            "type": "string",
            "description": "Group ID (only present for group messages)",
            "example": "120363182823169824"
          },
          "phone": {
            "type": "string",
            "description": "For direct messages: recipient phone number.\nFor groups: group JID or identifier.\n",
            "example": "5511999999999"
          },
          "isGroup": {
            "type": "boolean",
            "description": "Whether this is a group message",
            "example": true
          },
          "totalParticipants": {
            "type": "integer",
            "description": "Total number of participants with status updates",
            "example": 25
          },
          "status": {
            "type": "object",
            "description": "Count of participants by status type",
            "additionalProperties": {
              "type": "integer"
            },
            "example": {
              "sent": 25,
              "delivered": 23,
              "read": 15,
              "played": 0
            }
          },
          "participants": {
            "type": "array",
            "description": "Individual participant statuses (only included when requested)",
            "items": {
              "$ref": "#/components/schemas/StatusCacheParticipantStatus"
            }
          },
          "createdAt": {
            "type": "integer",
            "format": "int64",
            "description": "Unix timestamp (ms) when first status was cached",
            "example": 1735200000000
          },
          "updatedAt": {
            "type": "integer",
            "format": "int64",
            "description": "Unix timestamp (ms) of most recent status update",
            "example": 1735200060000
          }
        },
        "required": [
          "messageId",
          "instanceId",
          "phone",
          "isGroup",
          "totalParticipants",
          "status",
          "createdAt",
          "updatedAt"
        ],
        "additionalProperties": false
      },
      "StatusCacheQueryMeta": {
        "type": "object",
        "description": "Pagination metadata for status cache queries.",
        "properties": {
          "total": {
            "type": "integer",
            "format": "int64",
            "description": "Total number of matching entries",
            "example": 150
          },
          "limit": {
            "type": "integer",
            "description": "Maximum entries per page",
            "example": 100
          },
          "offset": {
            "type": "integer",
            "description": "Current page offset",
            "example": 0
          }
        },
        "required": [
          "total",
          "limit",
          "offset"
        ],
        "additionalProperties": false
      },
      "StatusCacheQueryResult": {
        "type": "object",
        "description": "Aggregated query result with human-readable status summaries.\nReturns processed data with participant counts by status type.\n",
        "properties": {
          "data": {
            "type": "array",
            "description": "Array of aggregated status entries",
            "items": {
              "$ref": "#/components/schemas/StatusCacheAggregatedStatus"
            }
          },
          "meta": {
            "$ref": "#/components/schemas/StatusCacheQueryMeta"
          }
        },
        "required": [
          "data",
          "meta"
        ],
        "additionalProperties": false
      },
      "StatusCacheRawStatusPayload": {
        "type": "object",
        "description": "Raw status payload as originally received from WhatsApp.\nUseful for debugging or when exact original data is needed.\n",
        "properties": {
          "messageId": {
            "type": "string",
            "description": "WhatsApp message ID",
            "example": "3EB0A1B2C3D4E5F6"
          },
          "instanceId": {
            "type": "string",
            "format": "uuid",
            "description": "Instance ID",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "payload": {
            "type": "object",
            "description": "Original webhook payload",
            "additionalProperties": true
          },
          "cachedAt": {
            "type": "integer",
            "format": "int64",
            "description": "Unix timestamp (ms) when entry was cached",
            "example": 1735200000000
          }
        },
        "required": [
          "messageId",
          "instanceId",
          "payload",
          "cachedAt"
        ],
        "additionalProperties": false
      },
      "StatusCacheRawQueryResult": {
        "type": "object",
        "description": "Raw query result with original webhook payloads.\nUse format=raw to retrieve this format.\n",
        "properties": {
          "data": {
            "type": "array",
            "description": "Array of raw status payloads",
            "items": {
              "$ref": "#/components/schemas/StatusCacheRawStatusPayload"
            }
          },
          "meta": {
            "$ref": "#/components/schemas/StatusCacheQueryMeta"
          }
        },
        "required": [
          "data",
          "meta"
        ],
        "additionalProperties": false
      },
      "StatusCacheFlushRequest": {
        "type": "object",
        "description": "Request to flush (deliver) pending webhooks.\nSpecify either `messageId` for a single message or `all: true` for all pending.\n",
        "properties": {
          "messageId": {
            "type": "string",
            "description": "Flush webhooks for a specific message ID",
            "example": "3EB0A1B2C3D4E5F6"
          },
          "all": {
            "type": "boolean",
            "description": "Set to true to flush all pending webhooks",
            "default": false
          }
        },
        "additionalProperties": false
      },
      "StatusCacheFlushResult": {
        "type": "object",
        "description": "Result of a flush operation.",
        "properties": {
          "flushed": {
            "type": "integer",
            "description": "Number of pending webhook entries processed",
            "example": 15
          },
          "webhooksTriggered": {
            "type": "integer",
            "description": "Number of webhooks actually dispatched",
            "example": 15
          }
        },
        "required": [
          "flushed",
          "webhooksTriggered"
        ],
        "additionalProperties": false
      },
      "StatusCacheClearSingleResult": {
        "type": "object",
        "description": "Result of clearing a single message from cache.",
        "properties": {
          "cleared": {
            "type": "integer",
            "description": "Number of entries cleared (0 or 1)",
            "example": 1
          },
          "messageId": {
            "type": "string",
            "description": "The message ID that was cleared",
            "example": "3EB0A1B2C3D4E5F6"
          }
        },
        "required": [
          "cleared",
          "messageId"
        ],
        "additionalProperties": false
      },
      "StatusCacheClearAllResult": {
        "type": "object",
        "description": "Result of clearing all cached entries for an instance.",
        "properties": {
          "cleared": {
            "type": "integer",
            "format": "int64",
            "description": "Total number of entries cleared",
            "example": 150
          }
        },
        "required": [
          "cleared"
        ],
        "additionalProperties": false
      },
      "StatusCacheStats": {
        "type": "object",
        "description": "Statistics about the status cache for an instance.",
        "properties": {
          "totalEntries": {
            "type": "integer",
            "format": "int64",
            "description": "Total number of cached status entries",
            "example": 1500
          },
          "entriesByInstance": {
            "type": "object",
            "description": "Breakdown of entries by instance ID",
            "additionalProperties": {
              "type": "integer",
              "format": "int64"
            },
            "example": {
              "550e8400-e29b-41d4-a716-446655440000": 1500
            }
          },
          "pendingWebhooks": {
            "type": "integer",
            "format": "int64",
            "description": "Number of webhooks pending delivery (waiting for flush)",
            "example": 45
          }
        },
        "required": [
          "totalEntries",
          "entriesByInstance",
          "pendingWebhooks"
        ],
        "additionalProperties": false
      },
      "ButtonType": {
        "type": "string",
        "description": "Type of button for interactive messages.\n\n**Button Types:**\n- `quick_reply` - Simple reply button (max 20 chars label)\n- `cta_url` - Opens a URL in browser\n- `cta_call` - Initiates a phone call\n- `cta_copy` - Copies text to clipboard\n- `payment_info` - Shows payment information\n- `review_and_pay` - Review and pay action\n",
        "enum": [
          "quick_reply",
          "cta_url",
          "cta_call",
          "cta_copy",
          "payment_info",
          "review_and_pay"
        ],
        "example": "cta_url"
      },
      "PIXKeyType": {
        "type": "string",
        "description": "Type of PIX key for Brazilian payment system.\n\n**PIX Key Types:**\n- `CPF` - Brazilian individual taxpayer ID (11 digits)\n- `CNPJ` - Brazilian company taxpayer ID (14 digits)\n- `EMAIL` - Email address\n- `PHONE` - Phone number with country code\n- `EVP` - Random PIX key (UUID format)\n",
        "enum": [
          "CPF",
          "CNPJ",
          "EMAIL",
          "PHONE",
          "EVP"
        ],
        "example": "CPF"
      },
      "InteractiveButton": {
        "type": "object",
        "description": "Button definition for interactive messages.\n\n**Usage:**\n- For `quick_reply`: Only `id` and `label` required\n- For `cta_url`: Requires `url` field\n- For `cta_call`: Requires `phone` field\n- For `cta_copy`: Requires `copyCode` field\n\n**Label Limits:**\n- `quick_reply`: max 20 characters\n- Other types: max 25 characters\n",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the button (used in callbacks)",
            "example": "btn_1"
          },
          "type": {
            "$ref": "#/components/schemas/ButtonType"
          },
          "label": {
            "type": "string",
            "description": "Button display text",
            "maxLength": 25,
            "example": "Click here"
          },
          "url": {
            "type": "string",
            "format": "uri",
            "description": "URL for cta_url button type",
            "example": "https://httpbin.org/get"
          },
          "phone": {
            "type": "string",
            "description": "Phone number for cta_call button type (international format)",
            "example": "+5511999999999"
          },
          "copyCode": {
            "type": "string",
            "description": "Text to copy for cta_copy button type",
            "example": "DISCOUNT10"
          }
        },
        "required": [
          "type",
          "label"
        ],
        "additionalProperties": false
      },
      "ActionButton": {
        "type": "object",
        "description": "Action button for interactive messages (CTA buttons).\n\n**Supported Actions:**\n- Open URL (`cta_url`)\n- Make call (`cta_call`)\n- Copy text (`cta_copy`)\n- Quick reply (`quick_reply`)\n",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique button identifier (max 256 chars)",
            "maxLength": 256,
            "example": "btn_1"
          },
          "type": {
            "$ref": "#/components/schemas/ButtonType"
          },
          "label": {
            "type": "string",
            "description": "Button display text (max 25 chars, 20 for quick_reply)",
            "maxLength": 25,
            "example": "View Details"
          },
          "url": {
            "type": "string",
            "format": "uri",
            "description": "URL to open (required for cta_url)",
            "example": "https://httpbin.org/anything/details"
          },
          "phone": {
            "type": "string",
            "description": "Phone number to call (required for cta_call)",
            "example": "+5511999999999"
          },
          "copyCode": {
            "type": "string",
            "description": "Text to copy (required for cta_copy)",
            "example": "CODE123"
          }
        },
        "required": [
          "id",
          "type",
          "label"
        ],
        "additionalProperties": false
      },
      "Button": {
        "type": "object",
        "description": "Simple reply button for button-list messages.\n\n**Limits:**\n- ID: max 256 characters\n- Title: max 20 characters\n",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique button identifier (returned in selection callback)",
            "maxLength": 256,
            "example": "btn_yes"
          },
          "title": {
            "type": "string",
            "description": "Button display text",
            "maxLength": 20,
            "example": "Yes"
          }
        },
        "required": [
          "id",
          "title"
        ],
        "additionalProperties": false
      },
      "ListRow": {
        "type": "object",
        "description": "Row item in a list/option message.\n\n**Limits:**\n- Title: max 24 characters\n- Description: max 72 characters\n",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the row (returned in selection callback)",
            "example": "row_1"
          },
          "title": {
            "type": "string",
            "description": "Row title displayed to user",
            "maxLength": 24,
            "example": "Option 1"
          },
          "description": {
            "type": "string",
            "description": "Optional row description",
            "maxLength": 72,
            "example": "This is the first option"
          }
        },
        "required": [
          "id",
          "title"
        ],
        "additionalProperties": false
      },
      "ListSection": {
        "type": "object",
        "description": "Section containing rows in a button list message.\n\n**Limits:**\n- Title: max 24 characters\n- Rows per section: max 10\n",
        "properties": {
          "title": {
            "type": "string",
            "description": "Section title displayed as header",
            "maxLength": 24,
            "example": "Choose an option"
          },
          "rows": {
            "type": "array",
            "description": "List of rows in this section",
            "items": {
              "$ref": "#/components/schemas/ListRow"
            },
            "minItems": 1,
            "maxItems": 10
          }
        },
        "required": [
          "title",
          "rows"
        ],
        "additionalProperties": false
      },
      "PIXPayment": {
        "type": "object",
        "description": "PIX payment information for Brazilian payment messages.\n\n**Required Fields:**\n- `keyType`: Type of PIX key\n- `key`: The PIX key value\n- `name`: Beneficiary name\n- `amount`: Payment amount in BRL\n\n**Optional Fields:**\n- `description`: Payment description\n- `merchantCity`: Merchant city for PIX\n- `merchantName`: Merchant name\n- `txId`: Transaction identifier\n",
        "properties": {
          "keyType": {
            "$ref": "#/components/schemas/PIXKeyType"
          },
          "key": {
            "type": "string",
            "description": "PIX key value (format depends on keyType)",
            "example": "12345678900"
          },
          "name": {
            "type": "string",
            "description": "Beneficiary name (who receives the payment)",
            "example": "John Doe"
          },
          "amount": {
            "type": "number",
            "format": "float",
            "description": "Payment amount in BRL (Brazilian Real)",
            "minimum": 0.01,
            "example": 99.9
          },
          "description": {
            "type": "string",
            "description": "Payment description/memo",
            "example": "Product purchase"
          },
          "merchantCity": {
            "type": "string",
            "description": "Merchant city for PIX QR code",
            "example": "SAO PAULO"
          },
          "merchantName": {
            "type": "string",
            "description": "Merchant name for PIX QR code",
            "example": "My Store"
          },
          "txId": {
            "type": "string",
            "description": "Transaction identifier for tracking",
            "example": "TX123456789"
          }
        },
        "required": [
          "keyType",
          "key",
          "name",
          "amount"
        ],
        "additionalProperties": false
      },
      "CarouselCard": {
        "type": "object",
        "description": "Card in a carousel message.\n\n**Structure:**\n- mediaUrl: URL for card image/video (required)\n- body: Text content (required, max 1024 chars)\n- buttons: Action buttons (required, 1-3 per card)\n- header: Optional header text (max 60 chars)\n- footer: Optional footer text (max 60 chars)\n\n**Limits:**\n- Body text: max 1024 characters\n- Buttons per card: 1-3\n- Header text: max 60 characters\n- Footer text: max 60 characters\n",
        "properties": {
          "mediaUrl": {
            "type": "string",
            "format": "uri",
            "description": "URL for card image or video (required)",
            "example": "https://picsum.photos/600/400.jpg"
          },
          "body": {
            "type": "string",
            "description": "Card body text content (required)",
            "maxLength": 1024,
            "example": "Product description here"
          },
          "buttons": {
            "type": "array",
            "description": "Action buttons for this card (1-3 buttons required)",
            "items": {
              "$ref": "#/components/schemas/ActionButton"
            },
            "minItems": 1,
            "maxItems": 3
          },
          "header": {
            "type": "string",
            "description": "Optional card header text",
            "maxLength": 60,
            "example": "Product Name"
          },
          "footer": {
            "type": "string",
            "description": "Optional card footer text",
            "maxLength": 60,
            "example": "$99.99"
          }
        },
        "required": [
          "mediaUrl",
          "body",
          "buttons"
        ],
        "additionalProperties": false
      },
      "SendButtonListRequest": {
        "type": "object",
        "description": "Request body for sending simple reply button messages.\n\n**Features:**\n- Simple reply buttons (1-3 buttons)\n- Optional header image/video\n- Quick selection callbacks\n\n**Limits:**\n- Max 3 buttons\n- Title: max 60 chars\n- Message: max 1024 chars\n- Footer: max 60 chars\n- Button title: max 20 chars\n\n**Message Queue:** Messages are queued per recipient with FIFO ordering.\n",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Recipient phone number in international format (without + prefix).\n\n**Examples:**\n- Individual: `5511999999999` (Brazil mobile)\n- Group: `120363047204807488@g.us`\n",
            "example": "5511999999999"
          },
          "message": {
            "type": "string",
            "description": "Message body text",
            "maxLength": 1024,
            "example": "Please select one of the options below"
          },
          "buttons": {
            "type": "array",
            "description": "Simple reply buttons (1-3 buttons)",
            "items": {
              "$ref": "#/components/schemas/Button"
            },
            "minItems": 1,
            "maxItems": 3
          },
          "title": {
            "type": "string",
            "description": "Message title displayed at the top (optional)",
            "maxLength": 60,
            "example": "Choose an option"
          },
          "footer": {
            "type": "string",
            "description": "Footer text at the bottom of the message (optional)",
            "maxLength": 60,
            "example": "Powered by our service"
          },
          "image": {
            "type": "string",
            "description": "Optional header image URL or base64.\n\n**Formats:**\n- URL: `https://picsum.photos/600/400.jpg`\n- Base64: `data:image/png;base64,...`\n",
            "example": "https://picsum.photos/600/400.jpg"
          },
          "video": {
            "type": "string",
            "description": "Optional header video URL or base64.\n\n**Formats:**\n- URL: `https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4`\n- Base64: `data:video/mp4;base64,...`\n",
            "example": "https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4"
          },
          "messageId": {
            "type": "string",
            "description": "Optional custom message ID for tracking/reply"
          },
          "delayMessage": {
            "type": "integer",
            "minimum": 0,
            "description": "Delay in seconds before sending. Any non-negative integer accepted. For longer scheduling, prefer scheduledFor with an ISO 8601 timestamp.",
            "example": 0
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": "integer",
            "minimum": 0,
            "maximum": 15,
            "description": "Typing indicator delay in seconds (0-15)",
            "example": 0
          }
        },
        "required": [
          "phone",
          "message",
          "buttons"
        ],
        "additionalProperties": false
      },
      "SendButtonActionsRequest": {
        "type": "object",
        "description": "Request body for sending button actions messages.\n\n**Features:**\n- CTA buttons (URL, Call, Copy)\n- Optional image header\n- Quick reply buttons\n\n**Button Types:**\n- `quick_reply` - Simple reply button\n- `cta_url` - Opens a URL\n- `cta_call` - Initiates a phone call\n- `cta_copy` - Copies text to clipboard\n\n**Limits:**\n- Max 3 buttons\n- Label: max 25 chars (20 for quick_reply)\n- Title: max 60 chars\n- Message: max 1024 chars\n- Footer: max 60 chars\n\n**Message Queue:** Messages are queued per recipient with FIFO ordering.\n",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Recipient phone number in international format",
            "example": "5511999999999"
          },
          "title": {
            "type": "string",
            "description": "Message title",
            "maxLength": 60,
            "example": "Action Required"
          },
          "message": {
            "type": "string",
            "description": "Message body text",
            "maxLength": 1024,
            "example": "Please take one of the following actions"
          },
          "footer": {
            "type": "string",
            "description": "Footer text",
            "maxLength": 60,
            "example": "Thank you"
          },
          "buttons": {
            "type": "array",
            "description": "Action buttons (max 3)",
            "items": {
              "$ref": "#/components/schemas/ActionButton"
            },
            "minItems": 1,
            "maxItems": 3
          },
          "image": {
            "type": "string",
            "description": "Optional header image URL or base64.\n\n**Formats:**\n- URL: `https://picsum.photos/600/400.jpg`\n- Base64: `data:image/png;base64,...`\n",
            "example": "https://picsum.photos/600/400.jpg"
          },
          "messageId": {
            "type": "string",
            "format": "uuid",
            "description": "Optional custom message ID for tracking"
          },
          "delayMessage": {
            "type": "integer",
            "minimum": 0,
            "description": "Delay in seconds before sending. Any non-negative integer accepted. For longer scheduling, prefer scheduledFor with an ISO 8601 timestamp.",
            "example": 0
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          }
        },
        "required": [
          "phone",
          "buttons"
        ],
        "additionalProperties": false
      },
      "SendOptionListRequest": {
        "type": "object",
        "description": "Request body for sending interactive list/menu messages.\n\n**Features:**\n- Multiple sections with rows\n- Expandable list menu\n- Selection callbacks\n\n**Limits:**\n- Max 10 sections\n- Max 10 rows per section\n- Title: max 60 chars\n- Message: max 4096 chars\n- Footer: max 60 chars\n- Button label: max 20 chars\n- Section title: max 24 chars\n- Row title: max 24 chars\n- Row description: max 72 chars\n\n**Message Queue:** Messages are queued per recipient with FIFO ordering.\n",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Recipient phone number in international format",
            "example": "5511999999999"
          },
          "message": {
            "type": "string",
            "description": "Message body text",
            "maxLength": 4096,
            "example": "Please select one of the options below"
          },
          "buttonLabel": {
            "type": "string",
            "description": "Text on the button that opens the menu (max 20 chars)",
            "maxLength": 20,
            "example": "View Menu"
          },
          "sections": {
            "type": "array",
            "description": "List of sections containing rows (1-10 sections)",
            "items": {
              "$ref": "#/components/schemas/ListSection"
            },
            "minItems": 1,
            "maxItems": 10
          },
          "title": {
            "type": "string",
            "description": "Message title (optional)",
            "maxLength": 60,
            "example": "Select an option"
          },
          "footer": {
            "type": "string",
            "description": "Footer text (optional)",
            "maxLength": 60,
            "example": "Footer text"
          },
          "messageId": {
            "type": "string",
            "description": "Optional custom message ID for tracking/reply"
          },
          "delayMessage": {
            "type": "integer",
            "minimum": 0,
            "description": "Delay in seconds before sending. Any non-negative integer accepted. For longer scheduling, prefer scheduledFor with an ISO 8601 timestamp.",
            "example": 0
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": "integer",
            "minimum": 0,
            "maximum": 15,
            "description": "Typing indicator delay in seconds (0-15)",
            "example": 0
          }
        },
        "required": [
          "phone",
          "message",
          "buttonLabel",
          "sections"
        ],
        "additionalProperties": false
      },
      "SendButtonPIXRequest": {
        "type": "object",
        "description": "Request body for sending PIX payment messages.\n\n**Features:**\n- PIX QR code generation\n- Copy-paste PIX code\n- Multiple PIX key types\n\n**PIX Key Types:**\n- `CPF` - Brazilian individual taxpayer ID\n- `CNPJ` - Brazilian company taxpayer ID\n- `EMAIL` - Email address\n- `PHONE` - Phone number\n- `EVP` - Random PIX key (UUID format)\n\n**Message Queue:** Messages are queued per recipient with FIFO ordering.\n",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Recipient phone number in international format",
            "example": "5511999999999"
          },
          "message": {
            "type": "string",
            "description": "Message body (optional, default \"Pagamento via PIX\")",
            "maxLength": 1024,
            "example": "Please complete your payment"
          },
          "pixKey": {
            "type": "string",
            "description": "PIX key value (format depends on key type)",
            "example": "12345678900"
          },
          "type": {
            "$ref": "#/components/schemas/PIXKeyType"
          },
          "name": {
            "type": "string",
            "description": "Beneficiary name (optional)",
            "example": "John Doe"
          },
          "amount": {
            "type": "number",
            "format": "float",
            "description": "Payment amount in BRL (optional)",
            "minimum": 0.01,
            "example": 99.9
          },
          "transactionId": {
            "type": "string",
            "description": "Transaction identifier for tracking (optional)",
            "example": "TX123456789"
          },
          "messageId": {
            "type": "string",
            "description": "Optional custom message ID for tracking/reply"
          },
          "delayMessage": {
            "type": "integer",
            "minimum": 0,
            "description": "Delay in seconds before sending. Any non-negative integer accepted. For longer scheduling, prefer scheduledFor with an ISO 8601 timestamp.",
            "example": 0
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": "integer",
            "minimum": 0,
            "maximum": 15,
            "description": "Typing indicator delay in seconds (0-15)",
            "example": 0
          }
        },
        "required": [
          "phone",
          "pixKey",
          "type"
        ],
        "additionalProperties": false
      },
      "SendButtonOTPRequest": {
        "type": "object",
        "description": "Request body for sending OTP (One-Time Password) messages.\n\n**Features:**\n- One-tap copy button\n- Verification code display\n- 2FA/Authentication flows\n\n**Use Cases:**\n- Login verification\n- Password reset\n- Two-factor authentication\n- Account verification\n\n**Message Queue:** Messages are queued per recipient with FIFO ordering.\n",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Recipient phone number in international format",
            "example": "5511999999999"
          },
          "message": {
            "type": "string",
            "description": "Message body containing OTP context (required)",
            "maxLength": 1024,
            "example": "Your verification code is below. Do not share it with anyone."
          },
          "code": {
            "type": "string",
            "description": "OTP code to copy (max 20 chars)",
            "maxLength": 20,
            "example": "123456"
          },
          "title": {
            "type": "string",
            "description": "Optional header text",
            "maxLength": 60,
            "example": "Verification Code"
          },
          "footer": {
            "type": "string",
            "description": "Optional footer text",
            "maxLength": 60,
            "example": "Code expires in 5 minutes"
          },
          "messageId": {
            "type": "string",
            "format": "uuid",
            "description": "Optional custom message ID for tracking"
          },
          "delayMessage": {
            "type": "integer",
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted. For longer scheduling, prefer scheduledFor with an ISO 8601 timestamp.",
            "example": 0
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": "integer",
            "minimum": 1,
            "maximum": 15,
            "description": "Typing indicator delay in seconds (1-15)",
            "example": 0
          }
        },
        "required": [
          "phone",
          "message",
          "code"
        ],
        "additionalProperties": false
      },
      "SendCarouselRequest": {
        "type": "object",
        "description": "Request body for sending carousel messages.\n\n**Features:**\n- Multiple swipeable cards with media\n- Action buttons per card (1-3)\n- Optional card type selection\n\n**Limits:**\n- Cards: 1-10 per carousel\n- Buttons per card: 1-3\n- Body text: max 1024 chars per card\n\n**Card Types:**\n- HSCROLL_CARDS: Horizontal scrolling cards (default)\n- ALBUM_IMAGE: Image album format\n\n**Use Cases:**\n- Product catalogs\n- Image galleries\n- Multi-option presentations\n- Tutorial sequences\n\n**Message Queue:** Messages are queued per recipient with FIFO ordering.\n",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Recipient phone number in international format",
            "example": "5511999999999"
          },
          "message": {
            "type": "string",
            "description": "Carousel body text displayed above the cards.\nThis is the main message that appears before the carousel cards.\n",
            "maxLength": 1024,
            "example": "Check out our latest products!"
          },
          "cards": {
            "type": "array",
            "description": "Carousel cards (1-10 cards)",
            "items": {
              "$ref": "#/components/schemas/CarouselCard"
            },
            "minItems": 1,
            "maxItems": 10
          },
          "cardType": {
            "type": "string",
            "description": "Card display type",
            "enum": [
              "HSCROLL_CARDS",
              "ALBUM_IMAGE"
            ],
            "default": "HSCROLL_CARDS",
            "example": "HSCROLL_CARDS"
          },
          "messageId": {
            "type": "string",
            "description": "Optional custom message ID for tracking"
          },
          "delayMessage": {
            "type": "integer",
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted. For longer scheduling, prefer scheduledFor with an ISO 8601 timestamp.",
            "example": 0
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": "integer",
            "minimum": 1,
            "maximum": 15,
            "description": "Typing indicator delay in seconds (1-15)",
            "example": 0
          }
        },
        "required": [
          "phone",
          "cards"
        ],
        "additionalProperties": false
      },
      "MessageQueuedResponse": {
        "type": "object",
        "description": "Response after successfully queuing an interactive message.",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the message was queued successfully",
            "example": true
          },
          "message": {
            "type": "string",
            "description": "Status message",
            "example": "Message queued successfully"
          },
          "data": {
            "type": "object",
            "properties": {
              "queueId": {
                "type": "string",
                "format": "uuid",
                "description": "Queue entry ID for tracking",
                "example": "123e4567-e89b-12d3-a456-426614174000"
              },
              "messageId": {
                "type": "string",
                "description": "Message ID (same as queueId until sent)",
                "example": "123e4567-e89b-12d3-a456-426614174001"
              },
              "status": {
                "type": "string",
                "description": "Queue status",
                "enum": [
                  "queued",
                  "processing",
                  "sent",
                  "failed"
                ],
                "example": "queued"
              }
            },
            "required": [
              "queueId",
              "messageId",
              "status"
            ]
          }
        },
        "required": [
          "success",
          "message",
          "data"
        ],
        "additionalProperties": false
      },
      "PollOption": {
        "type": "object",
        "description": "A single poll option",
        "properties": {
          "name": {
            "type": "string",
            "description": "Option text",
            "example": "Zé da API"
          }
        },
        "required": [
          "name"
        ],
        "additionalProperties": false
      },
      "SendPollRequest": {
        "type": "object",
        "description": "Request body for sending poll messages.\n\n**Features:**\n- Create polls with 2-12 options\n- Single or multiple choice selection\n- Optional reply-to support\n- Typing indicator and delay support\n",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Recipient phone number in international format",
            "example": "554499999999"
          },
          "message": {
            "type": "string",
            "description": "Poll question text (Zé da API uses \"message\" field for the question)",
            "example": "Outra enquete"
          },
          "poll": {
            "type": "array",
            "description": "Poll options array (2-12 options required)",
            "items": {
              "$ref": "#/components/schemas/PollOption"
            },
            "minItems": 2,
            "maxItems": 12,
            "example": [
              {
                "name": "Zé da API"
              },
              {
                "name": "Test"
              }
            ]
          },
          "pollMaxOptions": {
            "type": "integer",
            "description": "Maximum selections allowed: 0 for single choice, 1+ for multiple choice",
            "minimum": 0,
            "maximum": 12,
            "default": 0,
            "example": 1
          },
          "messageId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional WhatsApp message ID to reply to"
          },
          "delayMessage": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted. For longer scheduling, prefer scheduledFor with an ISO 8601 timestamp.",
            "example": 5
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "maximum": 15,
            "description": "Typing indicator duration in seconds (1-15)"
          }
        },
        "required": [
          "phone",
          "message",
          "poll"
        ],
        "additionalProperties": false
      },
      "EventLocation": {
        "type": "object",
        "description": "Event location information",
        "properties": {
          "name": {
            "type": "string",
            "description": "Location name",
            "example": "Nome do lugar"
          },
          "degreesLatitude": {
            "type": [
              "number",
              "null"
            ],
            "format": "double",
            "description": "Latitude coordinate"
          },
          "degreesLongitude": {
            "type": [
              "number",
              "null"
            ],
            "format": "double",
            "description": "Longitude coordinate"
          }
        },
        "additionalProperties": false
      },
      "EventPayload": {
        "type": "object",
        "description": "Nested event object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Event name/title",
            "example": "Nome do evento"
          },
          "description": {
            "type": "string",
            "description": "Event description",
            "example": "Descricao do evento"
          },
          "dateTime": {
            "type": "string",
            "format": "date-time",
            "description": "Event date and time in ISO 8601 format",
            "example": "2024-04-29T09:30:53.309Z"
          },
          "location": {
            "$ref": "#/components/schemas/EventLocation"
          },
          "callLinkType": {
            "type": "string",
            "description": "Type of call link for the event",
            "enum": [
              "voice",
              "video"
            ],
            "example": "voice"
          },
          "canceled": {
            "type": "boolean",
            "description": "Whether the event is canceled",
            "default": false,
            "example": false
          }
        },
        "required": [
          "name",
          "dateTime"
        ],
        "additionalProperties": false
      },
      "SendEventRequest": {
        "type": "object",
        "description": "Request body for sending calendar event messages.\n\n**Features:**\n- Send calendar events to groups\n- Support for location and call links\n- Event cancellation support\n",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Recipient phone number or group JID (e.g., \"120363356737170752-group\")",
            "example": "120363356737170752-group"
          },
          "event": {
            "$ref": "#/components/schemas/EventPayload"
          },
          "messageId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional WhatsApp message ID to reply to"
          },
          "delayMessage": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted. For longer scheduling, prefer scheduledFor with an ISO 8601 timestamp."
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "maximum": 15,
            "description": "Typing indicator duration in seconds (1-15)"
          }
        },
        "required": [
          "phone",
          "event"
        ],
        "additionalProperties": false
      },
      "SendLinkRequest": {
        "type": "object",
        "description": "Request body for sending link messages with custom preview.\n\n**Features:**\n- Custom link preview title and description\n- Custom preview image\n- Optional message text before the link\n- Reply-to support\n",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Recipient phone number in international format",
            "example": "5544999999999"
          },
          "message": {
            "type": "string",
            "description": "Optional text message that appears before the link",
            "example": "Mensagem que ira aparecer antes do link"
          },
          "image": {
            "type": "string",
            "description": "Custom preview image URL",
            "example": "https://api.zedaapi.com/logos/zeapi-dark.png"
          },
          "linkUrl": {
            "type": "string",
            "format": "uri",
            "description": "URL to share",
            "example": "https://api.zedaapi.com"
          },
          "title": {
            "type": "string",
            "description": "Custom link preview title",
            "example": "Titulo da mensagem"
          },
          "linkDescription": {
            "type": "string",
            "description": "Custom link preview description",
            "example": "Descricao do link"
          },
          "messageId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional WhatsApp message ID to reply to"
          },
          "delayMessage": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "description": "Delay in seconds before sending. Any positive integer accepted. For longer scheduling, prefer scheduledFor with an ISO 8601 timestamp.",
            "example": 5
          },
          "scheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "ISO 8601 timestamp for scheduled delivery. Takes priority over delayMessage if both provided."
          },
          "delayTyping": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 1,
            "maximum": 15,
            "description": "Typing indicator duration in seconds (1-15)"
          }
        },
        "required": [
          "phone",
          "linkUrl"
        ],
        "additionalProperties": false
      },
      "ModifyChatRequest": {
        "type": "object",
        "description": "Request body for modifying chat state.\n\n**Supported Actions:**\n- read: Mark chat as read\n- archive: Archive the chat\n- unarchive: Unarchive the chat\n- pin: Pin the chat\n- unpin: Unpin the chat\n- mute: Mute notifications (8 hours default)\n- unmute: Unmute notifications\n- clear: Clear chat messages (not supported by whatsmeow)\n- delete: Delete the chat\n",
        "properties": {
          "phone": {
            "type": "string",
            "description": "Phone number or group JID",
            "example": "554499999999"
          },
          "action": {
            "type": "string",
            "description": "Action to perform on the chat",
            "enum": [
              "read",
              "archive",
              "unarchive",
              "pin",
              "unpin",
              "mute",
              "unmute",
              "clear",
              "delete"
            ],
            "example": "delete"
          }
        },
        "required": [
          "phone",
          "action"
        ],
        "additionalProperties": false
      },
      "ModifyChatResponse": {
        "type": "object",
        "description": "Response for modify-chat operations",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the operation was successful",
            "example": true
          },
          "phone": {
            "type": "string",
            "description": "Phone number that was modified",
            "example": "554499999999"
          },
          "action": {
            "type": "string",
            "description": "Action that was performed",
            "example": "delete"
          },
          "message": {
            "type": "string",
            "description": "Status message",
            "example": "Chat delete successful"
          }
        },
        "required": [
          "success",
          "phone",
          "action"
        ],
        "additionalProperties": false
      },
      "DeleteMessageResponse": {
        "type": "object",
        "description": "Response for delete message operations",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the message was deleted successfully",
            "example": true
          },
          "phone": {
            "type": "string",
            "description": "Phone number/chat where message was deleted",
            "example": "554499999999"
          },
          "messageId": {
            "type": "string",
            "description": "ID of the deleted message",
            "example": "3EB047ED70306656281B34"
          },
          "message": {
            "type": "string",
            "description": "Status message",
            "example": "Message deleted successfully"
          }
        },
        "required": [
          "success",
          "phone",
          "messageId"
        ],
        "additionalProperties": false
      },
      "MediaStatsResponse": {
        "type": "object",
        "description": "Statistics about media storage system",
        "properties": {
          "total_files": {
            "type": "integer",
            "description": "Total number of media files stored",
            "example": 1234
          },
          "total_bytes": {
            "type": "integer",
            "format": "int64",
            "description": "Total size of all media files in bytes",
            "example": 1073741824
          },
          "base_path": {
            "type": "string",
            "description": "Base directory path for media storage",
            "example": "/data/media"
          },
          "url_expiry": {
            "type": "string",
            "description": "Default URL expiration duration",
            "example": "24h0m0s"
          },
          "public_base_url": {
            "type": "string",
            "description": "Public base URL for media access",
            "example": "https://api.example.com/media"
          }
        },
        "required": [
          "total_files",
          "total_bytes",
          "base_path",
          "url_expiry",
          "public_base_url"
        ],
        "additionalProperties": false
      },
      "PrometheusMetrics": {
        "type": "string",
        "description": "Prometheus exposition format metrics.\nContains application metrics including:\n- HTTP request counts and latencies\n- Message queue statistics\n- WhatsApp connection status\n- Event processing metrics\n",
        "example": "# HELP http_requests_total Total HTTP requests\n# TYPE http_requests_total counter\nhttp_requests_total{method=\"GET\",path=\"/health\"} 1234\n"
      }
    }
  },
  "paths": {
    "/health": {
      "get": {
        "tags": [
          "System"
        ],
        "summary": "Liveness probe",
        "description": "Returns a JSON object indicating that the API process is running.",
        "operationId": "healthLiveness",
        "security": [],
        "responses": {
          "200": {
            "description": "Process is alive and capable of serving traffic.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthStatusResponse"
                }
              }
            }
          }
        }
      }
    },
    "/ready": {
      "get": {
        "tags": [
          "System"
        ],
        "summary": "Readiness probe",
        "description": "Checks critical dependencies (Postgres, Redis lock manager). The service is considered ready when all reported components are `healthy`. Any `degraded` or `unhealthy` status results in a `503` response.\n",
        "operationId": "healthReadiness",
        "security": [],
        "responses": {
          "200": {
            "description": "Service is ready to receive traffic.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadinessResponse"
                },
                "examples": {
                  "ready": {
                    "value": {
                      "ready": true,
                      "observed_at": "2024-05-28T10:59:00Z",
                      "checks": {
                        "database": {
                          "status": "healthy",
                          "duration_ms": 12
                        },
                        "redis": {
                          "status": "healthy",
                          "duration_ms": 8,
                          "circuit_state": "CLOSED"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "503": {
            "description": "At least one dependency is degraded or unavailable.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadinessResponse"
                },
                "examples": {
                  "degraded": {
                    "value": {
                      "ready": false,
                      "observed_at": "2024-05-28T11:01:00Z",
                      "checks": {
                        "database": {
                          "status": "unhealthy",
                          "error": "database not configured",
                          "duration_ms": 3
                        },
                        "redis": {
                          "status": "degraded",
                          "error": "fallback lock in use",
                          "duration_ms": 7,
                          "circuit_state": "OPEN"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/metrics": {
      "get": {
        "tags": [
          "System"
        ],
        "summary": "Prometheus metrics endpoint",
        "description": "Exposes application metrics in Prometheus exposition format.\nIncludes HTTP request counts, message queue statistics, WhatsApp connection status,\nand event processing metrics.\n\n**Available Metric Categories:**\n- `http_*`: HTTP request counts and latencies\n- `message_queue_*`: Message queue depth and processing rates\n- `whatsapp_*`: WhatsApp connection and message statistics\n- `event_*`: Event processing metrics\n",
        "operationId": "prometheusMetrics",
        "security": [],
        "responses": {
          "200": {
            "description": "Prometheus metrics in text exposition format",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/PrometheusMetrics"
                }
              }
            }
          }
        }
      }
    },
    "/instances": {
      "get": {
        "tags": [
          "Partner"
        ],
        "summary": "List partner instances",
        "description": "Returns a paginated list of managed WhatsApp instances for the partner account.",
        "operationId": "listInstances",
        "security": [
          {
            "PartnerBearer": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "query",
            "schema": {
              "type": "string"
            },
            "description": "Filter results by instance name or session name."
          },
          {
            "in": "query",
            "name": "middleware",
            "schema": {
              "type": "string"
            },
            "description": "Informational middleware flag (matches Zé da API contract)."
          },
          {
            "in": "query",
            "name": "page",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Page number (1-indexed).",
            "example": 1
          },
          {
            "in": "query",
            "name": "pageSize",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 200
            },
            "description": "Page size (defaults to 15 as in Zé da API examples).",
            "example": 15
          }
        ],
        "responses": {
          "200": {
            "description": "List of instances owned by the partner.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstanceListResponse"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid Partner bearer token.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/integrator/on-demand": {
      "post": {
        "tags": [
          "Partner"
        ],
        "summary": "Partner creates an instance on demand",
        "description": "Mirrors Zé da API partner endpoint for provisioning instances via integrator credentials.",
        "operationId": "partnerCreateInstance",
        "security": [
          {
            "PartnerBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PartnerInstanceCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Instance created for partner",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PartnerInstanceCreateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid payload",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}": {
      "delete": {
        "tags": [
          "Partner"
        ],
        "summary": "Permanently delete instance (Partner API)",
        "description": "**⚠️ IRREVERSIBLE OPERATION ⚠️**\n\nPermanently deletes a WhatsApp instance including all associated data from both databases.\n\n**Complete Cleanup Operations:**\n- ✅ Disconnects the WhatsApp client immediately\n- ✅ Disables auto-reconnect to prevent reconnection\n- ✅ **Deletes device store from whatsmeow_store database**\n- ✅ Stops lock refresh goroutine\n- ✅ Releases Redis distributed lock\n- ✅ Removes client from in-memory registry\n- ✅ **Deletes instance record from api_core database**\n- ✅ **Deletes all webhook configurations (CASCADE)**\n- ✅ **Deletes all webhook outbox entries (CASCADE)**\n- ✅ **Deletes all webhook DLQ entries (manual deletion)**\n- ✅ **Deletes all instance event logs (manual deletion)**\n\n**Database Deletion Strategy:**\n- Uses transaction to ensure ACID compliance\n- Manually deletes tables without CASCADE constraints (webhook_dlq, instance_events_log)\n- Relies on CASCADE for webhook_configs and webhook_outbox\n- Deletes device credentials from separate whatsmeow_store database\n\n**Authentication:**\n- Requires Partner Bearer token only (no instance token needed)\n- This is a Partner-level administrative operation\n\n**Use Cases:**\n- Cleanup of test/development instances\n- Customer offboarding and data removal\n- GDPR/data deletion compliance requests\n- Freeing resources from inactive instances\n\n**Important Notes:**\n- **This operation cannot be undone or reversed**\n- All data associated with the instance is permanently lost\n- The instance cannot be recovered or reconnected after deletion\n- Consider using `/disconnect` if you need to preserve the instance record\n",
        "operationId": "partnerDeleteInstance",
        "security": [
          {
            "PartnerBearer": []
          }
        ],
        "parameters": [
          {
            "name": "instanceId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Unique instance identifier to permanently delete.",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          }
        ],
        "responses": {
          "200": {
            "description": "Instance permanently deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": [
                        "deleted"
                      ],
                      "description": "Confirmation that instance was deleted",
                      "example": "deleted"
                    }
                  },
                  "required": [
                    "status"
                  ]
                },
                "example": {
                  "status": "deleted"
                }
              }
            }
          },
          "400": {
            "description": "Invalid instance ID format (must be valid UUID)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "invalid instance id"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid Partner bearer token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found in database",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found"
                }
              }
            }
          },
          "500": {
            "description": "Internal error during deletion (transaction may have been rolled back)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "delete instance from database: connection error"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/status": {
      "get": {
        "tags": [
          "Instances"
        ],
        "summary": "Retrieve instance status",
        "description": "Mirrors Zé da API `/status`, returning live connectivity information for a provisioned instance.",
        "operationId": "getInstanceStatus",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "responses": {
          "200": {
            "description": "Instance status snapshot",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstanceStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/qr-code": {
      "get": {
        "tags": [
          "Instances"
        ],
        "summary": "Fetch QR code for pairing",
        "description": "Mirrors Zé da API `/qr-code`, returning the current QR string required to link a phone.",
        "operationId": "getInstanceQRCode",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "responses": {
          "200": {
            "description": "Current QR code payload (text/plain)",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/qr-code/image": {
      "get": {
        "tags": [
          "Instances"
        ],
        "summary": "Fetch QR code as base64 image",
        "description": "Mirrors Zé da API `/qr-code/image`, returning a PNG image encoded in base64 for rendering in clients.",
        "operationId": "getInstanceQRCodeImage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "responses": {
          "200": {
            "description": "QR code rendered as base64 PNG data URL.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QRCodeImageResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/device": {
      "get": {
        "tags": [
          "Instances"
        ],
        "summary": "Retrieve device metadata",
        "description": "Mirrors Zé da API `/device`, returning information about the currently linked phone.",
        "operationId": "getInstanceDevice",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "responses": {
          "200": {
            "description": "Device metadata currently associated with the instance.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstanceDeviceResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/phone-code/{phone}": {
      "get": {
        "tags": [
          "Instances"
        ],
        "summary": "Fetch phone pairing code",
        "description": "Mirrors Zé da API `/phone-code/{phone}`, returning a code that can be typed into WhatsApp instead of scanning the QR code.",
        "operationId": "getInstancePhoneCode",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "in": "path",
            "name": "phone",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "International phone number (numbers only) used for code pairing."
          }
        ],
        "responses": {
          "200": {
            "description": "Pairing code generated for the provided phone number.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PhoneCodeResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid phone number supplied.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/restart": {
      "get": {
        "tags": [
          "Instances"
        ],
        "summary": "Restart an instance connection",
        "description": "Equivalent to Zé da API `/restart`, forcing the client to reconnect to WhatsApp.",
        "operationId": "restartInstanceGet",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "responses": {
          "200": {
            "description": "Restart signal accepted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                },
                "example": {
                  "value": true
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Instances"
        ],
        "summary": "Restart an instance connection",
        "description": "Equivalent to Zé da API `/restart`, forcing the client to reconnect to WhatsApp.",
        "operationId": "restartInstance",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "responses": {
          "200": {
            "description": "Restart signal accepted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                },
                "example": {
                  "value": true
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/disconnect": {
      "get": {
        "tags": [
          "Instances"
        ],
        "summary": "Complete disconnect with cleanup (Logout)",
        "description": "Performs a complete disconnect with full cleanup, equivalent to logout/reset.\n\n**This operation performs the following actions:**\n\n- ✅ Disables auto-reconnect to prevent automatic reconnection\n- ✅ Disconnects WebSocket connection immediately\n- ✅ **Deletes device store from whatsmeow_store database**\n- ✅ Stops lock refresh goroutine\n- ✅ Releases Redis distributed lock\n- ✅ Removes client from in-memory registry\n- ✅ Clears store_jid in api_core database (sets to NULL)\n\n**Important Notes:**\n\n- The instance record remains in the database (status becomes \"disconnected\")\n- To permanently delete the instance, use `DELETE /partner/instances/{instanceId}`\n- After disconnect, you can reconnect by calling `/qrcode` or `/pairphone`\n- All webhook configurations are preserved\n\n**Use Cases:**\n\n- User logout from WhatsApp\n- Switching to a different phone number\n- Temporary disconnection for maintenance\n- Resetting a stuck connection\n\n**Comparison with DELETE endpoint:**\n\n- Disconnect: Keeps instance record, allows reconnection\n- Delete: Permanent removal, cannot be recovered\n",
        "operationId": "disconnectInstanceGet",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "responses": {
          "200": {
            "description": "Complete disconnect with cleanup accepted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                },
                "example": {
                  "value": true
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid client token or instance token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Instances"
        ],
        "summary": "Complete disconnect with cleanup (Logout)",
        "description": "Performs a complete disconnect with full cleanup, equivalent to logout/reset.\n\n**This operation performs the following actions:**\n- ✅ Disables auto-reconnect to prevent automatic reconnection\n- ✅ Disconnects WebSocket connection immediately\n- ✅ **Deletes device store from whatsmeow_store database**\n- ✅ Stops lock refresh goroutine\n- ✅ Releases Redis distributed lock\n- ✅ Removes client from in-memory registry\n- ✅ Clears store_jid in api_core database (sets to NULL)\n\n**Important Notes:**\n- The instance record remains in the database (status becomes \"disconnected\")\n- To permanently delete the instance, use `DELETE /partner/instances/{instanceId}`\n- After disconnect, you can reconnect by calling `/qrcode` or `/pairphone`\n- All webhook configurations are preserved\n\n**Use Cases:**\n- User logout from WhatsApp\n- Switching to a different phone number\n- Temporary disconnection for maintenance\n- Resetting a stuck connection\n\n**Comparison with DELETE endpoint:**\n- Disconnect: Keeps instance record, allows reconnection\n- Delete: Permanent removal, cannot be recovered\n",
        "operationId": "disconnectInstance",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "responses": {
          "200": {
            "description": "Complete disconnect with cleanup accepted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                },
                "example": {
                  "value": true
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid client token or instance token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-webhook-delivery": {
      "put": {
        "tags": [
          "Instances"
        ],
        "summary": "Update delivery webhook",
        "description": "Mirrors Zé da API `/update-webhook-delivery`, configuring the sent-message webhook endpoint.",
        "operationId": "updateWebhookDelivery",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebhookValueRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Webhook updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookUpdateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid payload or non-HTTPS URL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-webhook-received": {
      "put": {
        "tags": [
          "Instances"
        ],
        "summary": "Update received webhook",
        "description": "Mirrors Zé da API `/update-webhook-received`, configuring the incoming message webhook endpoint.",
        "operationId": "updateWebhookReceived",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebhookValueRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Webhook updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookUpdateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid payload or non-HTTPS URL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-webhook-received-delivery": {
      "put": {
        "tags": [
          "Instances"
        ],
        "summary": "Update received+delivery webhook",
        "description": "Mirrors Zé da API `/update-webhook-received-delivery`, configuring the webhook used when `notifySentByMe` is enabled.",
        "operationId": "updateWebhookReceivedDelivery",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebhookValueRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Webhook updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookUpdateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid payload or non-HTTPS URL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-webhook-message-status": {
      "put": {
        "tags": [
          "Instances"
        ],
        "summary": "Update message status webhook",
        "description": "Mirrors Zé da API `/update-webhook-message-status`, configuring delivery-read status updates.",
        "operationId": "updateWebhookMessageStatus",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebhookValueRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Webhook updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookUpdateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid payload or non-HTTPS URL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-webhook-disconnected": {
      "put": {
        "tags": [
          "Instances"
        ],
        "summary": "Update disconnected webhook",
        "description": "Mirrors Zé da API `/update-webhook-disconnected`, configuring the disconnect notification endpoint.",
        "operationId": "updateWebhookDisconnected",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebhookValueRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Webhook updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookUpdateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid payload or non-HTTPS URL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-webhook-connected": {
      "put": {
        "tags": [
          "Instances"
        ],
        "summary": "Update connected webhook",
        "description": "Mirrors Zé da API `/update-webhook-connected`, configuring the connection notification endpoint.",
        "operationId": "updateWebhookConnected",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebhookValueRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Webhook updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookUpdateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid payload or non-HTTPS URL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-webhook-chat-presence": {
      "put": {
        "tags": [
          "Instances"
        ],
        "summary": "Update chat presence webhook",
        "description": "Mirrors Zé da API `/update-webhook-chat-presence`, configuring the typing/presence webhook endpoint.",
        "operationId": "updateWebhookChatPresence",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebhookValueRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Webhook updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookUpdateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid payload or non-HTTPS URL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-webhook-history-sync": {
      "put": {
        "tags": [
          "Instances"
        ],
        "summary": "Update history sync webhook",
        "description": "Configures a dedicated webhook endpoint for WhatsApp history sync events. History sync events contain batches of historical messages and are forwarded separately from other event types.",
        "operationId": "updateWebhookHistorySync",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebhookValueRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Webhook updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookUpdateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid payload or non-HTTPS URL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-notify-sent-by-me": {
      "put": {
        "tags": [
          "Instances"
        ],
        "summary": "Toggle notify-sent-by-me",
        "description": "Mirrors Zé da API `/update-notify-sent-by-me`, enabling or disabling callbacks for messages sent by the instance.",
        "operationId": "updateNotifySentByMe",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotifySentByMeRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Setting updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookUpdateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid payload",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-every-webhooks": {
      "put": {
        "tags": [
          "Instances"
        ],
        "summary": "Update all webhooks at once",
        "description": "Mirrors Zé da API `/update-every-webhooks`, applying the same HTTPS endpoint to every webhook type.",
        "operationId": "updateEveryWebhooks",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebhookEveryRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Webhooks updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookUpdateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid payload or non-HTTPS URL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-call-reject-auto": {
      "put": {
        "tags": [
          "Instances"
        ],
        "summary": "Toggle automatic call rejection",
        "description": "Mirrors Zé da API `/update-call-reject-auto`, enabling or disabling automatic rejection of incoming calls.",
        "operationId": "updateCallRejectAuto",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BoolValueRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Setting updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValueResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid payload",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-call-reject-message": {
      "put": {
        "tags": [
          "Instances"
        ],
        "summary": "Update call rejection message",
        "description": "Mirrors Zé da API `/update-call-reject-message`, setting the message sent when rejecting calls.",
        "operationId": "updateCallRejectMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StringValueRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Setting updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValueResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid payload",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-auto-read-message": {
      "put": {
        "tags": [
          "Instances"
        ],
        "summary": "Toggle automatic message reading",
        "description": "Mirrors Zé da API `/update-auto-read-message`, enabling or disabling automatic marking of messages as read.",
        "operationId": "updateAutoReadMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BoolValueRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Setting updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValueResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid payload",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-proxy": {
      "put": {
        "tags": [
          "Proxy"
        ],
        "summary": "Set or update proxy configuration",
        "description": "Configures a proxy for this instance's WhatsApp connection.\nSupports HTTP, HTTPS, and SOCKS5 proxies.\nThe proxy is applied to the live client if connected.\n",
        "operationId": "updateProxy",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProxyUpdateRequest"
              },
              "examples": {
                "http_proxy": {
                  "summary": "HTTP proxy",
                  "value": {
                    "proxyUrl": "http://proxy.example.com:8080"
                  }
                },
                "socks5_proxy": {
                  "summary": "SOCKS5 proxy with auth",
                  "value": {
                    "proxyUrl": "socks5://user:pass@proxy.example.com:1080"
                  }
                },
                "media_only": {
                  "summary": "Proxy only for media, not websocket",
                  "value": {
                    "proxyUrl": "http://media-proxy.example.com:8080",
                    "noWebsocket": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Proxy configuration updated",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "value": {
                      "type": "boolean"
                    },
                    "proxy": {
                      "$ref": "#/components/schemas/ProxyConfig"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid proxy URL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/proxy": {
      "get": {
        "tags": [
          "Proxy"
        ],
        "summary": "Get proxy configuration",
        "description": "Returns the current proxy configuration and health status for this instance.",
        "operationId": "getProxy",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "responses": {
          "200": {
            "description": "Proxy configuration",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "value": {
                      "type": "boolean"
                    },
                    "proxy": {
                      "$ref": "#/components/schemas/ProxyConfig"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Proxy"
        ],
        "summary": "Remove proxy configuration",
        "description": "Removes the proxy configuration from this instance.\nThe client reverts to direct connection (or environment proxy).\n",
        "operationId": "removeProxy",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "responses": {
          "200": {
            "description": "Proxy removed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValueResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/proxy/test": {
      "post": {
        "tags": [
          "Proxy"
        ],
        "summary": "Test proxy connectivity",
        "description": "Tests a proxy URL by attempting to connect through it to WhatsApp servers.\nDoes NOT apply the proxy - use update-proxy to apply it.\nReturns reachability status and latency.\n",
        "operationId": "testProxy",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProxyTestRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Proxy test result",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProxyTestResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid proxy URL format",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/proxy/swap": {
      "post": {
        "tags": [
          "Proxy"
        ],
        "summary": "Hot-swap proxy on active connection",
        "description": "Atomically swaps the proxy on an active WhatsApp connection.\nThe new proxy is tested before applying. The client is disconnected\nfrom the current proxy and immediately reconnected through the new one.\nThe WhatsApp session is preserved - only the transport changes.\n\n**Important:** The proxy is validated before swap. If the new proxy\nis unreachable, the swap is rejected and the current connection is maintained.\n",
        "operationId": "swapProxy",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProxySwapRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Proxy swapped successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "value": {
                      "type": "boolean"
                    },
                    "proxy": {
                      "$ref": "#/components/schemas/ProxyConfig"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid proxy URL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Proxy unreachable - swap rejected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/proxy/health": {
      "get": {
        "tags": [
          "Proxy"
        ],
        "summary": "Get proxy health status and history",
        "description": "Returns the current proxy health status along with recent health check logs.\nUseful for monitoring proxy reliability and diagnosing connectivity issues.\n",
        "operationId": "getProxyHealth",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "responses": {
          "200": {
            "description": "Proxy health status and logs",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProxyHealthResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/integrator/on-demand/subscription": {
      "post": {
        "tags": [
          "Partner"
        ],
        "summary": "Activate partner subscription",
        "description": "Enables on-demand billing/usage for the specified instance (Zé da API parity).",
        "operationId": "partnerSubscribeInstance",
        "security": [
          {
            "PartnerBearer": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "responses": {
          "200": {
            "description": "Subscription activated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OperationStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/integrator/on-demand/cancel": {
      "post": {
        "tags": [
          "Partner"
        ],
        "summary": "Cancel partner subscription",
        "description": "Cancels the on-demand subscription for the instance, matching Zé da API behaviour.",
        "operationId": "partnerCancelInstance",
        "security": [
          {
            "PartnerBearer": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "responses": {
          "200": {
            "description": "Subscription cancelled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OperationStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-text": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send text message",
        "description": "Sends a text message via WhatsApp with format.\n\n**Features:**\n- ✅ Text message with optional reply-to\n- ✅ Typing indicator simulation (delayTyping)\n- ✅ Delayed sending (delayMessage)\n- ✅ Ephemeral/disappearing messages support\n- ✅ Private reply in groups (privateAnswer)\n- ✅ Mentions support (mentioned, groupMentioned, mentionedAll)\n- ✅ FIFO queue with per-recipient ordering\n- ✅ Non-blocking (returns immediately with zaapId)\n\n\n\n",
        "operationId": "sendTextMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendTextRequest"
              },
              "example": {
                "phone": "5511999999999",
                "message": "Hello from Zé da API!",
                "delayMessage": 5,
                "delayTyping": 3
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendMessageResponse"
                },
                "example": {
                  "zaapId": "39BB1684570F00E91090F6BBC7EE7646",
                  "messageId": "39BB1684570F00E91090F6BBC7EE7646",
                  "id": "39BB1684570F00E91090F6BBC7EE7646"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (missing phone or message)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-image": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send image message",
        "description": "Sends an image message via WhatsApp with optional caption.\n\n**Features:**\n- ✅ Image URL or base64 data URI support\n- ✅ Optional caption/title\n- ✅ View once support (disappears after viewing)\n- ✅ Reply-to message support\n- ✅ Typing indicator and delayed sending\n- ✅ Mentions support (mentioned, groupMentioned, mentionedAll)\n- ✅ FIFO queue with per-recipient ordering\n\n**Supported Formats:**\n- Image URL: `https://picsum.photos/600/400.jpg`\n- Base64: `data:image/png;base64,iVBORw0KG...`\n\n\n\n",
        "operationId": "sendImageMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendImageRequest"
              },
              "example": {
                "phone": "5511999999999",
                "image": "https://picsum.photos/600/400.jpg",
                "caption": "Check out this image!",
                "viewOnce": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendMessageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-sticker": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send sticker message",
        "description": "Sends a sticker message via WhatsApp with format.\n\n**Features:**\n- ✅ Sticker URL or base64 data URI support\n- ✅ Animated stickers (WebP format)\n- ✅ Reply-to message support\n- ✅ Typing indicator and delayed sending\n- ✅ Ephemeral/disappearing messages support\n- ✅ Mentions support (mentioned, groupMentioned, mentionedAll)\n- ✅ Private reply in groups (privateAnswer)\n- ✅ FIFO queue with per-recipient ordering\n- ✅ Non-blocking (returns immediately with zaapId)\n\n**Sticker Format:**\n- WebP format (animated or static)\n- 512x512 pixels recommended\n- Max 100KB for animated, 500KB for static\n- No caption support (stickers don't have text)\n\n**Supported Formats:**\n- URL: `https://www.gstatic.com/webp/gallery/1.webp`\n- Base64: `data:image/webp;base64,UklGRiQAAABXRUJQ...`\n",
        "operationId": "sendStickerMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendStickerRequest"
              },
              "example": {
                "phone": "5511999999999",
                "sticker": "https://www.gstatic.com/webp/gallery/1.webp",
                "delayMessage": 3,
                "delayTyping": 2
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendMessageResponse"
                },
                "example": {
                  "zaapId": "39BB1684570F00E91090F6BBC7EE7646",
                  "messageId": "39BB1684570F00E91090F6BBC7EE7646",
                  "id": "39BB1684570F00E91090F6BBC7EE7646",
                  "status": "queued"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (missing phone or sticker, invalid format)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "sticker must be a valid URL or base64 data URI"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid Client-Token or instance token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not connected"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-gif": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send GIF message",
        "description": "Sends a GIF message via WhatsApp with optional caption.\n\n**Features:**\n- ✅ GIF URL or base64 data URI support\n- ✅ Animated GIFs\n- ✅ Optional caption/text\n- ✅ View once support (disappears after viewing)\n- ✅ Reply-to message support\n- ✅ Typing indicator and delayed sending\n- ✅ Ephemeral/disappearing messages support\n- ✅ Mentions support (mentioned, groupMentioned, mentionedAll)\n- ✅ Private reply in groups (privateAnswer)\n- ✅ FIFO queue with per-recipient ordering\n- ✅ Non-blocking (returns immediately with zaapId)\n\n**GIF Format:**\n- GIF format (animated or static)\n- Any aspect ratio (auto-adjusted by WhatsApp)\n- Max 16MB recommended\n- Supports caption with @mentions\n\n**Supported Formats:**\n- URL: `https://media.giphy.com/media/3o7abKhOpu0NwenH3O/giphy.gif`\n- Base64: `data:image/gif;base64,R0lGODlhAQABAIAAAP...`\n",
        "operationId": "sendGifMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendGifRequest"
              },
              "example": {
                "phone": "5511999999999",
                "gif": "https://media.giphy.com/media/3o7abKhOpu0NwenH3O/giphy.gif",
                "caption": "Check this out! 🎉",
                "viewOnce": false,
                "delayMessage": 3,
                "delayTyping": 2
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendMessageResponse"
                },
                "example": {
                  "zaapId": "39BB1684570F00E91090F6BBC7EE7646",
                  "messageId": "39BB1684570F00E91090F6BBC7EE7646",
                  "id": "39BB1684570F00E91090F6BBC7EE7646",
                  "status": "queued"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (missing phone or gif, invalid format)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "gif must be a valid URL or base64 data URI"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid Client-Token or instance token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not connected"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-audio": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send audio/voice message",
        "description": "Sends an audio or voice note via WhatsApp.\n\n**Features:**\n- ✅ Audio URL or base64 data URI support\n- ✅ Voice note (PTT) detection\n- ✅ \"Recording audio\" indicator (delayTyping)\n- ✅ View once support\n- ✅ Reply-to message support\n- ✅ Mentions support (mentioned, groupMentioned, mentionedAll)\n\n**Supported Formats:** OGG, MP3, WAV\n\n\n\n",
        "operationId": "sendAudioMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendAudioRequest"
              },
              "example": {
                "phone": "5511999999999",
                "audio": "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",
                "delayTyping": 5
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendMessageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-video": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send video message",
        "description": "Sends a video message via WhatsApp with optional caption.\n\n**Features:**\n- ✅ Video URL or base64 data URI support\n- ✅ Optional caption/title\n- ✅ View once support\n- ✅ Reply-to message support\n- ✅ Typing indicator and delayed sending\n- ✅ Mentions support (mentioned, groupMentioned, mentionedAll)\n\n**Supported Formats:** MP4, 3GP, AVI, MOV\n\n\n\n",
        "operationId": "sendVideoMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendVideoRequest"
              },
              "example": {
                "phone": "5511999999999",
                "video": "https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4",
                "caption": "Check out this video!"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendMessageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-ptv": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send PTV (circular video) message",
        "description": "Sends a PTV (Push-To-Talk Video) message via WhatsApp with format.\n\n**What is PTV?**\nPTV messages are circular video notes, displayed similarly to voice notes but with video content.\nThey appear as circular thumbnails in the chat and play inline when tapped.\n\n**Features:**\n- ✅ Circular video notes (like voice notes with video)\n- ✅ Video URL or base64 data URI support\n- ✅ Optional caption/text\n- ✅ Reply-to message support\n- ✅ Typing indicator and delayed sending\n- ✅ Ephemeral/disappearing messages support\n- ✅ Mentions support (mentioned, groupMentioned, mentionedAll)\n- ✅ Private reply in groups (privateAnswer)\n- ✅ FIFO queue with per-recipient ordering\n- ✅ Non-blocking (returns immediately with zaapId)\n\n**Video Format:**\n- MP4, 3GP, MOV (auto-converted if needed)\n- Max duration: 60 seconds recommended\n- Displayed as circular video in WhatsApp\n\n**Supported Formats:**\n- URL: `https://example.com/video.mp4`\n- Base64: `data:video/mp4;base64,AAAAIGZ0eXBpc29t...`\n",
        "operationId": "sendPTVMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendPTVRequest"
              },
              "examples": {
                "basic": {
                  "summary": "Basic PTV message",
                  "value": {
                    "phone": "5511999999999",
                    "video": "https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4"
                  }
                },
                "withCaption": {
                  "summary": "PTV with caption",
                  "value": {
                    "phone": "5511999999999",
                    "video": "https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4",
                    "caption": "Check out this video note!",
                    "delayMessage": 3,
                    "delayTyping": 2
                  }
                },
                "replyTo": {
                  "summary": "PTV as reply",
                  "value": {
                    "phone": "5511999999999",
                    "video": "https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4",
                    "caption": "Here's my response",
                    "messageId": "3EB0796DC1B61E519"
                  }
                },
                "base64": {
                  "summary": "Base64 encoded PTV",
                  "value": {
                    "phone": "5511999999999",
                    "video": "data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQ...",
                    "caption": "Video note from base64"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendMessageResponse"
                },
                "example": {
                  "zaapId": "39BB1684570F00E91090F6BBC7EE7646",
                  "messageId": "39BB1684570F00E91090F6BBC7EE7646",
                  "id": "39BB1684570F00E91090F6BBC7EE7646",
                  "status": "queued"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (missing phone or video, invalid format)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "video must be a valid URL or base64 data URI"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid Client-Token or instance token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not connected"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-document": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send document message",
        "description": "Sends a document file via WhatsApp with optional caption and filename.\n\n**Features:**\n- ✅ Document URL or base64 data URI support\n- ✅ Custom filename support\n- ✅ Optional caption/description\n- ✅ Reply-to message support\n- ✅ Typing indicator and delayed sending\n- ✅ Mentions support (mentioned, groupMentioned, mentionedAll)\n\n**Supported Formats:** PDF, DOC, DOCX, XLS, XLSX, TXT, CSV, ZIP, RAR\n\n\n\n",
        "operationId": "sendDocumentMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendDocumentRequest"
              },
              "example": {
                "phone": "5511999999999",
                "document": "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",
                "fileName": "Monthly Report.pdf",
                "caption": "Here is the monthly report"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendMessageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/queue": {
      "get": {
        "tags": [
          "Queue"
        ],
        "summary": "List messages in queue with pagination",
        "description": "Lists all messages in the queue for a specific instance with pagination.\n\n\n\n- Uses `page` and `pageSize` parameters\n- Returns direct array of messages (not wrapped in object)\n- Field names in camelCase\n- Delays in seconds (not milliseconds)\n- Created timestamp in milliseconds\n\n**Response Format:**\n- Direct array: `[{message1}, {message2}, ...]`\n- NOT wrapped: `{data: [{message1}]}` ❌\n\n**Pagination:**\n- `page`: Page number starting from 1\n- `pageSize`: Messages per page (default 100, max 1000)\n",
        "operationId": "listQueueMessages",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Page number (1-indexed)",
            "example": 1
          },
          {
            "in": "query",
            "name": "pageSize",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 1000,
              "default": 100
            },
            "description": "Number of messages per page",
            "example": 50
          }
        ],
        "responses": {
          "200": {
            "description": "List of queue messages (direct array)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QueueListResponse"
                },
                "example": [
                  {
                    "_id": "39BB1684570F00E91090F6BBC7EE7646",
                    "zaapId": "39BB1684570F00E91090F6BBC7EE7646",
                    "messageId": "7AD29EAA5EF34C301F0B",
                    "instanceId": "550e8400-e29b-41d4-a716-446655440000",
                    "phone": "5511999999999",
                    "message": "Hello from Zé da API",
                    "delayMessage": 5,
                    "delayTyping": 3,
                    "created": 1624977905648,
                    "messageType": "text",
                    "status": "available",
                    "sequenceNumber": 1,
                    "attempt": 0,
                    "maxAttempts": 3
                  },
                  {
                    "_id": "A1B2C3D4E5F6G7H8I9J0K1L2M3N4O5P6",
                    "zaapId": "A1B2C3D4E5F6G7H8I9J0K1L2M3N4O5P6",
                    "messageId": "F5G6H7I8J9K0L1M2N3O4",
                    "instanceId": "550e8400-e29b-41d4-a716-446655440000",
                    "phone": "120363XXXXX@g.us",
                    "message": null,
                    "delayMessage": 0,
                    "delayTyping": 0,
                    "created": 1624977906000,
                    "messageType": "image",
                    "status": "scheduled",
                    "sequenceNumber": 2,
                    "attempt": 0,
                    "maxAttempts": 3
                  }
                ]
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid or missing Client-Token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Queue"
        ],
        "summary": "Clear all pending messages in queue",
        "description": "Clears all pending messages from the queue for a specific instance.\n\n**Behavior:**\n- ✅ Removes messages in state: `available`, `scheduled`\n- ❌ Does NOT affect messages: `running`, `completed`, `failed`, `discarded`\n\n**Use Cases:**\n- Emergency stop of all pending messages\n- Queue cleanup during maintenance\n- Cancel all scheduled messages at once\n\n\n\n",
        "operationId": "clearQueue",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "responses": {
          "200": {
            "description": "Queue cleared successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QueueClearResponse"
                },
                "example": {
                  "message": "Queue cleared successfully"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid or missing Client-Token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/queue/count": {
      "get": {
        "tags": [
          "Queue"
        ],
        "summary": "Get queue message count",
        "description": "Returns the total number of messages in the queue for a specific instance.\n\n\n\n",
        "operationId": "getQueueCount",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "responses": {
          "200": {
            "description": "Queue message count",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QueueCountResponse"
                },
                "example": {
                  "count": 42
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid or missing Client-Token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/queue/{zaapId}": {
      "delete": {
        "tags": [
          "Queue"
        ],
        "summary": "Cancel a specific message in queue",
        "description": "Cancels a pending message by its zaapId (returned when message was enqueued).\n\n**Behavior:**\n- ✅ Cancels messages in state: `available`, `scheduled`, `retryable`\n- ❌ Returns error if message already processed or doesn't exist\n\n\n\n",
        "operationId": "cancelQueueMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "in": "path",
            "name": "zaapId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Message ID returned when message was sent (zaapId)",
            "example": "39BB1684570F00E91090F6BBC7EE7646"
          }
        ],
        "responses": {
          "200": {
            "description": "Message cancelled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QueueCancelResponse"
                },
                "example": {
                  "message": "Message cancelled successfully"
                }
              }
            }
          },
          "400": {
            "description": "Message not found or already processed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "job not found or already processed: 39BB1684570F00E91090F6BBC7EE7646"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid or missing Client-Token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-location": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send location message",
        "description": "Sends a location pin via WhatsApp with GPS coordinates, optional name/address, replies, mentions, and ephemeral support..",
        "operationId": "sendLocationMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendLocationRequest"
              },
              "example": {
                "phone": "5511999999999",
                "latitude": -23.55052,
                "longitude": -46.633308,
                "name": "Paulista Avenue",
                "address": "Av. Paulista, 1578 - São Paulo, SP"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendMessageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-contact": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send single contact card",
        "description": "Sends a single contact card via WhatsApp.Using contactName, contactPhone, and optional contactBusinessDescription fields.",
        "operationId": "sendContactMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendContactRequest"
              },
              "example": {
                "phone": "5511999999999",
                "contactName": "John Doe",
                "contactPhone": "5511888888888",
                "contactBusinessDescription": "Sales Manager at Example Corp",
                "firstName": "John",
                "lastName": "Doe",
                "email": "john.doe@example.com",
                "address": {
                  "type": "WORK",
                  "street": "Av. Paulista, 1578",
                  "city": "São Paulo",
                  "region": "SP",
                  "country": "Brasil"
                },
                "mentioned": [
                  "5511990000000"
                ],
                "groupMentioned": [
                  {
                    "phone": "120363000000000@g.us",
                    "subject": "Equipe Comercial"
                  }
                ],
                "privateAnswer": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendMessageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-contacts": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send multiple contact cards",
        "description": "Sends multiple contact cards via WhatsApp in a single message. Maximum 10 contacts per request.",
        "operationId": "sendContactsMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendContactsRequest"
              },
              "example": {
                "phone": "5511999999999",
                "contacts": [
                  {
                    "contactName": "John Doe",
                    "contactPhone": "5511888888888",
                    "contactBusinessDescription": "Sales Manager",
                    "jobTitle": "Sales Director",
                    "address": {
                      "type": "WORK",
                      "street": "Av. Paulista, 1578",
                      "city": "São Paulo",
                      "region": "SP",
                      "country": "Brasil"
                    }
                  },
                  {
                    "contactName": "Jane Smith",
                    "contactPhone": "5511777777777",
                    "contactBusinessDescription": "CEO",
                    "email": "jane.smith@example.com",
                    "url": "https://example.com/jane"
                  }
                ],
                "privateAnswer": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendMessageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-button-list": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send interactive button list message",
        "description": "Sends an interactive button list message with quick reply buttons.\nThe recipient can tap a button to respond.\n\n**Features:**\n- ✅ Up to 3 quick reply buttons\n- ✅ Header title and message body\n- ✅ Footer text\n- ✅ Optional image or video header\n- ✅ Custom message ID for tracking\n- ✅ Delay message support\n- ✅ FIFO queue with per-recipient ordering\n- ✅ Non-blocking (returns immediately with zaapId)\n\n**Limits:**\n- Max 3 buttons\n- Title: max 60 characters\n- Message: max 1024 characters\n- Footer: max 60 characters\n- Button title: max 20 characters\n\n**Use Cases:**\n- Quick response options (Yes/No/Maybe)\n- Survey responses\n- Confirmation dialogs\n- Simple navigation\n",
        "operationId": "sendButtonListMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendButtonListRequest"
              },
              "examples": {
                "simpleButtons": {
                  "summary": "Simple reply buttons",
                  "description": "Basic button list with quick reply options",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Choose an Option",
                    "message": "Please select one of the options below",
                    "footer": "Tap a button to continue",
                    "buttons": [
                      {
                        "id": "btn_yes",
                        "title": "Yes"
                      },
                      {
                        "id": "btn_no",
                        "title": "No"
                      },
                      {
                        "id": "btn_maybe",
                        "title": "Maybe Later"
                      }
                    ]
                  }
                },
                "serviceOptions": {
                  "summary": "Customer service quick actions",
                  "description": "Quick reply buttons for customer support",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Customer Support",
                    "message": "How can we help you today?",
                    "footer": "Select an option",
                    "buttons": [
                      {
                        "id": "support_tech",
                        "title": "Technical Help"
                      },
                      {
                        "id": "support_billing",
                        "title": "Billing Question"
                      },
                      {
                        "id": "support_other",
                        "title": "Other"
                      }
                    ]
                  }
                },
                "withImage": {
                  "summary": "Buttons with image header",
                  "description": "Button list with product image",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Special Offer!",
                    "message": "Get 20% off on this product today!",
                    "footer": "Limited time offer",
                    "image": "https://picsum.photos/600/400.jpg",
                    "buttons": [
                      {
                        "id": "buy_now",
                        "title": "Buy Now"
                      },
                      {
                        "id": "more_info",
                        "title": "More Info"
                      }
                    ]
                  }
                },
                "withDelay": {
                  "summary": "With message delay",
                  "description": "Button message with custom delay before sending",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Quick Survey",
                    "message": "Please share your feedback",
                    "buttons": [
                      {
                        "id": "rate_good",
                        "title": "Good"
                      },
                      {
                        "id": "rate_bad",
                        "title": "Bad"
                      }
                    ],
                    "delayMessage": 5,
                    "delayTyping": 3
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageQueuedResponse"
                },
                "example": {
                  "success": true,
                  "message": "Message queued successfully",
                  "data": {
                    "zaapId": "39BB1684570F00E91090F6BBC7EE7646",
                    "messageId": "39BB1684570F00E91090F6BBC7EE7646",
                    "status": "queued"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (validation error)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missingPhone": {
                    "summary": "Missing phone number",
                    "value": {
                      "error": "phone is required"
                    }
                  },
                  "missingButtons": {
                    "summary": "Missing buttons",
                    "value": {
                      "error": "At least one button is required"
                    }
                  },
                  "tooManyButtons": {
                    "summary": "Too many buttons",
                    "value": {
                      "error": "buttons cannot have more than 3 items"
                    }
                  },
                  "missingMessage": {
                    "summary": "Missing message",
                    "value": {
                      "error": "message is required"
                    }
                  },
                  "titleTooLong": {
                    "summary": "Title too long",
                    "value": {
                      "error": "title cannot exceed 60 characters"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid Client-Token or instance token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not connected"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-button-actions": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send interactive action buttons message",
        "description": "Sends an interactive message with action buttons (CTA buttons).\nSupports URL, call, copy, and quick reply buttons.\n\n**Button Types:**\n- `quick_reply` - Simple reply button (max 20 chars label)\n- `cta_url` - Opens a URL in browser\n- `cta_call` - Initiates a phone call\n- `cta_copy` - Copies text to clipboard\n- `payment_info` - Payment information button\n- `review_and_pay` - Review and pay action\n\n**Features:**\n- ✅ Up to 3 action buttons\n- ✅ Optional header image\n- ✅ Title, message body, and footer\n- ✅ Custom message ID for tracking\n- ✅ Delay message support\n- ✅ FIFO queue with per-recipient ordering\n\n**Limits:**\n- Max 3 buttons per message\n- Label: max 25 characters (20 for quick_reply)\n- Title: max 60 characters\n- Message: max 1024 characters\n- Footer: max 60 characters\n",
        "operationId": "sendButtonActionsMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendButtonActionsRequest"
              },
              "examples": {
                "urlButton": {
                  "summary": "Single URL button",
                  "description": "Message with a button that opens a website",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Visit Our Website",
                    "message": "Check out our latest products and special offers!",
                    "footer": "Click the button below",
                    "buttons": [
                      {
                        "id": "btn_url",
                        "type": "cta_url",
                        "label": "Visit Website",
                        "url": "https://httpbin.org/anything/products"
                      }
                    ]
                  }
                },
                "callButton": {
                  "summary": "Call button",
                  "description": "Message with a button to initiate a phone call",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Need Help?",
                    "message": "Our support team is ready to assist you. Call us now!",
                    "footer": "Available 24/7",
                    "buttons": [
                      {
                        "id": "btn_call",
                        "type": "cta_call",
                        "label": "Call Support",
                        "phone": "+5511999999999"
                      }
                    ]
                  }
                },
                "copyButton": {
                  "summary": "Copy code button",
                  "description": "Message with a button to copy a discount code",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Special Discount!",
                    "message": "Use this exclusive code for 20% off your next purchase.",
                    "footer": "Valid until end of month",
                    "buttons": [
                      {
                        "id": "btn_copy",
                        "type": "cta_copy",
                        "label": "Copy Code",
                        "copyCode": "SAVE20OFF"
                      }
                    ]
                  }
                },
                "multipleButtons": {
                  "summary": "Multiple action buttons",
                  "description": "Message with multiple different action buttons",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Contact Us",
                    "message": "Choose how you would like to get in touch with our team.",
                    "footer": "We're here to help!",
                    "image": "https://picsum.photos/600/400.jpg",
                    "buttons": [
                      {
                        "id": "btn_web",
                        "type": "cta_url",
                        "label": "Visit Website",
                        "url": "https://httpbin.org/get"
                      },
                      {
                        "id": "btn_call",
                        "type": "cta_call",
                        "label": "Call Us",
                        "phone": "+5511999999999"
                      },
                      {
                        "id": "btn_email",
                        "type": "cta_copy",
                        "label": "Copy Email",
                        "copyCode": "support@httpbin.org"
                      }
                    ]
                  }
                },
                "quickReplyButtons": {
                  "summary": "Quick reply buttons",
                  "description": "Simple reply buttons for quick responses",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Quick Question",
                    "message": "Would you like to receive our newsletter?",
                    "buttons": [
                      {
                        "type": "quick_reply",
                        "id": "newsletter_yes",
                        "label": "Yes, subscribe me"
                      },
                      {
                        "type": "quick_reply",
                        "id": "newsletter_no",
                        "label": "No, thanks"
                      },
                      {
                        "type": "quick_reply",
                        "id": "newsletter_later",
                        "label": "Maybe later"
                      }
                    ]
                  }
                },
                "withImage": {
                  "summary": "With header image",
                  "description": "Action buttons with promotional image",
                  "value": {
                    "phone": "5511999999999",
                    "title": "New Collection Available!",
                    "message": "Discover our Spring 2024 collection with exclusive designs.",
                    "footer": "Limited stock available",
                    "image": "https://picsum.photos/600/400.jpg",
                    "buttons": [
                      {
                        "id": "btn_shop",
                        "type": "cta_url",
                        "label": "Shop Now",
                        "url": "https://httpbin.org/anything/spring-2024"
                      }
                    ],
                    "delayMessage": 3
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageQueuedResponse"
                },
                "example": {
                  "success": true,
                  "message": "Message queued successfully",
                  "data": {
                    "zaapId": "39BB1684570F00E91090F6BBC7EE7646",
                    "messageId": "39BB1684570F00E91090F6BBC7EE7646",
                    "status": "queued"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (validation error)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missingButtons": {
                    "summary": "Missing buttons",
                    "value": {
                      "error": "buttons is required and must have at least 1 item"
                    }
                  },
                  "tooManyButtons": {
                    "summary": "Too many buttons",
                    "value": {
                      "error": "buttons cannot have more than 3 items"
                    }
                  },
                  "invalidButtonType": {
                    "summary": "Invalid button type",
                    "value": {
                      "error": "invalid button type: must be one of quick_reply, cta_url, cta_call, cta_copy, payment_info, review_and_pay"
                    }
                  },
                  "missingUrl": {
                    "summary": "Missing URL for cta_url button",
                    "value": {
                      "error": "url is required for cta_url button type"
                    }
                  },
                  "missingPhone": {
                    "summary": "Missing phone for cta_call button",
                    "value": {
                      "error": "phone is required for cta_call button type"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid Client-Token or instance token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not connected"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-option-list": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send simple option list message",
        "description": "Sends an interactive message with a simple list of options.\nSimilar to button list but without sections (flat list).\n\n**Features:**\n- ✅ Simple flat list of options\n- ✅ Up to 10 options\n- ✅ Title and description for each option\n- ✅ Button to open options\n- ✅ Custom message ID for tracking\n- ✅ Delay message support\n- ✅ FIFO queue with per-recipient ordering\n\n**Limits:**\n- Max 10 options\n- Title: max 60 characters\n- Option title: max 24 characters\n- Option description: max 72 characters\n- Button text: max 20 characters\n\n**Use Cases:**\n- Simple surveys\n- Quick polls\n- Rating selection\n- Single-level menus\n",
        "operationId": "sendOptionListMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendOptionListRequest"
              },
              "examples": {
                "restaurantMenu": {
                  "summary": "Restaurant menu with sections",
                  "description": "Menu organized by food categories",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Our Menu",
                    "message": "Choose your meal from our delicious options",
                    "footer": "Tap to view options",
                    "buttonLabel": "View Menu",
                    "sections": [
                      {
                        "title": "Main Dishes",
                        "rows": [
                          {
                            "id": "dish_pizza",
                            "title": "Pizza Margherita",
                            "description": "Classic cheese pizza with basil"
                          },
                          {
                            "id": "dish_burger",
                            "title": "Classic Burger",
                            "description": "Beef burger with cheese"
                          },
                          {
                            "id": "dish_pasta",
                            "title": "Spaghetti Carbonara",
                            "description": "Creamy pasta with bacon"
                          }
                        ]
                      },
                      {
                        "title": "Drinks",
                        "rows": [
                          {
                            "id": "drink_soda",
                            "title": "Soda",
                            "description": "Coca-Cola, Sprite, Fanta"
                          },
                          {
                            "id": "drink_juice",
                            "title": "Fresh Juice",
                            "description": "Orange, Apple, Mango"
                          }
                        ]
                      }
                    ]
                  }
                },
                "customerSupport": {
                  "summary": "Customer support options",
                  "description": "Service selection with sections",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Customer Support",
                    "message": "How can we help you today?",
                    "buttonLabel": "Select Option",
                    "sections": [
                      {
                        "title": "Technical Support",
                        "rows": [
                          {
                            "id": "tech_install",
                            "title": "Installation Help",
                            "description": "Get help with installation"
                          },
                          {
                            "id": "tech_bug",
                            "title": "Report a Bug",
                            "description": "Report technical issues"
                          }
                        ]
                      },
                      {
                        "title": "Billing",
                        "rows": [
                          {
                            "id": "bill_invoice",
                            "title": "Invoice Questions",
                            "description": "Questions about your bill"
                          },
                          {
                            "id": "bill_payment",
                            "title": "Payment Methods",
                            "description": "Update payment info"
                          }
                        ]
                      }
                    ]
                  }
                },
                "appointmentSlots": {
                  "summary": "Appointment time slots",
                  "description": "Select available appointment time",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Available Appointments",
                    "message": "Select your preferred time slot",
                    "footer": "All times in local timezone",
                    "buttonLabel": "Select Time",
                    "sections": [
                      {
                        "title": "Morning",
                        "rows": [
                          {
                            "id": "slot_9am",
                            "title": "9:00 AM",
                            "description": "Early morning"
                          },
                          {
                            "id": "slot_11am",
                            "title": "11:00 AM",
                            "description": "Late morning"
                          }
                        ]
                      },
                      {
                        "title": "Afternoon",
                        "rows": [
                          {
                            "id": "slot_2pm",
                            "title": "2:00 PM",
                            "description": "Early afternoon"
                          },
                          {
                            "id": "slot_4pm",
                            "title": "4:00 PM",
                            "description": "Late afternoon"
                          }
                        ]
                      }
                    ],
                    "messageId": "appointment-booking-12345"
                  }
                },
                "withDelay": {
                  "summary": "With message delay",
                  "description": "Option list with typing delay",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Quick Survey",
                    "message": "Please share your feedback",
                    "buttonLabel": "Rate Us",
                    "sections": [
                      {
                        "title": "Rating",
                        "rows": [
                          {
                            "id": "rate_good",
                            "title": "Excellent",
                            "description": "Very satisfied"
                          },
                          {
                            "id": "rate_ok",
                            "title": "Good",
                            "description": "Satisfied"
                          },
                          {
                            "id": "rate_bad",
                            "title": "Poor",
                            "description": "Not satisfied"
                          }
                        ]
                      }
                    ],
                    "delayMessage": 5,
                    "delayTyping": 3
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageQueuedResponse"
                },
                "example": {
                  "success": true,
                  "message": "Message queued successfully",
                  "data": {
                    "zaapId": "39BB1684570F00E91090F6BBC7EE7646",
                    "messageId": "39BB1684570F00E91090F6BBC7EE7646",
                    "status": "queued"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (validation error)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missingSections": {
                    "summary": "Missing sections",
                    "value": {
                      "error": "At least one section is required"
                    }
                  },
                  "tooManySections": {
                    "summary": "Too many sections",
                    "value": {
                      "error": "sections cannot have more than 10 items"
                    }
                  },
                  "missingButtonLabel": {
                    "summary": "Missing button label",
                    "value": {
                      "error": "buttonLabel is required"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid Client-Token or instance token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not connected"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-button-pix": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send PIX payment message (Brazil)",
        "description": "Sends an interactive message with PIX payment information (Brazilian instant payment system).\nIncludes QR code generation and copy-paste PIX code button.\n\n**PIX Key Types:**\n- `CPF` - Brazilian individual taxpayer ID (11 digits)\n- `CNPJ` - Brazilian company taxpayer ID (14 digits)\n- `EMAIL` - Email address\n- `PHONE` - Phone number with country code\n- `EVP` - Random PIX key (UUID format)\n\n**Features:**\n- ✅ Automatic PIX QR code generation\n- ✅ Copy PIX code button\n- ✅ Payment amount and description\n- ✅ Beneficiary name display\n- ✅ Transaction ID for reconciliation\n- ✅ Additional action buttons\n- ✅ Custom message ID for tracking\n- ✅ FIFO queue with per-recipient ordering\n\n**Required Fields:**\n- `phone` - Recipient WhatsApp number\n- `payment.keyType` - Type of PIX key\n- `payment.key` - The PIX key value\n- `payment.name` - Beneficiary name\n- `payment.amount` - Payment amount in BRL\n",
        "operationId": "sendButtonPixMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendButtonPIXRequest"
              },
              "examples": {
                "cpfKey": {
                  "summary": "PIX with CPF key",
                  "description": "Payment request using individual taxpayer ID",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Payment Request",
                    "message": "Please complete your purchase payment via PIX",
                    "footer": "Secure instant payment",
                    "pixKey": "12345678900",
                    "type": "CPF",
                    "name": "John Doe",
                    "amount": 99.9,
                    "transactionId": "ORDER12345"
                  }
                },
                "cnpjKey": {
                  "summary": "PIX with CNPJ key",
                  "description": "Payment request using company taxpayer ID",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Invoice Payment",
                    "message": "Pay your invoice instantly via PIX",
                    "footer": "Company Name Ltd",
                    "pixKey": "12345678000199",
                    "type": "CNPJ",
                    "name": "Company Name Ltd",
                    "amount": 1500.0,
                    "transactionId": "INV2024001"
                  }
                },
                "emailKey": {
                  "summary": "PIX with email key",
                  "description": "Donation request using email as PIX key",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Support Our Cause",
                    "message": "Your donation helps us continue our work",
                    "footer": "Thank you for your support!",
                    "pixKey": "donations@charity.org",
                    "type": "EMAIL",
                    "name": "Charity Organization",
                    "amount": 50.0
                  }
                },
                "phoneKey": {
                  "summary": "PIX with phone key",
                  "description": "Payment using phone number as PIX key",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Pay Freelancer",
                    "message": "Payment for design services",
                    "pixKey": "+5511988887777",
                    "type": "PHONE",
                    "name": "Jane Designer",
                    "amount": 750.0
                  }
                },
                "evpKey": {
                  "summary": "PIX with EVP (random) key",
                  "description": "Payment using random PIX key (UUID)",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Split Bill Payment",
                    "message": "Your share of the dinner bill",
                    "pixKey": "123e4567-e89b-12d3-a456-426614174000",
                    "type": "EVP",
                    "name": "Restaurant Name",
                    "amount": 85.5,
                    "transactionId": "DINNER-TABLE15-001"
                  }
                },
                "withDelay": {
                  "summary": "PIX with message delay",
                  "description": "Payment request with typing delay",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Complete Your Order",
                    "message": "Pay via PIX to confirm your order",
                    "footer": "Questions? Contact us!",
                    "pixKey": "98765432100",
                    "type": "CPF",
                    "name": "Seller Name",
                    "amount": 299.99,
                    "delayMessage": 5,
                    "delayTyping": 3
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageQueuedResponse"
                },
                "example": {
                  "success": true,
                  "message": "Message queued successfully",
                  "data": {
                    "zaapId": "39BB1684570F00E91090F6BBC7EE7646",
                    "messageId": "39BB1684570F00E91090F6BBC7EE7646",
                    "status": "queued"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (validation error)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missingPayment": {
                    "summary": "Missing payment information",
                    "value": {
                      "error": "payment is required"
                    }
                  },
                  "invalidKeyType": {
                    "summary": "Invalid PIX key type",
                    "value": {
                      "error": "payment.keyType must be one of: CPF, CNPJ, EMAIL, PHONE, EVP"
                    }
                  },
                  "invalidCpf": {
                    "summary": "Invalid CPF format",
                    "value": {
                      "error": "invalid CPF format: must be 11 digits"
                    }
                  },
                  "invalidCnpj": {
                    "summary": "Invalid CNPJ format",
                    "value": {
                      "error": "invalid CNPJ format: must be 14 digits"
                    }
                  },
                  "invalidAmount": {
                    "summary": "Invalid amount",
                    "value": {
                      "error": "payment.amount must be greater than 0"
                    }
                  },
                  "missingName": {
                    "summary": "Missing beneficiary name",
                    "value": {
                      "error": "payment.name is required"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid Client-Token or instance token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not connected"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-button-otp": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send OTP (One-Time Password) message",
        "description": "Sends a one-time password (OTP) message with a copy button.\nThe recipient can easily copy the code with one tap.\n\n**Use Cases:**\n- Account verification\n- Two-factor authentication (2FA)\n- Password reset codes\n- Login verification\n- Transaction confirmation\n\n**Features:**\n- ✅ Prominent OTP code display\n- ✅ One-tap copy button\n- ✅ Custom button text\n- ✅ Expiration message support\n- ✅ Custom message ID for tracking\n- ✅ Delay message support\n- ✅ FIFO queue with per-recipient ordering\n\n**Security Notes:**\n- OTP codes should have limited validity (typically 5-10 minutes)\n- Messages automatically include security warnings\n- Never log or store OTP codes in plain text\n",
        "operationId": "sendButtonOtpMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendButtonOTPRequest"
              },
              "examples": {
                "verification": {
                  "summary": "Account verification code",
                  "description": "Standard verification code message",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Verification Code",
                    "message": "Your verification code is below. This code expires in 5 minutes. Do not share it with anyone.",
                    "code": "123456",
                    "footer": "Code expires in 5 minutes"
                  }
                },
                "login2fa": {
                  "summary": "Two-factor authentication",
                  "description": "2FA login code",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Login Verification",
                    "message": "Your login verification code for MyApp. If you didn't request this, please ignore this message.",
                    "code": "789012"
                  }
                },
                "passwordReset": {
                  "summary": "Password reset code",
                  "description": "Code for password reset flow",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Password Reset",
                    "message": "Use this code to reset your password. This code is valid for 10 minutes only.",
                    "code": "RESET-ABC123",
                    "footer": "Valid for 10 minutes"
                  }
                },
                "transactionConfirm": {
                  "summary": "Transaction confirmation",
                  "description": "Code to confirm a financial transaction",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Transaction Confirmation",
                    "message": "Confirm your transaction of $500.00 to Account ****1234. Enter this code in the app to proceed.",
                    "code": "TXN-998877"
                  }
                },
                "numericOnly": {
                  "summary": "Simple numeric OTP",
                  "description": "Short numeric code",
                  "value": {
                    "phone": "5511999999999",
                    "message": "Your code:",
                    "code": "0000"
                  }
                },
                "withDelay": {
                  "summary": "OTP with delay",
                  "description": "Delayed OTP message",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Security Code",
                    "message": "Security code for your account access. Valid for 5 minutes.",
                    "code": "SEC-456789",
                    "footer": "Valid for 5 minutes",
                    "delayMessage": 2
                  }
                },
                "withCustomId": {
                  "summary": "OTP with tracking ID",
                  "description": "OTP message with custom message ID for tracking",
                  "value": {
                    "phone": "5511999999999",
                    "title": "Authentication",
                    "message": "Your authentication code for session verification.",
                    "code": "AUTH-112233",
                    "messageId": "auth-session-abc123-otp"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageQueuedResponse"
                },
                "example": {
                  "success": true,
                  "message": "Message queued successfully",
                  "data": {
                    "zaapId": "39BB1684570F00E91090F6BBC7EE7646",
                    "messageId": "39BB1684570F00E91090F6BBC7EE7646",
                    "status": "queued"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (validation error)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missingCode": {
                    "summary": "Missing OTP code",
                    "value": {
                      "error": "code is required"
                    }
                  },
                  "emptyCode": {
                    "summary": "Empty OTP code",
                    "value": {
                      "error": "code cannot be empty"
                    }
                  },
                  "missingPhone": {
                    "summary": "Missing phone number",
                    "value": {
                      "error": "phone is required"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid Client-Token or instance token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not connected"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-carousel": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send carousel message",
        "description": "Sends an interactive carousel message with multiple cards.\nEach card can have an image/video header, body text, and action buttons.\n\n**Features:**\n- ✅ 1-10 cards per carousel\n- ✅ Image or video header per card\n- ✅ Body text per card\n- ✅ Up to 2 action buttons per card\n- ✅ Horizontal swipe navigation\n- ✅ Introduction message before carousel\n- ✅ Custom message ID for tracking\n- ✅ Delay message support\n- ✅ FIFO queue with per-recipient ordering\n\n**Limits:**\n- Min 1 card, max 10 cards\n- Max 2 buttons per card\n- Body text: max 1024 characters per card\n- Header media: image or video URL\n\n**Use Cases:**\n- Product catalogs\n- Image galleries\n- Service showcases\n- Portfolio presentations\n- Tutorial sequences\n\n**Media Formats:**\n- Images: JPEG, PNG, WebP\n- Videos: MP4 (recommended), 3GP\n",
        "operationId": "sendCarouselMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendCarouselRequest"
              },
              "examples": {
                "productCatalog": {
                  "summary": "Product catalog",
                  "description": "E-commerce product showcase",
                  "value": {
                    "phone": "5511999999999",
                    "message": "Check out our amazing products! Swipe to explore our catalog.",
                    "cardType": "HSCROLL_CARDS",
                    "cards": [
                      {
                        "mediaUrl": "https://picsum.photos/id/1/600/400.jpg",
                        "body": "Premium Widget Pro\n\nOur flagship product with advanced features.\n\n$199.99",
                        "buttons": [
                          {
                            "id": "btn_view_pro",
                            "type": "cta_url",
                            "label": "View Details",
                            "url": "https://httpbin.org/anything/products/widget-pro"
                          },
                          {
                            "id": "add_widget_pro",
                            "type": "quick_reply",
                            "label": "Add to Cart"
                          }
                        ]
                      },
                      {
                        "mediaUrl": "https://picsum.photos/id/2/600/400.jpg",
                        "body": "Standard Widget\n\nPerfect for everyday use.\n\n$99.99",
                        "buttons": [
                          {
                            "id": "btn_view_basic",
                            "type": "cta_url",
                            "label": "View Details",
                            "url": "https://httpbin.org/anything/products/widget-basic"
                          },
                          {
                            "id": "add_widget_basic",
                            "type": "quick_reply",
                            "label": "Add to Cart"
                          }
                        ]
                      },
                      {
                        "mediaUrl": "https://picsum.photos/id/3/600/400.jpg",
                        "body": "Mini Widget\n\nCompact and portable design.\n\n$49.99",
                        "buttons": [
                          {
                            "id": "btn_view_mini",
                            "type": "cta_url",
                            "label": "View Details",
                            "url": "https://httpbin.org/anything/products/widget-mini"
                          },
                          {
                            "id": "add_widget_mini",
                            "type": "quick_reply",
                            "label": "Add to Cart"
                          }
                        ]
                      }
                    ]
                  }
                },
                "imageGallery": {
                  "summary": "Image gallery",
                  "description": "Photo gallery showcase",
                  "value": {
                    "phone": "5511999999999",
                    "message": "Our photo gallery - swipe through our favorite moments!",
                    "cardType": "ALBUM_IMAGE",
                    "cards": [
                      {
                        "mediaUrl": "https://picsum.photos/id/10/600/400.jpg",
                        "body": "Golden Sunset\n\nCaptured at Pacific Beach, California",
                        "buttons": [
                          {
                            "id": "btn_sunset",
                            "type": "quick_reply",
                            "label": "Like"
                          }
                        ]
                      },
                      {
                        "mediaUrl": "https://picsum.photos/id/11/600/400.jpg",
                        "body": "Mountain Majesty\n\nSwiss Alps in winter",
                        "buttons": [
                          {
                            "id": "btn_mountains",
                            "type": "quick_reply",
                            "label": "Like"
                          }
                        ]
                      },
                      {
                        "mediaUrl": "https://picsum.photos/id/12/600/400.jpg",
                        "body": "Ocean Waves\n\nMaldives crystal clear waters",
                        "buttons": [
                          {
                            "id": "btn_ocean",
                            "type": "quick_reply",
                            "label": "Like"
                          }
                        ]
                      },
                      {
                        "mediaUrl": "https://picsum.photos/id/13/600/400.jpg",
                        "body": "Forest Path\n\nRedwood National Park",
                        "buttons": [
                          {
                            "id": "btn_forest",
                            "type": "quick_reply",
                            "label": "Like"
                          }
                        ]
                      },
                      {
                        "mediaUrl": "https://picsum.photos/id/14/600/400.jpg",
                        "body": "City Lights\n\nNew York City skyline at night",
                        "buttons": [
                          {
                            "id": "btn_city",
                            "type": "quick_reply",
                            "label": "Like"
                          }
                        ]
                      }
                    ]
                  }
                },
                "videoTutorials": {
                  "summary": "Video tutorials",
                  "description": "Tutorial series with videos",
                  "value": {
                    "phone": "5511999999999",
                    "message": "Welcome to our tutorial series! Learn everything from basics to advanced techniques.",
                    "cardType": "HSCROLL_CARDS",
                    "cards": [
                      {
                        "mediaUrl": "https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4",
                        "body": "Getting Started Guide\n\nLearn the basics in 5 minutes",
                        "buttons": [
                          {
                            "id": "btn_tutorial_1",
                            "type": "cta_url",
                            "label": "Watch Full Video",
                            "url": "https://youtube.com/watch?v=eRsGyueVLvQ"
                          }
                        ]
                      },
                      {
                        "mediaUrl": "https://download.blender.org/peach/trailer/trailer_480p.mov",
                        "body": "Advanced Features\n\nUnlock the full potential",
                        "buttons": [
                          {
                            "id": "btn_tutorial_2",
                            "type": "cta_url",
                            "label": "Watch Full Video",
                            "url": "https://youtube.com/watch?v=YE7VzlLtp-4"
                          }
                        ]
                      },
                      {
                        "mediaUrl": "https://download.blender.org/demo/movies/ToS/ToS-4k-1920.mov",
                        "body": "Pro Tips & Tricks\n\nBoost your productivity",
                        "buttons": [
                          {
                            "id": "btn_tutorial_3",
                            "type": "cta_url",
                            "label": "Watch Full Video",
                            "url": "https://youtube.com/watch?v=aqz-KE-bpKQ"
                          }
                        ]
                      }
                    ]
                  }
                },
                "realEstate": {
                  "summary": "Real estate listings",
                  "description": "Property listings carousel",
                  "value": {
                    "phone": "5511999999999",
                    "message": "Featured properties in your area - find your dream home today!",
                    "cardType": "HSCROLL_CARDS",
                    "cards": [
                      {
                        "mediaUrl": "https://picsum.photos/id/49/600/400.jpg",
                        "body": "Modern Family Home\n\n4 bed | 3 bath | 2,500 sqft\nPacific Heights, SF\n\n$1,250,000",
                        "buttons": [
                          {
                            "id": "btn_view_house1",
                            "type": "cta_url",
                            "label": "View Listing",
                            "url": "https://httpbin.org/anything/property/house1"
                          },
                          {
                            "id": "btn_call_house1",
                            "type": "cta_call",
                            "label": "Call Agent",
                            "phone": "+14155551234"
                          }
                        ]
                      },
                      {
                        "mediaUrl": "https://picsum.photos/id/164/600/400.jpg",
                        "body": "Luxury Condo\n\n2 bed | 2 bath | 1,200 sqft\nSoMa District\n\n$850,000",
                        "buttons": [
                          {
                            "id": "btn_view_condo1",
                            "type": "cta_url",
                            "label": "View Listing",
                            "url": "https://httpbin.org/anything/property/condo1"
                          },
                          {
                            "id": "btn_call_condo1",
                            "type": "cta_call",
                            "label": "Call Agent",
                            "phone": "+14155551234"
                          }
                        ]
                      },
                      {
                        "mediaUrl": "https://picsum.photos/id/188/600/400.jpg",
                        "body": "Charming Townhouse\n\n3 bed | 2.5 bath | 1,800 sqft\nMission District\n\n$975,000",
                        "buttons": [
                          {
                            "id": "btn_view_townhouse1",
                            "type": "cta_url",
                            "label": "View Listing",
                            "url": "https://httpbin.org/anything/property/townhouse1"
                          },
                          {
                            "id": "btn_call_townhouse1",
                            "type": "cta_call",
                            "label": "Call Agent",
                            "phone": "+14155551234"
                          }
                        ]
                      }
                    ]
                  }
                },
                "restaurantMenu": {
                  "summary": "Restaurant menu",
                  "description": "Visual menu with images",
                  "value": {
                    "phone": "5511999999999",
                    "message": "Today's specials - fresh ingredients, exceptional taste!",
                    "cardType": "HSCROLL_CARDS",
                    "messageId": "menu-daily-specials",
                    "cards": [
                      {
                        "mediaUrl": "https://picsum.photos/id/292/600/400.jpg",
                        "body": "Prime Ribeye Steak\n\n12oz USDA Prime, grilled to perfection\nServed with seasonal vegetables\n\n$45.00",
                        "buttons": [
                          {
                            "id": "order_steak",
                            "type": "quick_reply",
                            "label": "Order Now"
                          }
                        ]
                      },
                      {
                        "mediaUrl": "https://picsum.photos/id/493/600/400.jpg",
                        "body": "Atlantic Salmon\n\nFresh salmon with lemon butter sauce\nAsparagus and rice pilaf\n\n$32.00",
                        "buttons": [
                          {
                            "id": "order_salmon",
                            "type": "quick_reply",
                            "label": "Order Now"
                          }
                        ]
                      },
                      {
                        "mediaUrl": "https://picsum.photos/id/312/600/400.jpg",
                        "body": "Truffle Pasta\n\nFresh fettuccine with black truffle\nParmesan and cream sauce\n\n$28.00",
                        "buttons": [
                          {
                            "id": "order_pasta",
                            "type": "quick_reply",
                            "label": "Order Now"
                          }
                        ]
                      }
                    ]
                  }
                },
                "singleCard": {
                  "summary": "Single card carousel",
                  "description": "Carousel with just one card",
                  "value": {
                    "phone": "5511999999999",
                    "message": "Don't miss this exclusive offer!",
                    "cardType": "HSCROLL_CARDS",
                    "cards": [
                      {
                        "mediaUrl": "https://picsum.photos/id/96/600/400.jpg",
                        "body": "Limited Edition Product\n\nOnly 50 units available worldwide.\nGet yours before they're gone!",
                        "buttons": [
                          {
                            "id": "btn_shop_featured",
                            "type": "cta_url",
                            "label": "Shop Now",
                            "url": "https://httpbin.org/anything/featured"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageQueuedResponse"
                },
                "example": {
                  "success": true,
                  "message": "Message queued successfully",
                  "data": {
                    "zaapId": "39BB1684570F00E91090F6BBC7EE7646",
                    "messageId": "39BB1684570F00E91090F6BBC7EE7646",
                    "status": "queued"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (validation error)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missingCards": {
                    "summary": "Missing cards",
                    "value": {
                      "error": "cards is required and must have at least 1 item"
                    }
                  },
                  "tooManyCards": {
                    "summary": "Too many cards",
                    "value": {
                      "error": "cards cannot have more than 10 items"
                    }
                  },
                  "missingHeader": {
                    "summary": "Missing card header",
                    "value": {
                      "error": "each card must have a header with type and url"
                    }
                  },
                  "invalidHeaderType": {
                    "summary": "Invalid header type",
                    "value": {
                      "error": "header.type must be 'image' or 'video'"
                    }
                  },
                  "tooManyButtons": {
                    "summary": "Too many buttons per card",
                    "value": {
                      "error": "each card can have maximum 2 buttons"
                    }
                  },
                  "bodyTooLong": {
                    "summary": "Body text too long",
                    "value": {
                      "error": "card body cannot exceed 1024 characters"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid Client-Token or instance token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not connected"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-poll": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send poll message",
        "description": "Sends a poll (voting/survey) message to a WhatsApp user or group.\n\n**Features:**\n- ✅ 2-12 poll options\n- ✅ Single or multiple choice voting\n- ✅ Custom message ID for tracking\n- ✅ Delay message support\n- ✅ FIFO queue with per-recipient ordering\n\n\n- `message` field contains the poll question\n- `poll` array contains options with `name` field\n- `pollMaxOptions` controls voting: 0 or 1 = single choice, >1 = multiple choice\n\n**Limits:**\n- Min 2 options, max 12 options\n- Option text: max 100 characters each\n- Question text: max 256 characters\n",
        "operationId": "sendPollMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendPollRequest"
              },
              "examples": {
                "singleChoice": {
                  "summary": "Single choice poll",
                  "description": "Poll where user can select only one option",
                  "value": {
                    "phone": "5511999999999",
                    "message": "Qual o melhor sabor de pizza?",
                    "poll": [
                      {
                        "name": "Calabresa"
                      },
                      {
                        "name": "Marguerita"
                      },
                      {
                        "name": "Portuguesa"
                      },
                      {
                        "name": "Frango"
                      }
                    ],
                    "pollMaxOptions": 1
                  }
                },
                "multipleChoice": {
                  "summary": "Multiple choice poll",
                  "description": "Poll where user can select multiple options",
                  "value": {
                    "phone": "5511999999999",
                    "message": "Quais redes sociais voce usa?",
                    "poll": [
                      {
                        "name": "WhatsApp"
                      },
                      {
                        "name": "Instagram"
                      },
                      {
                        "name": "Twitter"
                      },
                      {
                        "name": "TikTok"
                      },
                      {
                        "name": "Facebook"
                      }
                    ],
                    "pollMaxOptions": 3
                  }
                },
                "groupPoll": {
                  "summary": "Poll to group",
                  "description": "Send poll to a WhatsApp group",
                  "value": {
                    "phone": "120363356737170752@g.us",
                    "message": "Qual dia fica melhor para a reuniao?",
                    "poll": [
                      {
                        "name": "Segunda-feira"
                      },
                      {
                        "name": "Terca-feira"
                      },
                      {
                        "name": "Quarta-feira"
                      },
                      {
                        "name": "Quinta-feira"
                      },
                      {
                        "name": "Sexta-feira"
                      }
                    ],
                    "pollMaxOptions": 1
                  }
                },
                "replyPoll": {
                  "summary": "Poll as reply",
                  "description": "Poll sent as reply to another message",
                  "value": {
                    "phone": "5511999999999",
                    "message": "Respondendo sua pergunta, qual voce prefere?",
                    "poll": [
                      {
                        "name": "Opcao A"
                      },
                      {
                        "name": "Opcao B"
                      },
                      {
                        "name": "Opcao C"
                      }
                    ],
                    "pollMaxOptions": 1,
                    "messageId": "3EB047ED70306656281B34"
                  }
                },
                "completeExample": {
                  "summary": "Complete poll with all fields",
                  "description": "Poll with all available options configured",
                  "value": {
                    "phone": "5511999999999",
                    "message": "Como voce avalia nosso atendimento?",
                    "poll": [
                      {
                        "name": "Excelente"
                      },
                      {
                        "name": "Bom"
                      },
                      {
                        "name": "Regular"
                      },
                      {
                        "name": "Ruim"
                      }
                    ],
                    "pollMaxOptions": 1,
                    "messageId": "3EB047ED70306656281B34",
                    "delayMessage": 3,
                    "delayTyping": 2
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Poll message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageQueuedResponse"
                },
                "example": {
                  "success": true,
                  "message": "Message queued successfully",
                  "data": {
                    "zaapId": "39BB1684570F00E91090F6BBC7EE7646",
                    "messageId": "39BB1684570F00E91090F6BBC7EE7646",
                    "status": "queued"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (validation error)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missingQuestion": {
                    "summary": "Missing poll question",
                    "value": {
                      "error": "message (poll question) is required"
                    }
                  },
                  "missingOptions": {
                    "summary": "Missing poll options",
                    "value": {
                      "error": "poll options are required"
                    }
                  },
                  "tooFewOptions": {
                    "summary": "Too few options",
                    "value": {
                      "error": "poll must have at least 2 options"
                    }
                  },
                  "tooManyOptions": {
                    "summary": "Too many options",
                    "value": {
                      "error": "poll cannot have more than 12 options"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid Client-Token or instance token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not connected"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-event": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send event message",
        "description": "Sends a scheduled event message to a WhatsApp group.\n\n**Features:**\n- ✅ Event name and description\n- ✅ Date and time scheduling (ISO 8601)\n- ✅ Location support (name and coordinates)\n- ✅ Call link type (voice/video)\n- ✅ Event cancellation support\n- ✅ Custom message ID for tracking\n- ✅ FIFO queue with per-recipient ordering\n\n\n- Nested `event` object with all event details\n- `dateTime` in ISO 8601 format (e.g., \"2024-04-29T09:30:53.309Z\")\n- `location` object with name and optional coordinates\n- `callLinkType` can be \"voice\" or \"video\"\n\n**Restrictions:**\n- Events can only be sent to groups\n- Sender must be group admin for some event features\n",
        "operationId": "sendEventMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendEventRequest"
              },
              "examples": {
                "basicEvent": {
                  "summary": "Basic event",
                  "description": "Simple event with name, description and date",
                  "value": {
                    "phone": "120363356737170752@g.us",
                    "event": {
                      "name": "Reuniao de Equipe",
                      "description": "Reuniao semanal para alinhamento de projetos",
                      "dateTime": "2024-04-29T14:00:00.000Z"
                    }
                  }
                },
                "eventWithLocationName": {
                  "summary": "Event with location name only",
                  "description": "Event with location name but no coordinates",
                  "value": {
                    "phone": "120363356737170752@g.us",
                    "event": {
                      "name": "Encontro Presencial",
                      "description": "Encontro do grupo no escritorio",
                      "dateTime": "2024-05-10T09:00:00.000Z",
                      "location": {
                        "name": "Escritorio Central - Av. Paulista, 1000, Sao Paulo"
                      }
                    }
                  }
                },
                "eventWithLocationCoordinates": {
                  "summary": "Event with location and coordinates",
                  "description": "Event with physical location and GPS coordinates",
                  "value": {
                    "phone": "120363356737170752@g.us",
                    "event": {
                      "name": "Happy Hour da Empresa",
                      "description": "Confraternizacao mensal",
                      "dateTime": "2024-05-15T18:30:00.000Z",
                      "location": {
                        "name": "Bar do Ze - Rua das Flores, 123",
                        "degreesLatitude": -23.5505,
                        "degreesLongitude": -46.6333
                      }
                    }
                  }
                },
                "eventWithVideoCall": {
                  "summary": "Event with video call",
                  "description": "Online event with video call link",
                  "value": {
                    "phone": "120363356737170752@g.us",
                    "event": {
                      "name": "Workshop de Vendas",
                      "description": "Treinamento online de tecnicas de vendas",
                      "dateTime": "2024-05-20T10:00:00.000Z",
                      "callLinkType": "video"
                    }
                  }
                },
                "eventWithVoiceCall": {
                  "summary": "Event with voice call",
                  "description": "Online event with voice call link",
                  "value": {
                    "phone": "120363356737170752@g.us",
                    "event": {
                      "name": "Call de Alinhamento",
                      "description": "Chamada rapida para alinhar pendencias",
                      "dateTime": "2024-05-22T15:00:00.000Z",
                      "callLinkType": "voice"
                    }
                  }
                },
                "canceledEvent": {
                  "summary": "Canceled event",
                  "description": "Event marked as canceled",
                  "value": {
                    "phone": "120363356737170752@g.us",
                    "event": {
                      "name": "Evento Cancelado",
                      "description": "Este evento foi cancelado",
                      "dateTime": "2024-04-30T09:00:00.000Z",
                      "canceled": true
                    }
                  }
                },
                "eventWithDelay": {
                  "summary": "Event with delay",
                  "description": "Event sent with delay for typing simulation",
                  "value": {
                    "phone": "120363356737170752@g.us",
                    "event": {
                      "name": "Reuniao Importante",
                      "description": "Discussao sobre novos projetos",
                      "dateTime": "2024-06-01T10:00:00.000Z"
                    },
                    "delayMessage": 3,
                    "delayTyping": 2
                  }
                },
                "eventReply": {
                  "summary": "Event as reply",
                  "description": "Event sent as reply to another message",
                  "value": {
                    "phone": "120363356737170752@g.us",
                    "event": {
                      "name": "Agenda Confirmada",
                      "description": "Conforme solicitado, agendamos o evento",
                      "dateTime": "2024-06-05T14:00:00.000Z"
                    },
                    "messageId": "3EB047ED70306656281B34"
                  }
                },
                "completeEventExample": {
                  "summary": "Complete event with all fields",
                  "description": "Event with all available options configured",
                  "value": {
                    "phone": "120363356737170752@g.us",
                    "event": {
                      "name": "Evento Completo",
                      "description": "Evento de exemplo com todas as opcoes",
                      "dateTime": "2024-07-01T16:00:00.000Z",
                      "location": {
                        "name": "Centro de Convencoes - Rua Principal, 500",
                        "degreesLatitude": -23.5489,
                        "degreesLongitude": -46.6388
                      },
                      "callLinkType": "video"
                    },
                    "messageId": "3EB047ED70306656281B34",
                    "delayMessage": 5,
                    "delayTyping": 3
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Event message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageQueuedResponse"
                },
                "example": {
                  "success": true,
                  "message": "Message queued successfully",
                  "data": {
                    "zaapId": "39BB1684570F00E91090F6BBC7EE7646",
                    "messageId": "39BB1684570F00E91090F6BBC7EE7646",
                    "status": "queued"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (validation error)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missingEvent": {
                    "summary": "Missing event object",
                    "value": {
                      "error": "event object is required"
                    }
                  },
                  "missingName": {
                    "summary": "Missing event name",
                    "value": {
                      "error": "event name is required"
                    }
                  },
                  "missingDateTime": {
                    "summary": "Missing event date/time",
                    "value": {
                      "error": "event dateTime is required"
                    }
                  },
                  "invalidDateTime": {
                    "summary": "Invalid date/time format",
                    "value": {
                      "error": "invalid dateTime format, expected ISO 8601"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid Client-Token or instance token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not connected"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-link": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send link with preview",
        "description": "Sends a text message with a customized link preview.\n\n**Features:**\n- ✅ Custom link preview title\n- ✅ Custom link preview description\n- ✅ Custom preview image\n- ✅ Message text before the link\n- ✅ Automatic URL validation\n- ✅ Custom message ID for tracking\n- ✅ Delay message support\n- ✅ FIFO queue with per-recipient ordering\n\n\n- `linkUrl` is the URL to preview (required)\n- `title` overrides the default link title\n- `linkDescription` overrides the default description\n- `image` provides a custom preview thumbnail\n- `message` adds text before the link preview\n\n**Preview Image:**\n- Must be a valid image URL (JPEG, PNG, WebP)\n- Will be downloaded and used as thumbnail\n- Falls back to default Open Graph image if download fails\n",
        "operationId": "sendLinkMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendLinkRequest"
              },
              "examples": {
                "basicLink": {
                  "summary": "Basic link with custom preview",
                  "description": "Link with custom title and description",
                  "value": {
                    "phone": "5511999999999",
                    "message": "Confira nosso novo produto!",
                    "linkUrl": "https://www.example.com/produto",
                    "title": "Produto Incrivel",
                    "linkDescription": "O melhor produto do mercado com desconto especial"
                  }
                },
                "linkWithImage": {
                  "summary": "Link with custom image",
                  "description": "Link with custom preview image using real image URL",
                  "value": {
                    "phone": "5511999999999",
                    "message": "Veja esta oferta especial",
                    "linkUrl": "https://www.example.com/oferta",
                    "title": "Super Oferta",
                    "linkDescription": "50% de desconto em todos os produtos",
                    "image": "https://picsum.photos/600/400.jpg"
                  }
                },
                "linkWithDelay": {
                  "summary": "Link with delay",
                  "description": "Link with delay message and typing indicator",
                  "value": {
                    "phone": "5511999999999",
                    "message": "Acesse nosso site",
                    "linkUrl": "https://www.example.com",
                    "title": "Nosso Site Oficial",
                    "linkDescription": "Visite-nos e conheca nossos servicos",
                    "delayMessage": 3,
                    "delayTyping": 2
                  }
                },
                "minimalLink": {
                  "summary": "Minimal link",
                  "description": "Just the URL with auto-fetched metadata",
                  "value": {
                    "phone": "5511999999999",
                    "linkUrl": "https://github.com"
                  }
                },
                "linkToGroup": {
                  "summary": "Link to group",
                  "description": "Send link with preview to a WhatsApp group",
                  "value": {
                    "phone": "120363356737170752@g.us",
                    "message": "Material para estudo do grupo",
                    "linkUrl": "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",
                    "title": "Documento PDF",
                    "linkDescription": "Baixe o documento em PDF para o proximo encontro",
                    "image": "https://picsum.photos/600/400.jpg"
                  }
                },
                "linkAsReply": {
                  "summary": "Link as reply",
                  "description": "Send link as reply to another message",
                  "value": {
                    "phone": "5511999999999",
                    "message": "Aqui esta o video que voce pediu",
                    "linkUrl": "https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4",
                    "title": "Sintel Trailer",
                    "linkDescription": "Trailer do filme Sintel em 480p",
                    "image": "https://picsum.photos/600/400.jpg",
                    "messageId": "3EB047ED70306656281B34"
                  }
                },
                "completeLinkExample": {
                  "summary": "Complete link with all fields",
                  "description": "Link with all available options configured",
                  "value": {
                    "phone": "5511999999999",
                    "message": "Confira este conteudo incrivel que separei para voce!",
                    "linkUrl": "https://www.example.com/conteudo-especial",
                    "title": "Conteudo Especial",
                    "linkDescription": "Acesse agora e aproveite esta oportunidade unica",
                    "image": "https://picsum.photos/600/400.jpg",
                    "messageId": "3EB047ED70306656281B34",
                    "delayMessage": 5,
                    "delayTyping": 3
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Link message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageQueuedResponse"
                },
                "example": {
                  "success": true,
                  "message": "Message queued successfully",
                  "data": {
                    "zaapId": "39BB1684570F00E91090F6BBC7EE7646",
                    "messageId": "39BB1684570F00E91090F6BBC7EE7646",
                    "status": "queued"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (validation error)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missingUrl": {
                    "summary": "Missing link URL",
                    "value": {
                      "error": "linkUrl is required"
                    }
                  },
                  "invalidUrl": {
                    "summary": "Invalid URL format",
                    "value": {
                      "error": "linkUrl must be a valid URL"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid Client-Token or instance token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not connected"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/messages": {
      "delete": {
        "tags": [
          "Messages"
        ],
        "summary": "Delete message",
        "description": "Deletes (revokes) a previously sent message from a chat.\n\n**Features:**\n- ✅ Delete own messages (sender = you)\n- ✅ Delete others' messages (group admin only)\n- ✅ Works in private chats and groups\n- ✅ query parameters\n\n\nUses query parameters instead of request body:\n- `phone` - The chat phone number (recipient)\n- `messageId` - The WhatsApp message ID to delete\n- `owner` - \"true\" for own messages, \"false\" for others (admin delete)\n\n**Behavior:**\n- For `owner=true`: Message is deleted for everyone (\"Delete for Everyone\")\n- For `owner=false`: Admin delete in groups (removes message sent by others)\n- Deleted messages show \"This message was deleted\" placeholder\n\n**Restrictions:**\n- Own messages: Can be deleted within ~1 hour of sending\n- Admin delete: Requires group admin privileges\n- Once deleted, the message cannot be recovered\n",
        "operationId": "deleteMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "in": "query",
            "name": "phone",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Phone number of the chat (recipient)",
            "example": "5511999999999"
          },
          {
            "in": "query",
            "name": "messageId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "WhatsApp message ID to delete",
            "example": "3EB047ED70306656281B34"
          },
          {
            "in": "query",
            "name": "owner",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "true",
                "false"
              ]
            },
            "description": "Whether the message was sent by you:\n- \"true\" = your own message (Delete for Everyone)\n- \"false\" = someone else's message (admin delete in groups)\n",
            "example": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "Message deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteMessageResponse"
                },
                "examples": {
                  "ownMessage": {
                    "summary": "Own message deleted",
                    "value": {
                      "success": true,
                      "phone": "5511999999999",
                      "messageId": "3EB047ED70306656281B34",
                      "message": "message deleted successfully"
                    }
                  },
                  "adminDelete": {
                    "summary": "Admin deleted message",
                    "value": {
                      "success": true,
                      "phone": "120363356737170752@g.us",
                      "messageId": "3EB047ED70306656281B34",
                      "message": "message deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (missing parameters)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missingPhone": {
                    "summary": "Missing phone",
                    "value": {
                      "error": "phone is required"
                    }
                  },
                  "missingMessageId": {
                    "summary": "Missing message ID",
                    "value": {
                      "error": "messageId is required"
                    }
                  },
                  "missingOwner": {
                    "summary": "Missing owner flag",
                    "value": {
                      "error": "owner is required"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid Client-Token or instance token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found"
                }
              }
            }
          },
          "500": {
            "description": "Failed to delete message",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "failed to delete message: timeout"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not connected"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/modify-chat": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Modify chat",
        "description": "Performs various chat modification actions like read, archive, pin, mute, clear, or delete.\n\n**Supported Actions:**\n- `read` - Mark chat as read\n- `archive` - Archive the chat\n- `unarchive` - Unarchive the chat\n- `pin` - Pin the chat to top\n- `unpin` - Unpin the chat\n- `mute` - Mute chat notifications\n- `unmute` - Unmute chat notifications\n- `clear` - Clear all messages in chat\n- `delete` - Delete the entire chat\n\n\nRequest body with `phone` and `action` fields.\n\n**Behavior:**\n- `read`: Marks all messages in chat as read (blue checkmarks)\n- `archive/unarchive`: Moves chat to/from archive\n- `pin/unpin`: Pins/unpins chat to top of chat list\n- `mute/unmute`: Enables/disables notifications\n- `clear`: Removes all messages but keeps chat\n- `delete`: Completely removes the chat\n",
        "operationId": "modifyChat",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ModifyChatRequest"
              },
              "examples": {
                "markRead": {
                  "summary": "Mark chat as read",
                  "description": "Mark all messages in chat as read",
                  "value": {
                    "phone": "5511999999999",
                    "action": "read"
                  }
                },
                "archiveChat": {
                  "summary": "Archive chat",
                  "description": "Move chat to archive",
                  "value": {
                    "phone": "5511999999999",
                    "action": "archive"
                  }
                },
                "unarchiveChat": {
                  "summary": "Unarchive chat",
                  "description": "Remove chat from archive",
                  "value": {
                    "phone": "5511999999999",
                    "action": "unarchive"
                  }
                },
                "pinChat": {
                  "summary": "Pin chat",
                  "description": "Pin chat to top of list",
                  "value": {
                    "phone": "5511999999999",
                    "action": "pin"
                  }
                },
                "unpinChat": {
                  "summary": "Unpin chat",
                  "description": "Unpin chat from top",
                  "value": {
                    "phone": "5511999999999",
                    "action": "unpin"
                  }
                },
                "muteChat": {
                  "summary": "Mute notifications",
                  "description": "Disable notifications for chat",
                  "value": {
                    "phone": "5511999999999",
                    "action": "mute"
                  }
                },
                "unmuteChat": {
                  "summary": "Unmute notifications",
                  "description": "Enable notifications for chat",
                  "value": {
                    "phone": "5511999999999",
                    "action": "unmute"
                  }
                },
                "clearChat": {
                  "summary": "Clear chat",
                  "description": "Remove all messages from chat",
                  "value": {
                    "phone": "5511999999999",
                    "action": "clear"
                  }
                },
                "deleteChat": {
                  "summary": "Delete chat",
                  "description": "Completely remove the chat",
                  "value": {
                    "phone": "5511999999999",
                    "action": "delete"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Chat modified successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ModifyChatResponse"
                },
                "examples": {
                  "readSuccess": {
                    "summary": "Marked as read",
                    "value": {
                      "success": true,
                      "phone": "5511999999999",
                      "action": "read",
                      "message": "chat marked as read successfully"
                    }
                  },
                  "archiveSuccess": {
                    "summary": "Archived",
                    "value": {
                      "success": true,
                      "phone": "5511999999999",
                      "action": "archive",
                      "message": "chat archived successfully"
                    }
                  },
                  "pinSuccess": {
                    "summary": "Pinned",
                    "value": {
                      "success": true,
                      "phone": "5511999999999",
                      "action": "pin",
                      "message": "chat pinned successfully"
                    }
                  },
                  "muteSuccess": {
                    "summary": "Muted",
                    "value": {
                      "success": true,
                      "phone": "5511999999999",
                      "action": "mute",
                      "message": "chat muted successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (validation error)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missingPhone": {
                    "summary": "Missing phone",
                    "value": {
                      "error": "phone is required"
                    }
                  },
                  "missingAction": {
                    "summary": "Missing action",
                    "value": {
                      "error": "action is required"
                    }
                  },
                  "invalidAction": {
                    "summary": "Invalid action",
                    "value": {
                      "error": "invalid action: must be one of read, archive, unarchive, pin, unpin, mute, unmute, clear, delete"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid Client-Token or instance token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found"
                }
              }
            }
          },
          "500": {
            "description": "Failed to modify chat",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "failed to modify chat: operation not supported"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not connected"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/contacts": {
      "get": {
        "tags": [
          "Contacts"
        ],
        "summary": "List WhatsApp contacts",
        "description": "Returns a paginated list of WhatsApp contacts from the instance's device.\n\n**Features:**\n- ✅ Pagination support (page, pageSize)\n- ✅ Device contacts integration (name, short name)\n- ✅ WhatsApp profile data (notify/push name)\n- ✅ VCard information (if shared)\n- ✅ Privacy-aware (respects WhatsApp privacy settings)\n- ✅ X-Total-Count header for total count\n\n**Data Sources:**\n- Device address book (name, short, vname fields)\n- WhatsApp profile (notify field from push name)\n- VCard sharing (vname field)\n\n**Field Availability:**\n- `phone`: Always present (WhatsApp JID)\n- `name`, `short`, `vname`: Only if in address book\n- `notify`: Only if user has interacted with contact\n\n**Privacy Notes:** Contact data respects WhatsApp privacy settings.\nUsers who hide their profile will only show notify field.\n",
        "operationId": "getContacts",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "in": "query",
            "name": "page",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Page number (1-indexed)",
            "example": 1
          },
          {
            "in": "query",
            "name": "pageSize",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            },
            "description": "Number of contacts per page (max 100)",
            "example": 20
          }
        ],
        "responses": {
          "200": {
            "description": "Contacts retrieved successfully",
            "headers": {
              "X-Total-Count": {
                "description": "Total number of contacts available",
                "schema": {
                  "type": "integer"
                },
                "example": 150
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Contact"
                  }
                },
                "example": [
                  {
                    "phone": "5511999999999",
                    "name": "João Silva Santos",
                    "short": "João",
                    "notify": "João S.",
                    "vname": null
                  },
                  {
                    "phone": "5511888888888",
                    "name": "Maria Oliveira",
                    "short": "Maria",
                    "notify": "Maria O.",
                    "vname": null
                  },
                  {
                    "phone": "5511777777777",
                    "name": null,
                    "short": null,
                    "notify": "Carlos",
                    "vname": null
                  }
                ]
              }
            }
          },
          "400": {
            "description": "Invalid pagination parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "page must be >= 1"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid Client-Token or instance token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not connected"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/phone-exists/{phone}": {
      "get": {
        "tags": [
          "Contacts"
        ],
        "summary": "Check if phone number has WhatsApp",
        "description": "Verifies if a phone number is registered on WhatsApp.\n\n**Use Cases:**\n- Form validation (verify phone before saving)\n- Contact verification before sending messages\n- Lead qualification in CRM systems\n\n**Important Notes:**\n- Use this API for form validation purposes\n- Do NOT use before sending messages (Zé da API validates automatically)\n- Using for message validation creates duplicate checks\n- Not designed for spam - use responsibly\n\n**Phone Format:**\n- International format: DDI + DDD + NUMBER\n- Numbers only (no formatting, spaces, or masks)\n- Example: `551199999999` (Brazil mobile)\n",
        "operationId": "phoneExists",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "name": "phone",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "pattern": "^\\d+$"
            },
            "description": "Phone number in international format (DDI DDD NUMBER).\nNumbers only - no formatting, spaces, or masks.\n",
            "example": "551199999999"
          }
        ],
        "responses": {
          "200": {
            "description": "Phone validation result",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PhoneExistsResponse"
                },
                "examples": {
                  "exists_with_lid": {
                    "summary": "Phone exists with LID",
                    "description": "Phone number is registered on WhatsApp and LID is available",
                    "value": {
                      "exists": true,
                      "phone": "5521979232690",
                      "lid": "140712372899859@lid"
                    }
                  },
                  "exists_without_lid": {
                    "summary": "Phone exists without LID",
                    "description": "Phone number is registered but LID is not available",
                    "value": {
                      "exists": true,
                      "phone": "5521979232690",
                      "lid": null
                    }
                  },
                  "not_exists": {
                    "summary": "Phone does not exist",
                    "description": "Phone number is not registered on WhatsApp",
                    "value": {
                      "exists": false,
                      "phone": null,
                      "lid": null
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid phone number format",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "Phone number must contain only digits"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid Client-Token or instance token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "Failed to check phone number"
                }
              }
            }
          },
          "503": {
            "description": "Contacts service not available",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "Contacts service not available"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/phone-exists-batch": {
      "post": {
        "tags": [
          "Contacts"
        ],
        "summary": "Batch validate phone numbers on WhatsApp",
        "description": "Validates multiple phone numbers to check if they are registered on WhatsApp.\n\n**Use Cases:**\n- Bulk contact validation before marketing campaigns\n- CRM data cleansing and enrichment\n- Lead qualification at scale\n- Form validation with multiple numbers\n\n**Important Notes:**\n- Maximum batch size: 50,000 numbers per request\n- Use for validation purposes, not before sending messages\n- Not designed for spam - use responsibly\n\n**Phone Format:**\n- International format: DDI + DDD + NUMBER\n- Numbers only (no formatting, spaces, or masks)\n- Example: `551199999999` (Brazil mobile)\n\n**Response Fields:**\n- `exists`: Whether the phone has WhatsApp\n- `inputPhone`: The number as you sent it\n- `outputPhone`: The number formatted by WhatsApp (may include 9th digit)\n",
        "operationId": "phoneExistsBatch",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PhoneExistsBatchRequest"
              },
              "example": {
                "phones": [
                  "554499999999",
                  "554488888888"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Batch validation results",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PhoneExistsBatchResponse"
                  }
                },
                "example": [
                  {
                    "exists": true,
                    "inputPhone": "554499999999",
                    "outputPhone": "554499999999"
                  },
                  {
                    "exists": false,
                    "inputPhone": "554488888888",
                    "outputPhone": "554488888888"
                  }
                ]
              }
            }
          },
          "400": {
            "description": "Invalid request (empty array, invalid format, or batch size exceeded)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "empty_array": {
                    "value": {
                      "error": "Phones array is required and cannot be empty"
                    }
                  },
                  "invalid_format": {
                    "value": {
                      "error": "Phone at index 0 must contain only digits"
                    }
                  },
                  "batch_exceeded": {
                    "value": {
                      "error": "Batch size exceeds maximum limit of 50000 numbers"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid Client-Token or instance token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "Failed to check phone numbers"
                }
              }
            }
          },
          "503": {
            "description": "Contacts service not available",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "Contacts service not available"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/chats": {
      "get": {
        "tags": [
          "Chats"
        ],
        "summary": "List WhatsApp chats",
        "description": "Returns a paginated list of WhatsApp chats (conversations) for the instance.\n\n**Features:**\n- ✅ Pagination support (page, pageSize)\n- ✅ Individual, group, and community chats\n- ✅ Unread message counts\n- ✅ Last message timestamp\n- ✅ Mute status and expiry\n- ✅ Archive, pin, and spam status\n- ✅ X-Total-Count header for total count\n- ✅ Ordered by lastMessageTime (most recent first)\n\n**Chat Types:**\n- Individual chats (person-to-person)\n- Group chats (multiple participants)\n- Community announcement channels\n\n**Data Sources:**\n- WhatsApp chat metadata (from store)\n- Message history (last message timestamp)\n- Chat settings (mute, archive, pin, spam status)\n\n**Ordering:** Chats are ordered by lastMessageTime descending (most recent first).\n\n**Unread Counts:** Both `unread` and `messagesUnread` fields represent the same count.\n",
        "operationId": "getChats",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "in": "query",
            "name": "page",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Page number (1-indexed)",
            "example": 1
          },
          {
            "in": "query",
            "name": "pageSize",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            },
            "description": "Number of chats per page (max 100)",
            "example": 20
          }
        ],
        "responses": {
          "200": {
            "description": "Chats retrieved successfully",
            "headers": {
              "X-Total-Count": {
                "description": "Total number of chats available",
                "schema": {
                  "type": "integer"
                },
                "example": 75
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Chat"
                  }
                },
                "example": [
                  {
                    "phone": "5511999999999@s.whatsapp.net",
                    "name": "João Silva",
                    "unread": 5,
                    "lastMessageTime": "2025-01-11T14:30:00Z",
                    "isMuted": false,
                    "muteEndTime": "0001-01-01T00:00:00Z",
                    "isMarkedSpam": false,
                    "archived": false,
                    "pinned": true,
                    "messagesUnread": 5,
                    "isGroup": false
                  },
                  {
                    "phone": "120363047204807488@g.us",
                    "name": "Família Silva",
                    "unread": 12,
                    "lastMessageTime": "2025-01-11T13:45:00Z",
                    "isMuted": true,
                    "muteEndTime": "2025-01-12T14:30:00Z",
                    "isMarkedSpam": false,
                    "archived": false,
                    "pinned": false,
                    "messagesUnread": 12,
                    "isGroup": true
                  },
                  {
                    "phone": "5511888888888@s.whatsapp.net",
                    "name": "Maria Oliveira",
                    "unread": 0,
                    "lastMessageTime": "2025-01-11T10:15:00Z",
                    "isMuted": false,
                    "muteEndTime": "0001-01-01T00:00:00Z",
                    "isMarkedSpam": false,
                    "archived": true,
                    "pinned": false,
                    "messagesUnread": 0,
                    "isGroup": false
                  }
                ]
              }
            }
          },
          "400": {
            "description": "Invalid pagination parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "page must be >= 1"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid Client-Token or instance token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not connected"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/groups": {
      "get": {
        "tags": [
          "Groups"
        ],
        "summary": "List groups",
        "description": "Returns a paginated list of WhatsApp groups the instance participates in.",
        "operationId": "listGroups",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "in": "query",
            "name": "page",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Page number (1-indexed).",
            "example": 1
          },
          {
            "in": "query",
            "name": "pageSize",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Number of groups to return per page.",
            "example": 10
          }
        ],
        "responses": {
          "200": {
            "description": "Array of groups (unwrapped, matching Zé da API behaviour).",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GroupListItem"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/create-group": {
      "post": {
        "tags": [
          "Groups"
        ],
        "summary": "Create group",
        "description": "Creates a WhatsApp group with the provided participants.",
        "operationId": "createGroup",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GroupCreateRequest"
              },
              "example": {
                "autoInvite": true,
                "groupName": "Grupo Zé da API",
                "phones": [
                  "5544999999999",
                  "5544888888888"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Group created successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GroupCreateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-group-name": {
      "post": {
        "tags": [
          "Groups"
        ],
        "summary": "Update group name",
        "description": "Updates the subject (name) of an existing group.",
        "operationId": "updateGroupName",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GroupUpdateNameRequest"
              },
              "example": {
                "groupId": "120363019502650977-group",
                "groupName": "Mudou o nome do meu grupo"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Group name updated successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or group not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-group-photo": {
      "post": {
        "tags": [
          "Groups"
        ],
        "summary": "Update group photo",
        "description": "Updates the profile picture of an existing group.",
        "operationId": "updateGroupPhoto",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GroupUpdatePhotoRequest"
              },
              "example": {
                "groupId": "120363019502650977-group",
                "groupPhoto": "https://api.zedaapi.com/wp-content/themes/zedaapi/dist/images/logo.svg"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Group photo updated successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or group not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/add-participant": {
      "post": {
        "tags": [
          "Groups",
          "Communities"
        ],
        "summary": "Add participants",
        "description": "Adds participants to a group or to the announcements group of a community.",
        "operationId": "addParticipants",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/GroupAddParticipantsRequest"
                  },
                  {
                    "$ref": "#/components/schemas/CommunityAddParticipantsRequest"
                  }
                ]
              },
              "examples": {
                "group": {
                  "summary": "Add participants to a group",
                  "value": {
                    "autoInvite": true,
                    "groupId": "120363019502650977-group",
                    "phones": [
                      "5544999999999",
                      "5544888888888"
                    ]
                  }
                },
                "community": {
                  "summary": "Add participants to a community",
                  "value": {
                    "autoInvite": true,
                    "communityId": "120363019502650977",
                    "phones": [
                      "5544999999999",
                      "5544888888888"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Participants added successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance, group or community not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/remove-participant": {
      "post": {
        "tags": [
          "Groups",
          "Communities"
        ],
        "summary": "Remove participants",
        "description": "Removes participants from a group or a community announcements group.",
        "operationId": "removeParticipants",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/GroupParticipantListRequest"
                  },
                  {
                    "$ref": "#/components/schemas/CommunityParticipantListRequest"
                  }
                ]
              },
              "examples": {
                "group": {
                  "summary": "Remove participants from a group",
                  "value": {
                    "groupId": "120363019502650977-group",
                    "phones": [
                      "5544999999999",
                      "5544888888888"
                    ]
                  }
                },
                "community": {
                  "summary": "Remove participants from a community",
                  "value": {
                    "communityId": "120363019502650977",
                    "phones": [
                      "5544999999999",
                      "5544888888888"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Participants removed successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance, group or community not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/approve-participant": {
      "post": {
        "tags": [
          "Groups"
        ],
        "summary": "Approve participants",
        "description": "Approves pending join requests for a group.",
        "operationId": "approveGroupParticipants",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GroupParticipantListRequest"
              },
              "example": {
                "groupId": "120363019502650977-group",
                "phones": [
                  "5544999999999",
                  "5544888888888"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Participants approved successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or group not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/reject-participant": {
      "post": {
        "tags": [
          "Groups"
        ],
        "summary": "Reject participants",
        "description": "Rejects pending join requests for a group.",
        "operationId": "rejectGroupParticipants",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GroupParticipantListRequest"
              },
              "example": {
                "groupId": "120363019502650977-group",
                "phones": [
                  "5544999999999",
                  "5544888888888"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Participants rejected successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or group not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/add-admin": {
      "post": {
        "tags": [
          "Groups",
          "Communities"
        ],
        "summary": "Promote administrators",
        "description": "Promotes participants to administrators for a group or community.",
        "operationId": "addAdministrators",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/GroupParticipantListRequest"
                  },
                  {
                    "$ref": "#/components/schemas/CommunityAdminMutationRequest"
                  }
                ]
              },
              "examples": {
                "group": {
                  "summary": "Promote group administrators",
                  "value": {
                    "groupId": "120363019502650977-group",
                    "phones": [
                      "5544999999999",
                      "5544888888888"
                    ]
                  }
                },
                "community": {
                  "summary": "Promote community administrators",
                  "value": {
                    "communityId": "120363019502650977",
                    "phones": [
                      "5544999999999",
                      "5544888888888"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Administrators promoted successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance, group or community not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/remove-admin": {
      "post": {
        "tags": [
          "Groups",
          "Communities"
        ],
        "summary": "Demote administrators",
        "description": "Removes administrator privileges from participants in a group or community.",
        "operationId": "removeAdministrators",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/GroupParticipantListRequest"
                  },
                  {
                    "$ref": "#/components/schemas/CommunityAdminMutationRequest"
                  }
                ]
              },
              "examples": {
                "group": {
                  "summary": "Demote group administrators",
                  "value": {
                    "groupId": "120363019502650977-group",
                    "phones": [
                      "5544999999999",
                      "5544888888888"
                    ]
                  }
                },
                "community": {
                  "summary": "Demote community administrators",
                  "value": {
                    "communityId": "120363019502650977",
                    "phones": [
                      "5544999999999",
                      "5544888888888"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Administrators demoted successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance, group or community not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/leave-group": {
      "post": {
        "tags": [
          "Groups"
        ],
        "summary": "Leave group",
        "description": "Removes the connected WhatsApp account from a group.",
        "operationId": "leaveGroup",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GroupLeaveRequest"
              },
              "example": {
                "groupId": "120363019502650977-group"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Left the group successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or group not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/group-metadata/{groupId}": {
      "get": {
        "tags": [
          "Groups"
        ],
        "summary": "Get group metadata",
        "description": "Returns detailed metadata for a specific group.",
        "operationId": "getGroupMetadata",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Group JID (suffix `-group`)."
          }
        ],
        "responses": {
          "200": {
            "description": "Group metadata returned successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GroupMetadataResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or group not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/light-group-metadata/{groupId}": {
      "get": {
        "tags": [
          "Groups"
        ],
        "summary": "Get group metadata (light)",
        "description": "Returns metadata for a specific group without fetching the invitation link (lower latency variant).",
        "operationId": "getLightGroupMetadata",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Group JID (suffix `-group`)."
          }
        ],
        "responses": {
          "200": {
            "description": "Group metadata returned successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GroupMetadataResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or group not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/group-invitation-metadata": {
      "get": {
        "tags": [
          "Groups"
        ],
        "summary": "Resolve group invitation metadata",
        "description": "Resolves a group invitation link and returns metadata about the group.",
        "operationId": "getGroupInvitationMetadata",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "in": "query",
            "name": "url",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uri"
            },
            "description": "Group invitation URL."
          }
        ],
        "responses": {
          "200": {
            "description": "Invitation metadata returned successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GroupInvitationMetadataResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or invitation not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-group-settings": {
      "post": {
        "tags": [
          "Groups"
        ],
        "summary": "Update group settings",
        "description": "Updates group preferences such as admin-only messaging and approvals.",
        "operationId": "updateGroupSettings",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GroupSettingsRequest"
              },
              "example": {
                "phone": "120363019502650977-group",
                "adminOnlyMessage": true,
                "adminOnlySettings": true,
                "requireAdminApproval": false,
                "adminOnlyAddMember": true
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Group settings updated successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or group not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-group-description": {
      "post": {
        "tags": [
          "Groups"
        ],
        "summary": "Update group description",
        "description": "Updates the description text of a group.",
        "operationId": "updateGroupDescription",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GroupDescriptionRequest"
              },
              "example": {
                "groupId": "120363019502650977-group",
                "groupDescription": "Descrição do grupo"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Group description updated successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or group not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/redefine-invitation-link/{resourceId}": {
      "post": {
        "tags": [
          "Groups",
          "Communities"
        ],
        "summary": "Redefine invitation link",
        "description": "Generates a new invitation link for a group or community.",
        "operationId": "redefineInvitationLink",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "name": "resourceId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Group JID (suffix `-group`) or community ID whose invitation link should be reset."
          }
        ],
        "responses": {
          "200": {
            "description": "Invitation link regenerated successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InvitationLinkResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance, group or community not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/group-invitation-link/{groupId}": {
      "post": {
        "tags": [
          "Groups"
        ],
        "summary": "Get group invitation link",
        "description": "Returns the current invitation link for a group.",
        "operationId": "getGroupInvitationLink",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Group JID (suffix `-group`)."
          }
        ],
        "responses": {
          "200": {
            "description": "Invitation link retrieved successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GroupInvitationLinkResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or group not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/accept-invite-group": {
      "get": {
        "tags": [
          "Groups"
        ],
        "summary": "Accept group invite",
        "description": "Accepts a group invitation link on behalf of the connected WhatsApp account.",
        "operationId": "acceptGroupInvite",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "in": "query",
            "name": "url",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uri"
            },
            "description": "Group invitation URL to accept."
          }
        ],
        "responses": {
          "200": {
            "description": "Invitation accepted successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanSuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or invitation not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/communities": {
      "post": {
        "tags": [
          "Communities"
        ],
        "summary": "Create community",
        "description": "Creates a new WhatsApp community.",
        "operationId": "createCommunity",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommunityCreateRequest"
              },
              "example": {
                "name": "Minha primeira Comunidade",
                "description": "Comunidade de testes"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Community created successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityCreateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Communities"
        ],
        "summary": "List communities",
        "description": "Returns the communities the connected account participates in.",
        "operationId": "listCommunities",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Optional page number (1-indexed).",
            "example": 1
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Optional page size.",
            "example": 10
          }
        ],
        "responses": {
          "200": {
            "description": "Array of communities (unwrapped, matching Zé da API behaviour).",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CommunityListItem"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/communities/link": {
      "post": {
        "tags": [
          "Communities"
        ],
        "summary": "Link groups to community",
        "description": "Links one or more groups to a community.",
        "operationId": "linkCommunityGroups",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommunityLinkRequest"
              },
              "example": {
                "communityId": "98372465382764532938",
                "groupsPhones": [
                  "1345353454354354-group",
                  "1203634230225498-group"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Groups linked successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanSuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance, community or group not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/communities/unlink": {
      "post": {
        "tags": [
          "Communities"
        ],
        "summary": "Unlink groups from community",
        "description": "Removes the association between groups and a community.",
        "operationId": "unlinkCommunityGroups",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommunityLinkRequest"
              },
              "example": {
                "communityId": "98372465382764532938",
                "groupsPhones": [
                  "1345353454354354-group"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Groups unlinked successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanSuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance, community or group not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/communities/settings": {
      "post": {
        "tags": [
          "Communities"
        ],
        "summary": "Update community settings",
        "description": "Updates who can add new groups to the community.",
        "operationId": "updateCommunitySettings",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommunitySettingsRequest"
              },
              "example": {
                "communityId": "98372465382764532938",
                "whoCanAddNewGroups": "admins"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Settings updated successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanSuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or community not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-community-description": {
      "post": {
        "tags": [
          "Communities"
        ],
        "summary": "Update community description",
        "description": "Updates the textual description of a community.",
        "operationId": "updateCommunityDescription",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommunityDescriptionRequest"
              },
              "example": {
                "communityId": "120363565656565656",
                "communityDescription": "descrição da comunidade"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Description updated successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or community not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/communities-metadata/{communityId}": {
      "get": {
        "tags": [
          "Communities"
        ],
        "summary": "Get community metadata",
        "description": "Returns metadata and linked groups for a community.",
        "operationId": "getCommunityMetadata",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "name": "communityId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Community identifier."
          }
        ],
        "responses": {
          "200": {
            "description": "Community metadata returned successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityMetadataResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or community not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/communities/{communityId}": {
      "delete": {
        "tags": [
          "Communities"
        ],
        "summary": "Delete community",
        "description": "Mirrors Zé da API `DELETE /communities/{communityId}`, permanently deleting a community.\n\n**Important**: This action is irreversible. All linked groups will be unlinked but not deleted.\n",
        "operationId": "deleteCommunity",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "name": "communityId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Community identifier (e.g., \"120363019502650977\")",
            "example": "120363019502650977"
          }
        ],
        "responses": {
          "200": {
            "description": "Community deleted successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                },
                "example": {
                  "value": true
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or community not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/create-newsletter": {
      "post": {
        "tags": [
          "Channels"
        ],
        "summary": "Create channel",
        "description": "Creates a WhatsApp channel (newsletter) owned by the connected account.",
        "operationId": "createNewsletter",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NewsletterCreateRequest"
              },
              "example": {
                "name": "Nome do canal",
                "description": "Descrição do canal"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Channel created successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NewsletterCreateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-newsletter-picture": {
      "post": {
        "tags": [
          "Channels"
        ],
        "summary": "Update channel picture",
        "description": "Updates the profile picture of an existing channel.",
        "operationId": "updateNewsletterPicture",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NewsletterUpdatePictureRequest"
              },
              "example": {
                "id": "120363336258908380@newsletter",
                "pictureUrl": "https://api.zedaapi.com/wp-content/themes/zedaapi/dist/images/logo.svg"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Channel picture updated successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or channel not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-newsletter-name": {
      "post": {
        "tags": [
          "Channels"
        ],
        "summary": "Update channel name",
        "description": "Updates the display name of a channel.",
        "operationId": "updateNewsletterName",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NewsletterUpdateNameRequest"
              },
              "example": {
                "id": "120363336258908380@newsletter",
                "name": "Novo nome do canal"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Channel name updated successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or channel not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/update-newsletter-description": {
      "post": {
        "tags": [
          "Channels"
        ],
        "summary": "Update channel description",
        "description": "Updates the description of a channel.",
        "operationId": "updateNewsletterDescription",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NewsletterUpdateDescriptionRequest"
              },
              "example": {
                "id": "120363336258908380@newsletter",
                "description": "Nova descrição do canal"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Channel description updated successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or channel not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/follow-newsletter": {
      "put": {
        "tags": [
          "Channels"
        ],
        "summary": "Follow channel",
        "description": "Follows a channel (newsletter) to receive updates.",
        "operationId": "followNewsletter",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NewsletterIdRequest"
              },
              "example": {
                "id": "120363336258908380@newsletter"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Channel followed successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or channel not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/unfollow-newsletter": {
      "put": {
        "tags": [
          "Channels"
        ],
        "summary": "Unfollow channel",
        "description": "Stops following a channel.",
        "operationId": "unfollowNewsletter",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NewsletterIdRequest"
              },
              "example": {
                "id": "120363336258908380@newsletter"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Channel unfollowed successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or channel not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/mute-newsletter": {
      "put": {
        "tags": [
          "Channels"
        ],
        "summary": "Mute channel",
        "description": "Mutes notifications for a channel.",
        "operationId": "muteNewsletter",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NewsletterIdRequest"
              },
              "example": {
                "id": "120363336258908380@newsletter"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Channel muted successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or channel not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/unmute-newsletter": {
      "put": {
        "tags": [
          "Channels"
        ],
        "summary": "Unmute channel",
        "description": "Unmutes notifications for a channel.",
        "operationId": "unmuteNewsletter",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NewsletterIdRequest"
              },
              "example": {
                "id": "120363336258908380@newsletter"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Channel unmuted successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or channel not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/delete-newsletter": {
      "delete": {
        "tags": [
          "Channels"
        ],
        "summary": "Delete channel",
        "description": "Deletes a channel owned by the connected account.",
        "operationId": "deleteNewsletter",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NewsletterIdRequest"
              },
              "example": {
                "id": "120363336258908380@newsletter"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Channel deleted successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or channel not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/newsletter": {
      "get": {
        "tags": [
          "Channels"
        ],
        "summary": "List channels",
        "description": "Returns metadata for channels followed or owned by the connected account.",
        "operationId": "listNewsletters",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "responses": {
          "200": {
            "description": "Array of channels (unwrapped, matching Zé da API behaviour).",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/NewsletterMetadata"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/newsletter/metadata/{newsletterId}": {
      "get": {
        "tags": [
          "Channels"
        ],
        "summary": "Get channel metadata",
        "description": "Returns metadata about a specific channel (newsletter).",
        "operationId": "getNewsletterMetadata",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "name": "newsletterId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Channel identifier (suffix `@newsletter`)."
          }
        ],
        "responses": {
          "200": {
            "description": "Channel metadata returned successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NewsletterMetadata"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or channel not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/search-newsletter": {
      "post": {
        "tags": [
          "Channels"
        ],
        "summary": "Search channels",
        "description": "Searches for public channels using the filters supported by WhatsApp.",
        "operationId": "searchNewsletters",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NewsletterSearchRequest"
              },
              "example": {
                "limit": 50,
                "view": "TRENDING",
                "filters": {
                  "countryCodes": [
                    "BR",
                    "CA"
                  ]
                },
                "searchText": "Zé da API"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Search results returned successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NewsletterSearchResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/newsletter/settings/{newsletterId}": {
      "post": {
        "tags": [
          "Channels"
        ],
        "summary": "Update channel settings",
        "description": "Updates channel reaction settings.",
        "operationId": "updateNewsletterSettings",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "name": "newsletterId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Channel identifier (suffix `@newsletter`)."
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NewsletterSettingsRequest"
              },
              "example": {
                "reactionCodes": "basic"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Channel settings updated successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or channel not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-newsletter-admin-invite": {
      "post": {
        "tags": [
          "Channels"
        ],
        "summary": "Send channel admin invitation",
        "description": "Sends an invitation to a participant to become channel administrator via direct message.",
        "operationId": "sendNewsletterAdminInvite",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendNewsletterAdminInviteRequest"
              },
              "example": {
                "id": "123456789@newsletter",
                "phone": "5511999999999"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Admin invitation sent successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or channel not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/newsletter/accept-admin-invite/{newsletterId}": {
      "post": {
        "tags": [
          "Channels"
        ],
        "summary": "Accept channel admin invite",
        "description": "Accepts an invitation to become administrator of a channel.",
        "operationId": "acceptNewsletterAdminInvite",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "name": "newsletterId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Channel identifier (suffix `@newsletter`)."
          }
        ],
        "responses": {
          "201": {
            "description": "Admin invitation accepted successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or channel not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/newsletter/remove-admin/{newsletterId}": {
      "post": {
        "tags": [
          "Channels"
        ],
        "summary": "Remove channel admin",
        "description": "Removes an administrator from a channel.",
        "operationId": "removeNewsletterAdmin",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "name": "newsletterId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Channel identifier (suffix `@newsletter`)."
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NewsletterAdminActionRequest"
              },
              "example": {
                "phone": "5544999999999"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Administrator removed successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or channel not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/newsletter/revoke-admin-invite/{newsletterId}": {
      "post": {
        "tags": [
          "Channels"
        ],
        "summary": "Revoke channel admin invite",
        "description": "Revokes a pending administrator invitation for a channel.",
        "operationId": "revokeNewsletterAdminInvite",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "name": "newsletterId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Channel identifier (suffix `@newsletter`)."
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NewsletterAdminActionRequest"
              },
              "example": {
                "phone": "5544999999999"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Invitation revoked successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BooleanStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or channel not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/newsletter/transfer-ownership/{newsletterId}": {
      "post": {
        "tags": [
          "Channels"
        ],
        "summary": "Transfer channel ownership",
        "description": "Transfers ownership of a channel to another administrator.",
        "operationId": "transferNewsletterOwnership",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "name": "newsletterId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Channel identifier (suffix `@newsletter`)."
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NewsletterTransferOwnershipRequest"
              },
              "examples": {
                "basic": {
                  "summary": "Transfer ownership and keep current admin role",
                  "value": {
                    "phone": "5544999999999"
                  }
                },
                "quitAdmin": {
                  "summary": "Transfer ownership and leave admin role",
                  "value": {
                    "phone": "5544999999999",
                    "quitAdmin": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Ownership transfer attempted.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NewsletterTransferOwnershipResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance or channel not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/messages-status": {
      "get": {
        "tags": [
          "Status Cache"
        ],
        "summary": "Query message delivery status",
        "description": "Query the cached status of message deliveries. Status Cache stores delivery receipts\n(sent, delivered, read, played) for messages, especially useful for group messages\nwhere tracking individual participant statuses is important.\n\n**Important:** This endpoint works independently of webhook configuration.\nYou can use Status Cache in API-only mode (pull) without configuring any webhooks.\n\n**Query Types:**\n- **No filter**: Get ALL cached statuses for the instance (paginated)\n- By `messageId`: Get status for a specific message\n- By `groupId`: Get all message statuses for a group\n- By `phone`: Get all message statuses for a phone number\n\n**Response Formats:**\n- `aggregated` (default): Returns aggregated counts and optionally participant details\n- `raw`: Returns data in Zé da API webhook format for compatibility\n\n**Use Cases:**\n- Check if a message was read by all group participants\n- Get delivery statistics for messages to a specific contact\n- Retrieve batch status updates for UI dashboards\n- Poll for status updates without webhook configuration\n\n**Note:** Status data is cached with a configurable TTL (default 24h).\n\n**Requirements:**\n- `STATUS_CACHE_ENABLED=true` environment variable\n- `STATUS_CACHE_SCOPE` must include the message type (groups, direct, or both)\n",
        "operationId": "getMessagesStatus",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "name": "messageId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Query status for a specific message. When provided, returns detailed status\nfor that message including all participant statuses.\n",
            "example": "3EB0A1B2C3D4E5F6"
          },
          {
            "name": "groupId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Query all message statuses for a group. Returns paginated results.\nThe groupId should be the numeric part of the WhatsApp JID (without @g.us).\n",
            "example": "120363182823169824"
          },
          {
            "name": "phone",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Query all message statuses for messages to/from a phone number.\nUse E.164 format without the + prefix.\n",
            "example": "5511999999999"
          },
          {
            "name": "format",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "aggregated",
                "raw"
              ],
              "default": "aggregated"
            },
            "description": "Response format:\n- `aggregated`: Returns aggregated counts with optional participant details\n- `raw`: Returns data in Zé da API MessageStatusCallback webhook format\n"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 1000,
              "default": 100
            },
            "description": "Maximum number of results to return (1-1000)."
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0
            },
            "description": "Number of results to skip for pagination."
          },
          {
            "name": "includeParticipants",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "When true and format is `aggregated`, includes the full list of\nparticipant statuses in the response. Useful for detailed analysis\nbut increases response size significantly for groups.\n"
          }
        ],
        "responses": {
          "200": {
            "description": "Status data retrieved successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/StatusCacheQueryResult"
                    },
                    {
                      "$ref": "#/components/schemas/StatusCacheRawQueryResult"
                    }
                  ]
                },
                "examples": {
                  "aggregatedSingle": {
                    "summary": "Single message aggregated status",
                    "value": {
                      "data": [
                        {
                          "messageId": "3EB0A1B2C3D4E5F6",
                          "instanceId": "550e8400-e29b-41d4-a716-446655440000",
                          "groupId": "120363182823169824",
                          "phone": "120363182823169824-group",
                          "isGroup": true,
                          "totalParticipants": 100,
                          "status": {
                            "sent": 100,
                            "delivered": 95,
                            "read": 42,
                            "played": 0
                          },
                          "createdAt": 1703548800000,
                          "updatedAt": 1703552400000
                        }
                      ],
                      "meta": {
                        "total": 1,
                        "limit": 100,
                        "offset": 0
                      }
                    }
                  },
                  "aggregatedWithParticipants": {
                    "summary": "With participant details",
                    "value": {
                      "data": [
                        {
                          "messageId": "3EB0A1B2C3D4E5F6",
                          "instanceId": "550e8400-e29b-41d4-a716-446655440000",
                          "phone": "5511999999999",
                          "isGroup": false,
                          "totalParticipants": 1,
                          "status": {
                            "sent": 1,
                            "delivered": 1,
                            "read": 1,
                            "played": 0
                          },
                          "participants": [
                            {
                              "phone": "5511999999999",
                              "status": "read",
                              "timestamp": 1703548900000,
                              "device": 1
                            }
                          ],
                          "createdAt": 1703548800000,
                          "updatedAt": 1703548900000
                        }
                      ],
                      "meta": {
                        "total": 1,
                        "limit": 100,
                        "offset": 0
                      }
                    }
                  },
                  "rawFormat": {
                    "summary": "Raw",
                    "value": {
                      "data": [
                        {
                          "status": "read",
                          "ids": [
                            "3EB0A1B2C3D4E5F6"
                          ],
                          "momment": 1703548900000,
                          "phone": "5511999999999",
                          "isGroup": false,
                          "instanceId": "550e8400-e29b-41d4-a716-446655440000",
                          "type": "MessageStatusCallback",
                          "fromMe": true,
                          "senderDevice": 1
                        }
                      ],
                      "meta": {
                        "total": 1,
                        "limit": 100,
                        "offset": 0
                      }
                    }
                  },
                  "allStatuses": {
                    "summary": "All cached statuses (no filter)",
                    "description": "When no filter is provided, returns all cached statuses for the instance with pagination",
                    "value": {
                      "data": [
                        {
                          "messageId": "3EB0A1B2C3D4E5F6",
                          "instanceId": "550e8400-e29b-41d4-a716-446655440000",
                          "groupId": "120363182823169824",
                          "phone": "120363182823169824-group",
                          "isGroup": true,
                          "totalParticipants": 50,
                          "status": {
                            "sent": 50,
                            "delivered": 45,
                            "read": 20,
                            "played": 0
                          },
                          "createdAt": 1703548800000,
                          "updatedAt": 1703552400000
                        },
                        {
                          "messageId": "3EB0A1B2C3D4E5F7",
                          "instanceId": "550e8400-e29b-41d4-a716-446655440000",
                          "phone": "5511999999999",
                          "isGroup": false,
                          "totalParticipants": 1,
                          "status": {
                            "sent": 1,
                            "delivered": 1,
                            "read": 1,
                            "played": 0
                          },
                          "createdAt": 1703548900000,
                          "updatedAt": 1703549000000
                        }
                      ],
                      "meta": {
                        "total": 150,
                        "limit": 100,
                        "offset": 0
                      }
                    }
                  },
                  "allStatusesRaw": {
                    "summary": "All cached statuses in raw/webhook format",
                    "description": "Use format=raw to get data in EXACT webhook payload format",
                    "value": {
                      "data": [
                        {
                          "status": "read",
                          "ids": [
                            "3EB0A1B2C3D4E5F6"
                          ],
                          "momment": 1703548900000,
                          "phone": "120363182823169824",
                          "chatLid": "",
                          "participantLid": "",
                          "isGroup": true,
                          "instanceId": "550e8400-e29b-41d4-a716-446655440000",
                          "type": "MessageStatusCallback",
                          "fromMe": true,
                          "senderDevice": 1
                        },
                        {
                          "status": "delivered",
                          "ids": [
                            "3EB0A1B2C3D4E5F7"
                          ],
                          "momment": 1703549000000,
                          "phone": "5511999999999",
                          "chatLid": "",
                          "participantLid": "",
                          "isGroup": false,
                          "instanceId": "550e8400-e29b-41d4-a716-446655440000",
                          "type": "MessageStatusCallback",
                          "fromMe": true,
                          "senderDevice": 1
                        }
                      ],
                      "meta": {
                        "total": 150,
                        "limit": 100,
                        "offset": 0
                      }
                    }
                  },
                  "empty": {
                    "summary": "No cached status found",
                    "value": {
                      "data": [],
                      "meta": {
                        "total": 0,
                        "limit": 0,
                        "offset": 0
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "invalid instance id"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid or missing Client-Token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/messages-status/flush": {
      "post": {
        "tags": [
          "Status Cache"
        ],
        "summary": "Flush pending webhooks",
        "description": "Triggers delivery of suppressed webhooks for cached status events.\n\nWhen `STATUS_CACHE_SUPPRESS_WEBHOOKS=true`, status webhooks are not immediately\nsent but stored for later delivery. This endpoint allows manual triggering\nof those pending webhooks.\n\n**Webhook Requirement:** This endpoint REQUIRES a webhook to be configured:\n- Primary: `messageStatusCallbackUrl`\n- Fallback: `deliveryCallbackUrl`\n\nIf no webhook is configured, flush will succeed but no data will be delivered.\nIn API-only mode, use `/messages-status` GET endpoint instead.\n\n**Use Cases:**\n- Force immediate delivery of status updates to webhook endpoints\n- Recover from webhook endpoint downtime\n- Batch process status updates at specific intervals\n\n**Options:**\n- Flush by specific `messageId`: Delivers webhooks for one message\n- Flush all (`all: true`): Delivers all pending webhooks for the instance\n\n**Note:** Flushing is idempotent - already-flushed webhooks won't be re-sent.\n",
        "operationId": "flushMessagesStatus",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StatusCacheFlushRequest"
              },
              "examples": {
                "flushMessage": {
                  "summary": "Flush specific message",
                  "value": {
                    "messageId": "3EB0A1B2C3D4E5F6"
                  }
                },
                "flushAll": {
                  "summary": "Flush all pending",
                  "value": {
                    "all": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Flush completed successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusCacheFlushResult"
                },
                "examples": {
                  "success": {
                    "summary": "Flush completed",
                    "value": {
                      "flushed": 15,
                      "webhooksTriggered": 15
                    }
                  },
                  "noPending": {
                    "summary": "No pending webhooks",
                    "value": {
                      "flushed": 0,
                      "webhooksTriggered": 0
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missingParam": {
                    "summary": "Missing parameter",
                    "value": {
                      "error": "specify messageId or set all=true"
                    }
                  },
                  "invalidBody": {
                    "summary": "Invalid request body",
                    "value": {
                      "error": "invalid request body"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/messages-status/cache": {
      "delete": {
        "tags": [
          "Status Cache"
        ],
        "summary": "Clear cached status entries",
        "description": "Removes cached status entries from the status cache.\n\n**Options:**\n- Clear by `messageId`: Removes cache for a specific message\n- Clear all (`all=true`): Removes all cached entries for the instance\n\n**Warning:** Clearing cache is irreversible. Cached status data and pending\nwebhooks for cleared entries will be permanently deleted.\n\n**Use Cases:**\n- Free up cache storage space\n- Remove obsolete message status data\n- Reset cache after testing\n",
        "operationId": "clearMessagesStatusCache",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "name": "messageId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Clear cache for a specific message ID.",
            "example": "3EB0A1B2C3D4E5F6"
          },
          {
            "name": "all",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "Set to true to clear all cached entries for this instance."
          }
        ],
        "responses": {
          "200": {
            "description": "Cache cleared successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/StatusCacheClearSingleResult"
                    },
                    {
                      "$ref": "#/components/schemas/StatusCacheClearAllResult"
                    }
                  ]
                },
                "examples": {
                  "singleMessage": {
                    "summary": "Single message cleared",
                    "value": {
                      "cleared": 1,
                      "messageId": "3EB0A1B2C3D4E5F6"
                    }
                  },
                  "allCleared": {
                    "summary": "All entries cleared",
                    "value": {
                      "cleared": 150
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - missing parameter",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "specify messageId or set all=true"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/messages-status/stats": {
      "get": {
        "tags": [
          "Status Cache"
        ],
        "summary": "Get cache statistics",
        "description": "Returns statistics about the status cache for this instance.\n\n**Important:** This endpoint works independently of webhook configuration.\nUse it to verify that Status Cache is receiving and storing events.\n\n**Metrics included:**\n- Total cached entries\n- Entries breakdown by instance\n- Number of pending webhooks awaiting flush\n\n**Use Cases:**\n- Monitor cache usage and storage\n- Determine if flush is needed\n- Debug cache behavior\n- Verify Status Cache is working (totalEntries > 0)\n\n**Troubleshooting:**\nIf `totalEntries` is 0, check:\n1. `STATUS_CACHE_ENABLED=true` is set\n2. `STATUS_CACHE_SCOPE` matches your message types (groups/direct)\n3. `STATUS_CACHE_TYPES` includes the receipt types you expect (read,delivered,played,sent)\n",
        "operationId": "getMessagesStatusStats",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "responses": {
          "200": {
            "description": "Statistics retrieved successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusCacheStats"
                },
                "example": {
                  "totalEntries": 1500,
                  "entriesByInstance": {
                    "550e8400-e29b-41d4-a716-446655440000": 1500
                  },
                  "pendingWebhooks": 45
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/media/{instanceId}/{filepath}": {
      "get": {
        "tags": [
          "Media"
        ],
        "summary": "Serve media file",
        "description": "Serves a media file with HMAC signature validation for secure access.\nURLs are time-limited and must include valid signature parameters.\n\n**URL Format:**\n`/media/{instanceId}/{filepath}?sig={signature}&exp={expiration}`\n\n**Security:**\n- HMAC-SHA256 signature validation\n- Time-limited URLs (configurable expiration)\n- Instance-scoped access control\n\n**Supported Media Types:**\n- Images (JPEG, PNG, WebP, GIF)\n- Audio (MP3, OGG, M4A)\n- Video (MP4, MOV)\n- Documents (PDF, DOC, etc.)\n",
        "operationId": "serveMedia",
        "security": [],
        "parameters": [
          {
            "name": "instanceId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Instance identifier that owns the media"
          },
          {
            "name": "filepath",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Path to the media file within instance storage",
            "example": "images/photo_123.jpg"
          },
          {
            "name": "sig",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "HMAC-SHA256 signature for URL validation",
            "example": "a1b2c3d4e5f6..."
          },
          {
            "name": "exp",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "description": "Unix timestamp when the URL expires",
            "example": 1704067200
          }
        ],
        "responses": {
          "200": {
            "description": "Media file served successfully",
            "content": {
              "image/*": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "audio/*": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "video/*": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "400": {
            "description": "Missing or invalid signature parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "missing signature parameter"
                }
              }
            }
          },
          "403": {
            "description": "Invalid signature or expired URL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "invalid signature"
                }
              }
            }
          },
          "404": {
            "description": "Media file not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "file not found"
                }
              }
            }
          },
          "410": {
            "description": "URL has expired",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "URL expired"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/privacy-settings": {
      "get": {
        "tags": [
          "Privacy"
        ],
        "summary": "Get privacy settings",
        "description": "Retrieves all privacy settings for the connected WhatsApp account.\n\n**Settings Returned:**\n- `groupAdd`: Who can add you to groups (all, contacts, contact_blacklist)\n- `lastSeen`: Who can see your last seen (all, contacts, contact_blacklist, none)\n- `status`: Who can see your status (all, contacts, contact_blacklist, none)\n- `profile`: Who can see your profile photo (all, contacts, contact_blacklist, none)\n- `readReceipts`: Read receipts setting (all, none)\n- `online`: Online status visibility (all, match_last_seen)\n- `callAdd`: Who can call you (all, known)\n",
        "operationId": "getPrivacySettings",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "responses": {
          "200": {
            "description": "Privacy settings retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PrivacySettingsResponse"
                },
                "example": {
                  "groupAdd": "contacts",
                  "lastSeen": "contacts",
                  "status": "all",
                  "profile": "contacts",
                  "readReceipts": "all",
                  "online": "all",
                  "callAdd": "all"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/privacy-settings/group-add": {
      "put": {
        "tags": [
          "Privacy"
        ],
        "summary": "Update group add privacy",
        "description": "Updates who can add you to WhatsApp groups.\n\n**Values:**\n- `all`: Anyone can add you\n- `contacts`: Only contacts can add you\n- `contact_blacklist`: Contacts except blocked\n",
        "operationId": "updatePrivacyGroupAdd",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePrivacyRequest"
              },
              "example": {
                "value": "contacts"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Privacy setting updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdatePrivacyResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid value",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/privacy-settings/last-seen": {
      "put": {
        "tags": [
          "Privacy"
        ],
        "summary": "Update last seen privacy",
        "description": "Updates who can see your last seen time.\n\n**Values:**\n- `all`: Everyone can see\n- `contacts`: Only contacts can see\n- `contact_blacklist`: Contacts except blocked\n- `none`: Nobody can see\n",
        "operationId": "updatePrivacyLastSeen",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePrivacyRequest"
              },
              "example": {
                "value": "contacts"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Privacy setting updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdatePrivacyResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid value",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/privacy-settings/status": {
      "put": {
        "tags": [
          "Privacy"
        ],
        "summary": "Update status privacy",
        "description": "Updates who can see your status updates.\n\n**Values:**\n- `all`: Everyone can see\n- `contacts`: Only contacts can see\n- `contact_blacklist`: Contacts except blocked\n- `none`: Nobody can see\n",
        "operationId": "updatePrivacyStatus",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePrivacyRequest"
              },
              "example": {
                "value": "contacts"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Privacy setting updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdatePrivacyResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid value",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/privacy-settings/profile-photo": {
      "put": {
        "tags": [
          "Privacy"
        ],
        "summary": "Update profile photo privacy",
        "description": "Updates who can see your profile photo.\n\n**Values:**\n- `all`: Everyone can see\n- `contacts`: Only contacts can see\n- `contact_blacklist`: Contacts except blocked\n- `none`: Nobody can see\n",
        "operationId": "updatePrivacyProfilePhoto",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePrivacyRequest"
              },
              "example": {
                "value": "contacts"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Privacy setting updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdatePrivacyResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid value",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/privacy-settings/read-receipts": {
      "put": {
        "tags": [
          "Privacy"
        ],
        "summary": "Update read receipts privacy",
        "description": "Updates read receipts (blue ticks) setting.\n\n**Values:**\n- `all`: Send and receive read receipts\n- `none`: Disable read receipts (you won't see others' either)\n",
        "operationId": "updatePrivacyReadReceipts",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePrivacyRequest"
              },
              "example": {
                "value": "all"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Privacy setting updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdatePrivacyResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid value",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/privacy-settings/online": {
      "put": {
        "tags": [
          "Privacy"
        ],
        "summary": "Update online status privacy",
        "description": "Updates online status visibility.\n\n**Values:**\n- `all`: Everyone can see when you're online\n- `match_last_seen`: Match your last seen setting\n",
        "operationId": "updatePrivacyOnline",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePrivacyRequest"
              },
              "example": {
                "value": "all"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Privacy setting updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdatePrivacyResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid value",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/privacy-settings/call-add": {
      "put": {
        "tags": [
          "Privacy"
        ],
        "summary": "Update call privacy",
        "description": "Updates who can call you.\n\n**Values:**\n- `all`: Anyone can call you\n- `known`: Only known contacts can call you\n",
        "operationId": "updatePrivacyCallAdd",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePrivacyRequest"
              },
              "example": {
                "value": "all"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Privacy setting updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdatePrivacyResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid value",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/read-message": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Mark messages as read",
        "description": "Marks one or more messages as read (sends read receipts/blue ticks).\n\n**Features:**\n- Mark single or multiple messages as read\n- Works for both individual and group chats\n- Immediate execution (not queued)\n",
        "operationId": "readMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReadMessageRequest"
              },
              "example": {
                "phone": "5511999999999",
                "messageIds": [
                  "3EB047ED70306656281B34",
                  "3EB047ED70306656281B35"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Messages marked as read successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadMessageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-reaction": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send reaction to message",
        "description": "Sends an emoji reaction to a specific message.\n\n**Features:**\n- React with any emoji\n- Works on individual and group messages\n- FIFO queue with per-recipient ordering\n",
        "operationId": "sendReaction",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendReactionRequest"
              },
              "example": {
                "phone": "5511999999999",
                "messageId": "3EB047ED70306656281B34",
                "reaction": "👍"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Reaction sent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendMessageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-remove-reaction": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Remove reaction from message",
        "description": "Removes a previously sent reaction from a message.\n\n**Features:**\n- Remove your reaction from any message\n- Works on individual and group messages\n",
        "operationId": "sendRemoveReaction",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendRemoveReactionRequest"
              },
              "example": {
                "phone": "5511999999999",
                "messageId": "3EB047ED70306656281B34"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Reaction removed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendMessageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/forward-message": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Forward a message",
        "description": "Forwards an existing message to another chat.\n\n**Features:**\n- Forward any message type (text, media, etc.)\n- Preserves original message metadata\n- Shows \"Forwarded\" label on recipient's device\n- FIFO queue with per-recipient ordering\n",
        "operationId": "forwardMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForwardMessageRequest"
              },
              "example": {
                "phone": "5511888888888",
                "messageId": "3EB047ED70306656281B34",
                "isGroup": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message forwarded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendMessageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-poll-vote": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Vote on a poll",
        "description": "Submits a vote on an existing poll message.\n\n**Features:**\n- Vote for one or multiple options (depending on poll settings)\n- Options are specified by name (exact match)\n- FIFO queue with per-recipient ordering\n",
        "operationId": "sendPollVote",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendPollVoteRequest"
              },
              "example": {
                "phone": "5511999999999",
                "pollId": "3EB047ED70306656281B34",
                "options": [
                  "Option A",
                  "Option B"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Poll vote sent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendMessageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/pin-message": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Pin or unpin a chat",
        "description": "Pins or unpins a chat in the chat list.\n\n**Note:** This pins/unpins the entire chat, not individual messages.\n\n**Features:**\n- Pin important conversations to top of chat list\n- Unpin to remove from pinned section\n",
        "operationId": "pinMessage",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PinMessageRequest"
              },
              "example": {
                "phone": "5511999999999",
                "pin": true
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Chat pinned/unpinned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PinMessageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-edit-event": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Edit an event",
        "description": "Sends an update to an existing event message, modifying its details.\n\n**Features:**\n- Update event name, description, location\n- Change start and end times\n- Cancel the event\n- Optional typing simulation before sending\n\n**Note:** You must have created the original event or have permission to edit it.\n",
        "operationId": "sendEditEvent",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendEditEventRequest"
              },
              "example": {
                "phone": "5511999999999",
                "eventId": "3EB047ED70306656281B34",
                "name": "Team Meeting - Updated",
                "description": "Weekly sync moved to new time",
                "startTime": "2024-01-15T14:00:00Z",
                "endTime": "2024-01-15T15:00:00Z",
                "location": "Conference Room B"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Event updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendEditEventResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-event-response": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Respond to an event invitation",
        "description": "Sends a response to an event invitation (RSVP).\n\n**Response Types:**\n- `going` - Confirm attendance\n- `not_going` - Decline invitation\n- `maybe` - Tentative response\n\n**Features:**\n- Specify additional guests count\n- Optional typing simulation before sending\n\n**Note:** Event responses are encrypted and require the original event's message secret.\nThis endpoint sends an encrypted response referencing the original event.\n",
        "operationId": "sendEventResponse",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendEventResponseRequest"
              },
              "example": {
                "phone": "5511999999999",
                "eventId": "3EB047ED70306656281B34",
                "response": "going",
                "extraGuestCount": 2
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Event response sent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendEventResponseResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-text-status": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send text to WhatsApp Status",
        "description": "Sends a text message to WhatsApp Status/Stories.\n\n**Status Broadcasting**: The text is automatically broadcast to all contacts\nwho can view your status based on your privacy settings. No phone number\nis required - the message is sent to `status@broadcast`.\n\n**Key Features**:\n- Custom background color (hex #RRGGBB or ARGB 0xAARRGGBB)\n- Multiple font styles (0-5)\n- FIFO queue with non-blocking response\n- Optional custom message ID for tracking\n- Delayed sending and scheduled delivery support (delayMessage or scheduledFor)\n\n**Font Styles**:\n| Value | Font Name | Description |\n|-------|-----------|-------------|\n| 0 | Sans-serif | Default clean font |\n| 1 | Serif | Classic serif font |\n| 2 | Norican Script | Elegant cursive script |\n| 3 | Bryndan Write | Handwritten style |\n| 4 | Bebasneue Regular | Bold condensed |\n| 5 | Oswald Heavy | Strong impact font |\n\n**Background Color Examples**:\n| Color | Hex Code | Description |\n|-------|----------|-------------|\n| Red | #FF5733 | Vibrant red-orange |\n| Blue | #3498DB | Sky blue |\n| Green | #2ECC71 | Emerald green |\n| Purple | #9B59B6 | Amethyst purple |\n| Orange | #F39C12 | Warm orange |\n| Pink | #E91E63 | Hot pink |\n| Teal | #1ABC9C | Turquoise |\n| Dark | #2C3E50 | Dark blue-gray |\n",
        "operationId": "sendTextStatus",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendTextStatusRequest"
              },
              "examples": {
                "simple_text": {
                  "summary": "Simple text status",
                  "description": "Basic text status with default styling",
                  "value": {
                    "text": "Hello everyone! Having a great day!"
                  }
                },
                "colored_background": {
                  "summary": "Text with colored background",
                  "description": "Text status with custom red-orange background",
                  "value": {
                    "text": "Big announcement coming soon!",
                    "backgroundColor": "#FF5733"
                  }
                },
                "custom_font": {
                  "summary": "Text with custom font",
                  "description": "Text status using Norican Script cursive font",
                  "value": {
                    "text": "Love and peace to all",
                    "backgroundColor": "#E91E63",
                    "font": 2
                  }
                },
                "full_options": {
                  "summary": "Full options example",
                  "description": "Text status with all options configured",
                  "value": {
                    "text": "Check out our new product launch!",
                    "backgroundColor": "#3498DB",
                    "font": 4,
                    "messageId": "custom-promo-status-001",
                    "delayMessage": 5
                  }
                },
                "bold_announcement": {
                  "summary": "Bold announcement style",
                  "description": "Using Oswald Heavy font for impact",
                  "value": {
                    "text": "SALE STARTS NOW - 50% OFF!",
                    "backgroundColor": "#F39C12",
                    "font": 5
                  }
                },
                "elegant_quote": {
                  "summary": "Elegant quote style",
                  "description": "Using serif font for quotes",
                  "value": {
                    "text": "The only way to do great work is to love what you do. - Steve Jobs",
                    "backgroundColor": "#2C3E50",
                    "font": 1
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Status message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendMessageResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Successful response",
                    "value": {
                      "zaapId": "BAE5F4326B5A8C91",
                      "messageId": "3EB0F4326B5A8C91D4E2",
                      "id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
                      "status": "QUEUED"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (missing text or invalid parameters)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missing_text": {
                    "summary": "Missing text field",
                    "value": {
                      "error": "text is required",
                      "code": "VALIDATION_ERROR"
                    }
                  },
                  "invalid_font": {
                    "summary": "Invalid font value",
                    "value": {
                      "error": "font must be between 0 and 5",
                      "code": "VALIDATION_ERROR"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing Client-Token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "invalid client token",
                  "code": "UNAUTHORIZED"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found",
                  "code": "NOT_FOUND"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not connected",
                  "code": "SERVICE_UNAVAILABLE"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-image-status": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send image to WhatsApp Status",
        "description": "Sends an image to WhatsApp Status/Stories with optional caption.\n\n**Status Broadcasting**: The image is automatically broadcast to all contacts\nwho can view your status based on your privacy settings. No phone number\nis required - the message is sent to `status@broadcast`.\n\n**Key Features**:\n- Image URL or base64 data URI support\n- Optional caption/text overlay\n- Automatic thumbnail generation\n- FIFO queue with non-blocking response\n- Optional custom message ID for tracking\n\n**Supported Formats**: JPEG, PNG, WebP, GIF (static)\n\n**Recommended Dimensions**: 1080x1920 pixels (9:16 aspect ratio for Stories)\n\n**Working Image URLs for Testing**:\n| Source | URL | Description |\n|--------|-----|-------------|\n| Picsum | https://picsum.photos/1080/1920 | Random HD image |\n| Unsplash | https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1080 | Mountain landscape |\n| Placeholder | https://placehold.co/1080x1920/3498DB/FFFFFF/png?text=Status | Custom placeholder |\n| Lorem Flickr | https://loremflickr.com/1080/1920/nature | Random nature image |\n",
        "operationId": "sendImageStatus",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendImageStatusRequest"
              },
              "examples": {
                "random_image": {
                  "summary": "Random HD image from Picsum",
                  "description": "Uses Picsum Photos service for random high-quality images",
                  "value": {
                    "image": "https://picsum.photos/1080/1920",
                    "caption": "Beautiful moment captured!"
                  }
                },
                "landscape_photo": {
                  "summary": "Unsplash landscape photo",
                  "description": "High-quality mountain landscape from Unsplash",
                  "value": {
                    "image": "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1080&q=80",
                    "caption": "Nature at its finest"
                  }
                },
                "nature_image": {
                  "summary": "Random nature image",
                  "description": "Random nature photography from Lorem Flickr",
                  "value": {
                    "image": "https://loremflickr.com/1080/1920/nature,landscape",
                    "caption": "Exploring the world"
                  }
                },
                "placeholder_branded": {
                  "summary": "Branded placeholder image",
                  "description": "Custom branded placeholder for testing",
                  "value": {
                    "image": "https://placehold.co/1080x1920/3498DB/FFFFFF/png?text=My+Status"
                  }
                },
                "sunset_photo": {
                  "summary": "Sunset photo from Unsplash",
                  "description": "Beautiful sunset photography",
                  "value": {
                    "image": "https://images.unsplash.com/photo-1495616811223-4d98c6e9c869?w=1080&q=80",
                    "caption": "Golden hour vibes",
                    "delayMessage": 3
                  }
                },
                "city_skyline": {
                  "summary": "City skyline",
                  "description": "Urban photography from Unsplash",
                  "value": {
                    "image": "https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=1080&q=80",
                    "caption": "City lights",
                    "messageId": "city-status-001"
                  }
                },
                "no_caption": {
                  "summary": "Image without caption",
                  "description": "Simple image status without text overlay",
                  "value": {
                    "image": "https://picsum.photos/seed/status/1080/1920"
                  }
                },
                "food_photo": {
                  "summary": "Food photography",
                  "description": "Delicious food image",
                  "value": {
                    "image": "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=1080&q=80",
                    "caption": "Bon appetit!"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Status message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendMessageResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Successful response",
                    "value": {
                      "zaapId": "BAE5F4326B5A8C92",
                      "messageId": "3EB0F4326B5A8C92D4E3",
                      "id": "b2c3d4e5-f6a7-8901-bcde-f23456789012",
                      "status": "QUEUED"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (missing image or invalid URL)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missing_image": {
                    "summary": "Missing image field",
                    "value": {
                      "error": "image is required",
                      "code": "VALIDATION_ERROR"
                    }
                  },
                  "invalid_url": {
                    "summary": "Invalid image URL",
                    "value": {
                      "error": "invalid image URL or base64 data",
                      "code": "VALIDATION_ERROR"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing Client-Token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "invalid client token",
                  "code": "UNAUTHORIZED"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found",
                  "code": "NOT_FOUND"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not connected",
                  "code": "SERVICE_UNAVAILABLE"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-audio-status": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send audio/voice note to WhatsApp Status",
        "description": "Sends an audio message to WhatsApp Status/Stories as a voice note with waveform visualization.\n\n**Status Broadcasting**: The audio is automatically broadcast to all contacts\nwho can view your status based on your privacy settings. No phone number\nis required - the message is sent to `status@broadcast`.\n\n**Key Features**:\n- Audio URL or base64 data URI support\n- **Automatic waveform generation** (64 samples for visual bars - \"ondinhas\")\n- Voice note (PTT) format with waveform visualization\n- Automatic conversion to Opus/OGG if needed\n- FIFO queue with non-blocking response\n- Optional custom message ID for tracking\n\n**Waveform Visualization**: The audio is processed to generate\n64 amplitude samples (0-100 range) that WhatsApp displays as\nthe classic wave bars in the voice note player. This creates the\nfamiliar \"ondinhas\" (little waves) visualization.\n\n**Supported Formats**: OGG (Opus), MP3, WAV, M4A, AAC, FLAC\n\n**Working Audio URLs for Testing**:\n| Source | URL | Description |\n|--------|-----|-------------|\n| SoundHelix | https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3 | Electronic music |\n| SampleLib | https://samplelib.com/lib/preview/mp3/sample-3s.mp3 | 3-second sample |\n| File Examples | https://filesamples.com/samples/audio/mp3/sample1.mp3 | MP3 sample |\n| Internet Archive | https://archive.org/download/testmp3testfile/mpthreetest.mp3 | Test MP3 |\n\n**Audio Processing Pipeline**:\n1. Download audio from URL or decode base64\n2. Detect format and convert to Opus/OGG if needed\n3. Generate 64-sample waveform for visualization\n4. Calculate duration for progress bar\n5. Upload to WhatsApp servers\n6. Send as PTT (Push-To-Talk) voice note\n",
        "operationId": "sendAudioStatus",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendAudioStatusRequest"
              },
              "examples": {
                "electronic_music": {
                  "summary": "Electronic music track",
                  "description": "Full electronic music track from SoundHelix",
                  "value": {
                    "audio": "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"
                  }
                },
                "short_sample": {
                  "summary": "Short 3-second sample",
                  "description": "Brief audio clip for quick testing",
                  "value": {
                    "audio": "https://samplelib.com/lib/preview/mp3/sample-3s.mp3"
                  }
                },
                "medium_sample": {
                  "summary": "6-second sample",
                  "description": "Medium length audio sample",
                  "value": {
                    "audio": "https://samplelib.com/lib/preview/mp3/sample-6s.mp3",
                    "delayMessage": 2
                  }
                },
                "mp3_test_file": {
                  "summary": "Standard MP3 test file",
                  "description": "Standard MP3 file for compatibility testing",
                  "value": {
                    "audio": "https://filesamples.com/samples/audio/mp3/sample1.mp3"
                  }
                },
                "with_custom_id": {
                  "summary": "Audio with custom message ID",
                  "description": "Audio status with tracking ID",
                  "value": {
                    "audio": "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",
                    "messageId": "voice-status-promo-001"
                  }
                },
                "archive_audio": {
                  "summary": "Internet Archive test audio",
                  "description": "Public domain test audio from Internet Archive",
                  "value": {
                    "audio": "https://archive.org/download/testmp3testfile/mpthreetest.mp3"
                  }
                },
                "delayed_send": {
                  "summary": "Delayed audio send",
                  "description": "Audio with 5-second delay before sending",
                  "value": {
                    "audio": "https://samplelib.com/lib/preview/mp3/sample-9s.mp3",
                    "delayMessage": 5
                  }
                },
                "song_track_3": {
                  "summary": "Electronic track 3",
                  "description": "Another electronic music option",
                  "value": {
                    "audio": "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Status message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendMessageResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Successful response",
                    "value": {
                      "zaapId": "BAE5F4326B5A8C93",
                      "messageId": "3EB0F4326B5A8C93D4E4",
                      "id": "c3d4e5f6-a7b8-9012-cdef-345678901234",
                      "status": "QUEUED"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (missing audio or invalid format)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missing_audio": {
                    "summary": "Missing audio field",
                    "value": {
                      "error": "audio is required",
                      "code": "VALIDATION_ERROR"
                    }
                  },
                  "invalid_format": {
                    "summary": "Unsupported audio format",
                    "value": {
                      "error": "unsupported audio format",
                      "code": "VALIDATION_ERROR"
                    }
                  },
                  "download_failed": {
                    "summary": "Failed to download audio",
                    "value": {
                      "error": "failed to download audio from URL",
                      "code": "DOWNLOAD_ERROR"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing Client-Token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "invalid client token",
                  "code": "UNAUTHORIZED"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found",
                  "code": "NOT_FOUND"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not connected",
                  "code": "SERVICE_UNAVAILABLE"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/send-video-status": {
      "post": {
        "tags": [
          "Messages"
        ],
        "summary": "Send video to WhatsApp Status",
        "description": "Sends a video to WhatsApp Status/Stories with optional caption.\n\n**Status Broadcasting**: The video is automatically broadcast to all contacts\nwho can view your status based on your privacy settings. No phone number\nis required - the message is sent to `status@broadcast`.\n\n**Key Features**:\n- Video URL or base64 data URI support\n- Optional caption/text overlay\n- Automatic thumbnail generation\n- FIFO queue with non-blocking response\n- Optional custom message ID for tracking\n\n**Supported Formats**: MP4, 3GP, MOV, AVI, WebM\n**Duration Limit**: WhatsApp status videos are limited to 30 seconds\n**Recommended Resolution**: 720p or 1080p vertical (9:16 aspect ratio)\n\n**Working Video URLs for Testing**:\n| Source | URL | Description |\n|--------|-----|-------------|\n| Blender | https://download.blender.org/peach/bigbuckbunny_movies/BigBuckBunny_320x180.mp4 | Big Buck Bunny (small) |\n| Sample Videos | https://sample-videos.com/video321/mp4/720/big_buck_bunny_720p_1mb.mp4 | 720p 1MB sample |\n| File Samples | https://filesamples.com/samples/video/mp4/sample_640x360.mp4 | 640x360 sample |\n| Test Videos | https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/360/Big_Buck_Bunny_360_10s_1MB.mp4 | 10s test video |\n\n**Video Processing Pipeline**:\n1. Download video from URL or decode base64\n2. Validate format and duration (max 30s for status)\n3. Generate thumbnail frame\n4. Upload to WhatsApp servers\n5. Send to status@broadcast\n",
        "operationId": "sendVideoStatus",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendVideoStatusRequest"
              },
              "examples": {
                "big_buck_bunny_small": {
                  "summary": "Big Buck Bunny (small file)",
                  "description": "Classic open-source animated short, small file size",
                  "value": {
                    "video": "https://download.blender.org/peach/bigbuckbunny_movies/BigBuckBunny_320x180.mp4",
                    "caption": "Check out this animation!"
                  }
                },
                "sample_720p": {
                  "summary": "720p sample video (1MB)",
                  "description": "Quick loading 720p sample video",
                  "value": {
                    "video": "https://sample-videos.com/video321/mp4/720/big_buck_bunny_720p_1mb.mp4",
                    "caption": "HD quality status"
                  }
                },
                "test_10_seconds": {
                  "summary": "10-second test video",
                  "description": "Short 10-second video perfect for status",
                  "value": {
                    "video": "https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/360/Big_Buck_Bunny_360_10s_1MB.mp4",
                    "caption": "Quick clip!"
                  }
                },
                "file_sample": {
                  "summary": "Standard MP4 sample",
                  "description": "Standard file samples MP4",
                  "value": {
                    "video": "https://filesamples.com/samples/video/mp4/sample_640x360.mp4"
                  }
                },
                "no_caption": {
                  "summary": "Video without caption",
                  "description": "Simple video status without text",
                  "value": {
                    "video": "https://sample-videos.com/video321/mp4/480/big_buck_bunny_480p_1mb.mp4"
                  }
                },
                "with_tracking": {
                  "summary": "Video with custom tracking ID",
                  "description": "Video status with custom message ID for tracking",
                  "value": {
                    "video": "https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/720/Big_Buck_Bunny_720_10s_1MB.mp4",
                    "caption": "Promo video",
                    "messageId": "video-promo-campaign-001"
                  }
                },
                "delayed_video": {
                  "summary": "Delayed video send",
                  "description": "Video with 5-second delay before sending",
                  "value": {
                    "video": "https://sample-videos.com/video321/mp4/360/big_buck_bunny_360p_1mb.mp4",
                    "caption": "Coming soon...",
                    "delayMessage": 5
                  }
                },
                "sintel_trailer": {
                  "summary": "Sintel trailer (larger file)",
                  "description": "Blender's Sintel animated short trailer",
                  "value": {
                    "video": "https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4",
                    "caption": "Epic adventure"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Status message enqueued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendMessageResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Successful response",
                    "value": {
                      "zaapId": "BAE5F4326B5A8C94",
                      "messageId": "3EB0F4326B5A8C94D4E5",
                      "id": "d4e5f6a7-b8c9-0123-def0-456789012345",
                      "status": "QUEUED"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (missing video, invalid format, or duration exceeded)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missing_video": {
                    "summary": "Missing video field",
                    "value": {
                      "error": "video is required",
                      "code": "VALIDATION_ERROR"
                    }
                  },
                  "invalid_format": {
                    "summary": "Unsupported video format",
                    "value": {
                      "error": "unsupported video format",
                      "code": "VALIDATION_ERROR"
                    }
                  },
                  "duration_exceeded": {
                    "summary": "Video too long for status",
                    "value": {
                      "error": "video duration exceeds 30 seconds limit for status",
                      "code": "VALIDATION_ERROR"
                    }
                  },
                  "download_failed": {
                    "summary": "Failed to download video",
                    "value": {
                      "error": "failed to download video from URL",
                      "code": "DOWNLOAD_ERROR"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing Client-Token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "invalid client token",
                  "code": "UNAUTHORIZED"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not found",
                  "code": "NOT_FOUND"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected to WhatsApp",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": "instance not connected",
                  "code": "SERVICE_UNAVAILABLE"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/contacts/{phone}/metadata": {
      "get": {
        "tags": [
          "Contacts"
        ],
        "summary": "Get contact metadata",
        "description": "Retrieves detailed metadata for a specific contact.\n\n**Data Returned:**\n- Phone number\n- Display name\n- Status/About text\n- Profile picture URL\n- WhatsApp registration status\n",
        "operationId": "getContactMetadata",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "name": "phone",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Phone number in international format (numbers only)",
            "example": "5511999999999"
          }
        ],
        "responses": {
          "200": {
            "description": "Contact metadata retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContactMetadataResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid phone number",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/contacts/{phone}/profile-picture": {
      "get": {
        "tags": [
          "Contacts"
        ],
        "summary": "Get contact profile picture",
        "description": "Retrieves the profile picture URL for a specific contact.\n\n**Note:** Returns empty or error if contact has privacy settings\nthat hide their profile picture from you.\n",
        "operationId": "getContactProfilePicture",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          },
          {
            "name": "phone",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Phone number in international format (numbers only)",
            "example": "5511999999999"
          }
        ],
        "responses": {
          "200": {
            "description": "Profile picture retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfilePictureResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid phone number",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/modify-blocked": {
      "post": {
        "tags": [
          "Contacts"
        ],
        "summary": "Block or unblock a contact",
        "description": "Blocks or unblocks a WhatsApp contact.\n\n**Actions:**\n- `block`: Block the contact (they can't message you)\n- `unblock`: Unblock a previously blocked contact\n",
        "operationId": "modifyBlocked",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ModifyBlockedRequest"
              },
              "example": {
                "phone": "5511999999999",
                "action": "block"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Contact blocked/unblocked successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ModifyBlockedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/profile-name": {
      "put": {
        "tags": [
          "Profile"
        ],
        "summary": "Update profile name",
        "description": "Updates the profile name (push name) for the connected WhatsApp account.\n\n**Note:** This is the name that appears to other users in their\nchat list and message notifications.\n",
        "operationId": "updateProfileName",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProfileNameRequest"
              },
              "example": {
                "name": "John Doe"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profile name updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateProfileNameResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/profile-picture": {
      "put": {
        "tags": [
          "Profile"
        ],
        "summary": "Update profile picture",
        "description": "Updates the profile picture for the connected WhatsApp account.\n\n**Image Format:**\n- Base64-encoded JPEG image\n- Image URL (http/https)\n- Empty string to remove profile picture\n\n**Requirements:**\n- JPEG format recommended\n- Other formats may be rejected\n",
        "operationId": "updateProfilePicture",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProfilePictureRequest"
              },
              "example": {
                "image": "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD..."
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profile picture updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateProfilePictureResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request or image format",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/instances/{instanceId}/token/{instanceToken}/profile-description": {
      "put": {
        "tags": [
          "Profile"
        ],
        "summary": "Update profile description",
        "description": "Updates the profile description (About/Status) for the connected WhatsApp account.\n\n**Note:** This is the text that appears in your profile's \"About\" section.\nCan be empty to clear the description.\n",
        "operationId": "updateProfileDescription",
        "security": [
          {
            "ClientTokenAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/InstanceId"
          },
          {
            "$ref": "#/components/parameters/InstanceToken"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProfileDescriptionRequest"
              },
              "example": {
                "description": "Available for business inquiries"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profile description updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateProfileDescriptionResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "Instance not connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/media/stats": {
      "get": {
        "tags": [
          "Media"
        ],
        "summary": "Get media storage statistics",
        "description": "Returns statistics about the media storage system.\n\n**Statistics Include:**\n- Total number of stored files\n- Total storage size in bytes\n- Base storage path configuration\n- URL expiration settings\n- Public base URL for media access\n\n**Use Cases:**\n- Monitor storage usage\n- Capacity planning\n- Debug media configuration\n",
        "operationId": "getMediaStats",
        "security": [
          {
            "PartnerBearer": []
          }
        ],
        "responses": {
          "200": {
            "description": "Media statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MediaStatsResponse"
                },
                "example": {
                  "total_files": 1234,
                  "total_bytes": 1073741824,
                  "base_path": "/data/media",
                  "url_expiry": "24h0m0s",
                  "public_base_url": "https://api.example.com/media"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    }
  }
}
