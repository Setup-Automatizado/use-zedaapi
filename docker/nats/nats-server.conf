# NATS Server Configuration for ZedaAPI WhatsApp API
# JetStream enabled for message queue, event pipeline, and media processing

# Server identity
server_name: zedaapi-nats

# Client connections
port: 4222
max_connections: 50000
max_payload: 8MB

# HTTP monitoring
http_port: 8222

# JetStream configuration
jetstream {
  store_dir: /data/jetstream
  max_memory_store: 1GB
  max_file_store: 100GB
}

# Logging
debug: false
trace: false
logtime: true

# Slow consumer handling
max_pending: 64MB

# Ping/Pong keepalive
ping_interval: "30s"
ping_max: 3

# Write deadline for slow consumers
write_deadline: "10s"
