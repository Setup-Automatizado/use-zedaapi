# Development environment overrides
# Use with: docker-compose -f docker-compose.yml -f docker-compose.dev.yml up

version: '3.9'

services:
  api:
    build:
      target: development
    ports:
      - "8080:8080"
      - "6060:6060"  # pprof
    environment:
      LOG_LEVEL: debug
      ENVIRONMENT: development
      GIN_MODE: debug
    volumes:
      - ../../:/app
      - go-cache:/go/pkg

  postgres:
    ports:
      - "5432:5432"
    environment:
      POSTGRES_HOST_AUTH_METHOD: trust  # Development only!

  redis:
    ports:
      - "6379:6379"

  minio:
    ports:
      - "9000:9000"
      - "9001:9001"

volumes:
  go-cache:
